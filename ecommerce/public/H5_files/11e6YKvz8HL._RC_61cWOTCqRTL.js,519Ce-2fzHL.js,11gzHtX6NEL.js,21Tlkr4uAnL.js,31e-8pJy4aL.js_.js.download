(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(C){var t=window.AmazonUIPageJS||window.P,aa=t._namespace||t.attributeErrors,U=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):t;U.guardFatal?U.guardFatal(C)(U,window):U.execute(function(){C(U,window)})})(function(C,t,aa){C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(q,a,f,H,k,I,J){function V(g,c,p,A,m){if(!f.isjQueryObjDefined(g.find(".a-button-selected"))){var b=
E.getCurrentItem();if(!A||"chromeless-video"!==b.type||!d.autoplayVideo){A=0;"image"===b.type&&(A=Math.max(f.getIndexForVariant(b.color,b.variant,d),0));var e=0;f.isDefined(d.heroImage[b.color])&&(e=d.heroImage[b.color].length);m=A-(c>=d.maxAlts?d.maxAlts-m-e:0);c=0<=m?c+m:A+e;c>=p&&(A=0,c=e);p=f.getImageHash(b.color,A,d);-1!==p&&(K.dispatch("updateModel",{data:{index:A,thumbnailIndex:c,variant:p.variant,type:"image",shoppableScene:p.shoppableScene}}),p=g.find(".item").get(c),f.selectGivenThumbnail(a(p),
g))}}}function M(a){if(!d.useChildVideos)return f.lazyLoadingRequired(E.getCurrentItem(),E,d)?void 0:d.videos;if(d.colorToVideo[a])return d.colorToVideo[a];var c=d.colorToAsin[a];if(c&&c.asin){var g={};g.params={asin:c.asin,productGroupID:d.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:d.useChromelessVideoPlayer,isUDP:d.isUDP};d.isDPXFeatureEnabled||(g.success=function(c){videosOnTwisterRefresh(c)},H.load(VIDEO_AJAX_ENDPOINT,g));return d.colorToVideo&&d.colorToVideo[a]}}function w(y,
c,p){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&p)return y;var m=M(c),u=f.isDefined(m)&&0<m.length&&d.alwaysIncludeVideo?1:0;c=d.colorImages&&d.colorImages[c];m=y;var b=0;f.isDefined(c)&&(a.each(c,function(c,n){if(b>=d.maxAlts-u&&y<d.maxAlts+d.additionalNumberOfImageAlts){if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){var e=a(".thumbItemUnrolled");e[y]?e[y].querySelector("img").src=n.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(y+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(y+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(y+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+n.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:c,thumbnailIndex:y,variant:n.variant,shoppableScene:n.shoppableScene},n.thumb,g,"imageThumbnail");y++}b++}),I.isEnabled&&J.logAltImgRequestPlacedOnThumbnails(a,I,E),V(g,m,y,p,u));return y}function F(a,c){d.useIV&&f.isDefined(c.hiRes)&&a.css("cursor","pointer")}function D(g,c){if("image"===g.type){var p=a("#image-canvas-caption #canvasCaption"),m=d.staticStrings,y=d.colorImages,b=g.color,e=g.index;if(f.isShoppableScenesEnabled()&&g.shoppableScene)var n=m.clickSceneTagsToShopProducts;else c&&
d.useIV?n=m.clickToExpand:y[b]&&y[b][e].hiRes&&d.useHoverZoom?(n=d.useHoverZoomIpad?m.touchToZoom:d.useClickZoom?m.clickToZoom:m.rollOverToZoom,d.hoverZoomIndicator&&(n="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+n)):d.useIV&&(n=m.clickToExpand);p.html(n)}}function G(g,c){var p="a-dynamic-image";if(!d.acEnabled){var m;a.each(g.main,function(b,c){f.isDefined(m)||(m=parseFloat(c[1]/c[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});p+=m}var y=f.getMaxDimensionsOfMainImage(g.main,
B,d),b=y[0],e=y[1];y=a("\x3cdiv\x3e\x3c/div\x3e");b={"max-height":b,"max-width":e};y.addClass(p).css(b).attr({"data-old-hires":g.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",g.main);return y}function v(f,c,a){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+f;"function"==typeof uet&&uet("bb",g,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+f);a=m.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
a.addClass("celwidget").attr("cel_widget_id",g);a.children("span").css("display","inline-block");K.dispatch("initialize-shoppable-scene",{index:f,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(a,b){a.forEach(function(e){"childList"===e.type&&e.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===e.addedNodes.length&&"IMG"===e.addedNodes[0].tagName&&""!==e.addedNodes[0].src&&(e=e.addedNodes[0],"function"!==typeof e.onload&&(e.onload=function(){q.trigger("shoppable-scene-image-loaded",{index:f,shoppableScene:c.shoppableScene})}),b.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return a}function z(a,c,g){g=G(a,g);a=f.isShoppableScenesEnabled()&&a.shoppableScene?v(c,a,g):m.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(g);m.find(".list").append(a);q.loadImageManually(g);return a}function S(a){var c=B.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");d.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}function O(g,
c,p,L){if(2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||L||"unavailable"===g.type){if("image"===g.type||"unavailable"===g.type||"lazy-loaded"===g.type){p=f.getImageHash(g.color,g.index,d);if(-1===p)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(g,E,d)||(K.dispatch("updateModel",c),f.showUnavailable(g.color)),-1;L=m.find(".item.itemNo"+g.thumbnailIndex);f.isjQueryObjDefined(L)||(L=z(p,g.thumbnailIndex,c));S(L);K.dispatch("loadMagnifier");
D(g);F(L,p);q.trigger("dp:image-block:update",p)}}else{g=d.colorImages&&d.colorImages[p];c=a(".unrolledImg");p=M(p);var r=f.isDefined(p)&&0<p.length&&d.alwaysIncludeVideo?1:0;c.length>d.maxAlts&&c.each(function(b){b>=d.maxAlts&&a(this).remove()});f.isDefined(g)&&a.each(g,function(b,c){b<d.maxAlts-r+d.additionalNumberOfImageAlts&&b>=d.maxAlts-r&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+r+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(b+r)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+r)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}}function x(a){var c=E.getCurrentItem().color;d.colorImages[c]||(d.colorImages[c]=a);a={type:"updatedData",data:E.getCurrentItem()};K.dispatch("updateView",a);(c=d.colorToAsin[c])&&c.asin&&C.register(f.rankedImagesReadyEvent(c.asin))}function h(){var g=m.find(".item .imgTagWrapper"),c=f.getContainerHeight(B,d.holderRatio,d.holderMaxHeight);
0<c&&(B.height(c),g.height(c));m.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&q.loadDynamicImage(this);var g=c.data("a-dynamic-image");g=f.getMaxDimensionsOfMainImage(g,B,d);c.css({"max-height":g[0]+"px","max-width":g[1]+"px"})})}function L(a){D(E.getCurrentItem(),"mouseenter"===a.type)}var r,d,E,K,g,m,B,T;return function(k,c,p,D){r=this;d=k;E=c;K=D;q.on("triggerImageAjax",x);d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];r.render=function(c,
b,e,n,p,l,Q){m=e;g=n;B=p;T=w(b,c,l);l||(b=E.getCurrentItem(),f.lazyLoadingRequired(b,E,d)&&K.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=E.getCurrentItem();e=!l;f.lazyLoadingRequired(b,E,d)||(a("#imageBlock").css("opacity","1"),m.css("opacity","1"),f.spinner(m,!1),m.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&m.find(".list .item").remove());O(E.getCurrentItem(),Q,c,l);return T};r.update=function(c){};d.overrideAltImageClickAction&&
f.addTag("clickEnabledOnAltImages");K.register("imageHover",L);K.register("resize",h)}});"use strict";C.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(q,a,f){var t,k,I,J;return function(a,H,w,F){t=this;k=a;I=F;t.render=function(a,w,v,z,F,H,x){J=z;t=this;v=k.maxAlts;z=w;F=k.colorImages[a]?k.colorImages[a].length:0;F+=f.getVideosCount(a,k);a=k.heroImage[a];H=0;a&&(H=a.length);a=F+H;a>v&&(v=a-v,a=J.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
v+="+",z={type:"ingress",index:0,thumbnailIndex:w,variant:""},a.find("#altIngressText").append(v),q.declarative.create(a,"thumb-action",z),J.append(a),z=w++);return z};t.update=function(a){"ingress"===a.data.type&&"click"===a.type&&I.dispatch("imageClick",a)}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(q,a,f,t){function k(L,r,d,h){if(!f.isjQueryObjDefined(L.find(".a-button-selected"))){var k=z.getCurrentItem();if(!h||"chromeless-video"!==
k.type||!v.autoplayVideo){h=0;if("hero-image"===k.type){h=J(k.color,k.variant);if(-1===h)return;h=-1!==h?h:0}var g=r+h;g>=d&&(h=0,g=r);r=t.getHeroImageHash(v,k.color,h);-1!==r&&(C.dispatch("updateModel",{data:{index:h,thumbnailIndex:g,variant:r.variant,type:"hero-image"}}),r=L.find(".item").get(g),f.selectGivenThumbnail(a(r),L))}}}function H(h,r,d){if("hero-video"===z.getCurrentItem().type)return h;r=v.heroImage&&v.heroImage[r];var L=h;f.isDefined(r)&&(a.each(r,function(a,g){h<v.maxAlts&&(f.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:h,variant:g.variant},g.thumb,O,"imageThumbnail"),h++)}),k(O,L,h,d));return h}function J(h,r){var d=v.heroImage;if(1>d.length||!f.isDefined(d[h])||!f.isDefined(r))return-1;var k=-1;a.each(d[h],function(a,g){g.variant===r&&(k=a)});return k}function V(){if(x.length&&v.repositionHeroImage){var a=t.getHeroDimParams(v,z.getCurrentItem());if(f.isDefined(a)){var h=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ";x.css({"background-position":h,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""})}}}function M(a,h,d,k){if(x.length&&a&&h){if("function"===typeof d||k){var r=new Image;r.onload=k?function(){x.css("background-image",'url("'+a+'")')}:d;r.src=a}d=h[1];r=h[0];k||x.css({"background-image":'url("'+a+'")'});if(v.repositionHeroImage&&(h=t.getHeroDimParams(v,z.getCurrentItem(),h),f.isDefined(h))){d=h.width;r=h.height;var g=f.isDefined(h.xPos)?h.xPos+"px "+h.yPos+"px ":"center "+h.yPos+
"px "}x.css({"background-position":g,"background-size":d+"px "+r+"px ","max-width":d+"px ","min-height":r+"px ",filter:"","-ms-filter":""})}}function w(f,h,d,k){f=t.getHeroImageHash(v,f,h);if(-1===f)return-1;h=a.map(f.main,function(a,g){return g})[0];M(h,f.main[h],d,k)}function F(a,f,h){if("hero-image"!==a.type)return-1;var d=J(a.color,z.getCurrentItem().variant);d=-1!==d?d:0;if(-1===t.getHeroImageHash(v,a.color,d))return-1;var k=z.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;
a.variant=k.variant;a.index=d;D(a,f,h)}function D(a,f,d){var k=t.getHeroImageHash(v,a.color,a.index);var r=a&&h&&q.equals(a,h)?!0:!1;h||(h=a);if(!r&&a||f)w(a.color,a.index,f,d),h=a;x.removeClass("hide-background");q.trigger("dp:image-block:update",k)}var G,v,z,C,O,x,h={};return function(h,k,d,q){G=this;v=h;z=k;C=q;v.heroImage[v.landingAsinColor]=v.heroImage[v.defaultColor];G.render=function(f,g,h,d,k,r,c){O=d;x=a("#heroImage");f=H(g,f,r);F(z.getCurrentItem(),c,r);return f};G.update=function(a){var g=
a.data;"ingress"!==g.type&&x.addClass("hide-background");"swatchHover"===a.type?a.captured||(g.type=z.getCurrentItem().type,-1!==F(g)&&(a.captured=!0)):"hero-image"===g.type&&(D(g),"click"!==a.type&&v.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,O))};C.register("resize",V)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(q,a,f,H,k,I){function J(a){O?a.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function C(a){var h=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(h)){h=h[1].split("_");for(var k=0;k<h.length;k++){var r=h[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(r)&&(a[r[1]]=parseInt(r[2],10))}}return a}function M(x,h){function v(){if(h.useClickZoom){var a=h.offsetInClickZoom;a=[Math.min(1,Math.max(0,A[0]-(b[0]+a))/(b[2]-2*a)),Math.min(1,Math.max(0,A[1]-(b[1]+a))/
(b[3]-2*a))]}else a=p&&p.updatePosition();if(a&&c&&c.detailSize){var e=[c.detailSize[0]-c.rect.width,c.detailSize[1]-c.rect.height];q.capabilities.rtl?c.detailImage.get(0).style.right=-(a[0]*e[0])+"px":c.detailImage.get(0).style.left=-(a[0]*e[0])+"px";c.detailImage.get(0).style.top=-(a[1]*e[1])+"px"}}function r(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function d(b){var c=Q?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";A=Q?[c.pageX,c.pageY]:[b.pageX,b.pageY];
if(q.capabilities.rtl){var e=a(t).width();A=Q?[e-c.pageX,c.pageY]:[e-b.pageX,b.pageY]}}function w(a){Q&&a.preventDefault();d(a);h.useClickZoom?a=[b[0],b[1],b[0]+b[2],b[1]+b[3]]:(a=p?p.offset:x.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,z.width()+a.left,z.height()+a.top]:[u[0]+a.left,u[1]+a.top,u[0]+u[2]+a.left,u[1]+u[3]+a.top]);A[0]<a[0]||A[1]<a[1]||A[0]>=a[2]||A[1]>=a[3]||D.acEnabled&&!r(x)?(h.fadeMagnifier?Z||(Z=!0,ba=setTimeout(function(){F(!0)},500)):h.useClickZoom||F(),G&&(G=!1,clearTimeout(M))):
(G||(G=!0,M=setTimeout(function(){H.postCountMetric("dppc_hoverZoomOpened");k.isEnabled&&I.logHoverZoomRequestServed(k)},1E3)),h.fadeMagnifier&&Z&&(Z=!1,clearTimeout(ba)),v())}function F(b){b&&B.suppressMagnifier(!0);if(n&&(c&&c.hide(),p&&(p.destroy(),p=null),n=!1,Q?(x.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),m(),b))x.one("click.magnifier touchstart.magnifier",
function(a){g(a,!0)})}function g(e,f){f&&B.suppressMagnifier(!1);if(!n&&!N&&(0===R&&(H.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),R=1),da[l]||(H.postCountMetric("dppc_hoverMain"),da[l]=1),u=[x.position().left,x.position().top,x.width(),x.height()],l&&(d(e),c?c.refit().show():c=new W,h.useClickZoom||(p=p||new P),b=c.getWindowSize(),v()),n=!0,Q?(x.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",F),a(document).trigger("engaged.magnifier")):
(D.acEnabled?z.unbind("mousemove.magnifier"):x.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),f&&(e=a("#zoomWindow"),0<e.length)))e.one("click.magnifier touchend.magnifier",function(a){F(!0)})}function m(){h.useHoverZoom&&(Q?x.bind("touchstart.magnifier touchmove.magnifier",g):D.acEnabled?r(x)&&z.bind("mousemove.magnifier",g):x.bind("mousemove.magnifier",g))}var B=this,z=x.offsetParent(),y={detailImageUrl:x.attr("data-old-hires"),location:"over",
locationElement:x,prelaod:"ready",zIndex:50,offsetInClickZoom:50};h=a.extend(y,h);h.adjustment=[10,0,-10,0];var c=null,p=null,A=null,u=null,b=null,e={"null":1,"":1,undefined:1},n=!1,N=!1,l=h.detailImageUrl,Q=h.useHoverZoomIpad||0,R=0,da={},P=function(){function b(a){var b=Math.round(Math.min(x.width(),c.rect.width/a));a=Math.round(Math.min(x.height(),c.rect.height/a));n.css({width:b,height:a});f=[b,a]}var e=this,f=[0,0],l=(c.detailSize&&c.detailSize[0]||5E8)/u[2],g=(c.detailSize&&c.detailSize[1]||
5E8)/u[3];l=g>l?g:l;a("#magnifierLens").remove();var n=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});h.generalImageUrls.zoomLensBackground&&n.css({backgroundImage:"url("+h.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?J(n):n.css("cursor","pointer");e.updatePosition=function(){var a=[u[2]-f[0],u[3]-f[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(A[0]-f[0]/2-u[0]-e.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(A[1]-f[1]/2-u[1]-e.offset.top)/a[1])),l=u[0]+
Math.round(b*a[0]);a=u[1]+Math.round(c*a[1]);n.get(0).style.left=l+"px";n.get(0).style.top=a+"px";return[b,c]};e.destroy=function(){n.remove()};e.offset=x.offsetParent().offset();b(l);e.updatePosition();n.appendTo(x.parent());c.detailImage[0].complete||c.detailImage.load(function(){var a=c.detailImage.width()/u[2];b(a);e.updatePosition()})};P.preload=function(){B.preload(h.generalImageUrls.lensBackgroundUrl)};var W=function(){function b(){var b={};if("over"===h.location){b=h.useClickZoom;var c={},
l=a("#leftCol"),n=a("#centerCol"),m=a("#rightCol"),Q=a("#hover-zoom-end"),k=a("#actionPanelContainer"),P=f.isjQueryObjDefined(l)?l.outerHeight():n.outerHeight();c.top=f.isjQueryObjDefined(l)?l.offset().top:n.offset().top;c.bottom=P+c.top;c.right=f.isjQueryObjDefined(m)?m.offset().left:k.offset().left;c.left=b?0:l.offset().left+l.outerWidth();f.isjQueryObjDefined(Q)&&Q.offset().top>c.bottom&&(c.bottom=Q.offset().top);b=c}else"right"===h.location&&(b=x.offset(),b={left:b.left+x.outerWidth(),top:b.top,
right:b.left+x.outerWidth()+400,bottom:b.top+400});h.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(h.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,a(t).scrollTop()+a(t).height());b.left+=g[0];b.top+=g[1];b.right+=g[2];b.bottom+=g[3];b.width=b.right-b.left;b.height=b.bottom-b.top;h.enhancedHoverOverlay&&f.isDefined(t.pageXOffset)&&(c=a(t).width(),b.width=c-b.left+t.pageXOffset-18,b.height-=14);d.css({left:b.left,top:b.top,width:b.width,height:b.height});e.rect=b;return e}function c(b){var a=
new Image;e.detailSize=[0,0];a.onload=function(){e.detailSize=[a.width,a.height];v()};a.src=b.attr("src");if(0<a.width&&0<a.height)e.detailSize=[a.width,a.height];else if(h.detailImageSize)e.detailSize=h.detailImageSize;else{b=C(a.src);var c=u[2]/u[3];b.SS||b.AA?(b=b.SS||b.AA,e.detailSize=[b,b]):b.SX?e.detailSize=[b.SX,Math.round(b.SX/c)]:b.SY?e.detailSize=[Math.round(b.SY*c),b.SY]:b.SL&&(e.detailSize=1<=c?[b.SL,Math.round(b.SL/c)]:[Math.round(b.SL*c),b.SL])}}var e=this,g=h.adjustment;a("#zoomWindow").remove();
var n={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:h.zIndex};h.enhancedHoverOverlay&&(n.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",n.border="1px solid #949494",n.borderColor="rgb(148,148,148)");var d=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(n);h.fadeMagnifier&&d.fadeIn(200);h.useClickZoom&&(O?d.css("cursor",'url("'+h.zoomOutIcon+'"), auto'):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out")));e.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+
b+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();d.append(b);a(document).trigger("updated.magnifier");e.detailImage=b;c(e.detailImage)};e.refit=function(){b();c(e.detailImage);return e};h.fadeMagnifier?(e.show=function(){d.fadeIn(200);return e},e.hide=function(){d.fadeOut(200);return e}):(e.show=function(){d.show();return e},e.hide=function(){d.hide();return e});e.destroy=function(){d.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,
e.rect.height]};e.updateImage(l);b();d.appendTo(document.body)},Z=!1,ba,G=!1,M;B.preload=function(b){b=a.makeArray(b);for(var c=b.length,l=0;l<c;l++)b[l]instanceof Array?B.preload(b[l]):"string"===typeof b[l]&&b[l]&&!e[b[l]]&&(e[b[l]]=new Image,e[b[l]].src=b[l])};B.changeImage=function(b,e){n&&F();l=e;x.attr("src",b);B.preload(b);u=[x.position().left,x.position().top,x.width(),x.height()];e&&("immediately"===h.preload?B.preload(e,!0):a(t).ready(function(){B.preload(e)}),c?c.updateImage(e):x.attr("data-old-hires",
e))};B.destroy=function(){D.acEnabled?z.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):x.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");p&&p.destroy();p=null;c&&c.destroy();c=null};B.detailImage=function(){return c.detailImage};B.suppressMagnifier=function(b){N=b};B.isEngaged=function(){return n};B.engageMagnifier=g;B.disengageMagnifier=F;x[0].complete?m():x.one("load",m);B.preload(x.attr("src"));
t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(h.preload){var V=h.detailImageUrl;y=function(){B.preload(V,!0);h.useClickZoom||P.preload()};var X=h.preload;X.constructor!==Array&&(X=[X]);for(var S=0;S<X.length;S++)if("immediately"===X[S])y();else if(a(t)[X[S]])a(t)[X[S]](y);else a(t).bind(X[S],y)}return B}function w(){if(D.useHoverZoom){var q={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};z&&(z.destroy(),z=aa);var h=S.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(h)?D.useClickZoom?(h.one("click.loadmagnifier touchstart.loadmagnifier",function(a){z=
new M(h,q);z.engageMagnifier(a,!0)}),O?h.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(h.css("cursor","-webkit-zoom-in"),h.css("cursor","-moz-zoom-in"),h.css("cursor","zoom-in"))):z=new M(h,q):k.isEnabled&&I.logHoverZoomApplicability(a,k)}}var F,D,G,v,z,S,O=navigator.userAgent.match(/msie|trident/i);return function(a,f,q,r){F=this;D=a;G=f;k.refToModel=G;v=r;F.render=function(a,f,h,g,m,k){S=h;z&&(z.destroy(),z=aa)};F.update=function(a){};v.register("loadMagnifier",w);v.register("resize",
w)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(q,a,f,H){function k(a,k,q){a=(a=q?q:f.getColorFromState(k.getState().hovered_variations,C))&&""!==a?a:C.defaultColor;w.dispatch("updateView",{type:"swatchHover",data:{color:a}});H.postCountMetric("swatchHover")}function I(a,k,q,v){a=(a=v?v:f.getColorFromState(k.getState().selected_variations,C))&&""!==a?a:C.defaultColor;a===M.getCurrentItem().color?"function"===typeof q&&q():(w.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a);q()}}),H.postCountMetric("swatchClick"))}var J,C,M,w;return function(a,f,t,v){J=this;C=a;M=f;w=v;q.on("image-block-twister-swatch-hover",k);q.on("image-block-twister-swatch-click",I);J.render=function(a,f,k,q,h){};J.update=function(a){}}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(q,a,f,H,k,I,J){function V(b,c,e,n){if(!f.isjQueryObjDefined(b.find(".a-button-selected"))){var l=m.getCurrentItem();if(!n||"chromeless-video"!==l.type||!g.autoplayVideo)if(n=0,"image"===l.type&&(n=Math.max(D(l.color,l.variant),0)),!(l.thumbnailIndex>=g.maxAlts&&0!=n)){var d=c+n;d>=e&&(n=0,d=c);c=f.getImageHash(l.color,n,g);-1!==c&&(B.dispatch("updateModel",{data:{index:n,thumbnailIndex:d,variant:c.variant,type:"image",
shoppableScene:c.shoppableScene}}),c=b.find(".item").get(d),f.selectGivenThumbnail(a(c),b))}}}function M(b,e,n){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&n)return b;var l=g.colorImages&&g.colorImages[e];e=b;2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=l.length||b>=g.maxAlts)&&a(this).remove()});f.isDefined(l)&&(a.each(l,function(e,n){if(b<g.maxAlts)if(2===
g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){b++;var d=a(".thumbItemUnrolled");d[e]?d[e].querySelector("img").src=n.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+n.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e={type:"image",index:e,thumbnailIndex:b,variant:n.variant,shoppableScene:n.shoppableScene},n=f.createThumbnail(e,n.thumb,c,"imageThumbnail"),g.collapsibleThumbnails&&f.updateImageThumbnailOverlay(n,e,l),b++}),I.isEnabled&&J.logAltImgRequestPlacedOnThumbnails(a,I,m),V(c,e,b,n));return b}function w(b,a){g.useIV&&f.isDefined(a.hiRes)&&
b.css("cursor","pointer")}function F(b,c){if("image"===b.type){var e=a("#image-canvas-caption #canvasCaption"),l=g.staticStrings,n=g.colorImages,d=b.color,h=b.index;if(f.isShoppableScenesEnabled()&&b.shoppableScene)var m=l.clickSceneTagsToShopProducts;else c&&g.useIV?m=l.clickToExpand:n[d]&&n[d][h].hiRes&&g.useHoverZoom?(m=g.useHoverZoomIpad?l.touchToZoom:g.useClickZoom?l.clickToZoom:l.rollOverToZoom,g.hoverZoomIndicator&&(m="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+m)):g.useIV&&
(m=l.clickToExpand);e.html(m)}}function D(b,a){return f.getIndexForVariant(b,a,g)}function G(b,a,c){var e=a.thumbnailIndex,f=g.colorToAsin[a.color]&&g.colorToAsin[a.color].asin;a="altImageHover"===c&&u&&u.altImageIdx===e&&u.asin===f&&"swatchClick"===u.event?!0:"swatchHover"===c?u&&u.asin===f&&u.event===c:u&&u.altImageIdx===e&&u.asin===f&&u.event===c;if(!a){var l="#",d=b.find(".imgTagWrapper img").get(0);d&&(l=d.src);b=new Image;b.onload=function(){if(d){d.src=l;var b=d.width,a=d.height,g=d.naturalWidth,
h=d.naturalHeight;try{var m=(Math.abs(b/g*h-a)/a).toFixed(2);.01<m&&(t.ue&&((("landing"!==c||n||N)&&"swatchClick"!==c||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||N?"altImageHover"!==c||n||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),n=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),N=!0)),t.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
t.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" Event:"+c+" Diff:"+m.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" at altImageIdx "+e+" Event:"+c+" Diff:"+m.toString()+"]"},b)))}catch(ja){t.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(ja,b))}}};"#"!==l&&(b.src=l);u.altImageIdx=e;u.asin=f;u.event=c}}function v(b,c){var e="a-dynamic-image";if(!g.acEnabled){var l;
a.each(b.main,function(b,a){f.isDefined(l)||(l=parseFloat(a[1]/a[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=l}var n=f.getMaxDimensionsOfMainImage(b.main,A,g),d=n[0],h=n[1];n=a("\x3cdiv\x3e\x3c/div\x3e");d={"max-height":d,"max-width":h};n.addClass(e).css(d).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",b.main);return n}function z(b,a,c){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&
uet("bb",e,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",e);c.children("span").css("display","inline-block");B.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});
"MutationObserver"in t&&(new MutationObserver(function(c,e){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){q.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),e.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return c}function S(b,a,c){c=v(b,c);b=f.isShoppableScenesEnabled()&&b.shoppableScene?z(a,b,c):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");b.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});b.find(".placeHolder").replaceWith(c);p.find(".list").append(b);
q.loadImageManually(c);q.trigger("dp:image-block:imageBlockImageLoad",a);return b}function O(b){var a=A.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");g.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function x(b){if(b.isUserGenerated){var a=m.getPreviousItem(),c=b.variant;f.isDefined(c)&&a.thumbnailIndex!==b.thumbnailIndex&&(I.isEnabled&&J.logAltImgRequestServed(I),k.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===
c.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+c),k.postCountMetric("IGImageSelectedEvent:"+b.interaction)))}}function h(b,c,e,d){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||d||"unavailable"===b.type){if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){(l=f.isDefined(c))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");e=f.getImageHash(b.color,b.index,g);if(-1===e)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
f.lazyLoadingRequired(b,m,g)||(B.dispatch("updateModel",c),f.showUnavailable(b.color)),-1;d=p.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(d)||(d=S(e,b.thumbnailIndex,c),l?(N=n=!1,G(d,b,"swatchClick")):G(d,b,"altImageHover"));O(d);B.dispatch("loadMagnifier");F(b);w(d,e);x(b);q.trigger("dp:image-block:update",e)}}else if(b=g.colorImages&&g.colorImages[e],a(".unrolledImg").each(function(b){a(this).remove()}),f.isDefined(b)){a.each(b,function(b,c){if(b<g.maxAlts){var e=a(".unrolledImg");
e[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=e.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}});q.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var l=f.isDefined(c);l&&(k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
c())}}function L(b){var a=Math.max(D(b.color,m.getCurrentItem().variant),0);a=f.getImageHash(b.color,a,g);if(-1===a)return f.lazyLoadingRequired(b,m,g)||f.showUnavailable(b.color),-1;var c=p.find(".swatchHoverExp"),e=v(a);c.find(".imgTagWrapper").html(e);q.loadImageManually(e);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");O(c);G(c,b,"swatchHover");q.trigger("dp:image-block:update",a)}function r(b,c){f.lazyLoadingRequired(b,m,g)||(a("#imageBlock").css("opacity","1"),p.css("opacity","1"),
f.spinner(p,!1),p.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),c&&p.find(".list .item").remove())}function d(){var b=p.find(".item .imgTagWrapper"),c=f.getContainerHeight(A,g.holderRatio,g.holderMaxHeight);0<c&&(A.height(c),b.height(c));p.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&q.loadDynamicImage(this);var c=b.data("a-dynamic-image");c=f.getMaxDimensionsOfMainImage(c,A,g);b.css({"max-height":c[0]+
"px","max-width":c[1]+"px"})})}function E(b){F(m.getCurrentItem(),"mouseenter"===b.type)}var K,g,m,B,T,y,c,p,A,u={},b,e=null,n=!1,N=!1;q.on("triggerImageAjax",function(b){var a=m.getCurrentItem().color;g.colorImages[a]||(g.colorImages[a]=b);b={type:"updatedData",data:m.getCurrentItem()};B.dispatch("updateView",b);(a=g.colorToAsin[a])&&a.asin&&C.register(f.rankedImagesReadyEvent(a.asin))});return function(n,q,u,N){K=this;g=n;m=q;B=N;g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];K.render=
function(n,d,l,k,q,N,u,t){p=2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment?l:a(".unrolledScrollBox");c=k;A=q;b=M(d,n,N);N?0===d&&G(p.find(".item.itemNo0"),m.getCurrentItem(),"landing"):(d=m.getCurrentItem(),f.lazyLoadingRequired(d,m,g)&&B.dispatch("updateModel",{data:{type:"lazy-loaded"}}));r(m.getCurrentItem(),!N);2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment?"swatchClick"===t&&g&&g.colorImages?(e=g.colorImages[n],h(m.getCurrentItem(),u,n,N)):"updatedData"===
t&&g&&g.colorImages&&g.colorImages[n]!==e&&(e=g.colorImages[n],h(m.getCurrentItem(),u,n,N)):h(m.getCurrentItem(),u,n,N);return b};f.isImageBlockGridViewHoverDelayEnabled()?K.update=function(a){var e=a.data;m.setCurrentEvent(a);"ingress"!==e.type&&"swatchHover"!==a.type&&(m.setToPreviousItem(),"mouseenter"===a.type?(y&&clearTimeout(y),y=setTimeout(function(){m.setToCurrentItem(e);r(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?y&&clearTimeout(y):"click"===a.type&&(m.setToCurrentItem(e),
r(a.data,!1)));"swatchHover"===a.type?("ingress"!==e.type&&r(a.data,!1),e.color===m.getCurrentItem().color?h(m.getCurrentItem(),null,e.color,!0):a.captured||-1===L(e)||(a.captured=!0)):"image"===e.type&&(e.interaction=a.type,e.isUserGenerated=!0,"mouseenter"===a.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(e.thumbnailIndex+1)+"_"+b),T&&clearTimeout(T),T=setTimeout(function(){h(e,null,e.color,!0);g.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,c)},f.getHoveringDelayTimer())):"mouseleave"===
a.type?T&&clearTimeout(T):"click"===a.type&&(h(e,null,e.color,!0),f.selectGivenThumbnail(a.$declarativeParent,c),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(e.thumbnailIndex+1)+"_"+b)))}:K.update=function(a){var e=a.data;m.setCurrentEvent(a);"ingress"!==e.type&&r(a.data,!1);"swatchHover"===a.type?e.color===m.getCurrentItem().color?h(m.getCurrentItem(),null,e.color,!0):a.captured||-1===L(e)||(a.captured=!0):"image"===e.type&&(e.interaction=a.type,
e.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(e.thumbnailIndex+1)+"_"+b),h(e,null,e.color,!0),g.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,c),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(e.thumbnailIndex+1)+"_"+b))))};g.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");B.register("imageHover",E);B.register("resize",d)}});"use strict";C.now().register("ImageBlockShoppableSceneView",
function(){function q(){}return function(){this.update=this.render=q}});C.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!1}});"use strict";var U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(q){return typeof q}:function(q){return q&&"function"===typeof Symbol&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q};C.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",
function(q,a,f,H,k,C,J,V,M){function w(b){return null!==b&&"undefined"!==typeof b}function F(b){var c=0;a.each(b,function(b,a){b=parseInt(a[1],10);b>c&&(c=b)});return c}function D(b){var c=0;a.each(b,function(b,a){b=parseInt(a[0],10);b>c&&(c=b)});return c}function G(b,a,c){a=a.width();if(c.naturalMainImageSize)return a;b=F(b);0<b&&(a=Math.min(a,b));return a}function v(b,a,c){a=a.height();if(c.naturalMainImageSize)return a;b=D(b);0<b&&(a=Math.min(a,b));return a}function z(b){var c;a.each(b,function(b,
a){w(c)||(c=a[1]/a[0])});return c||1}function I(b,c,n,g,d,h,k,p,q,r,u,t,v,A,w){var e=a.extend({},n.foresterMetadataParams);null!==g&&(e.method+="."+g);var l=[];c.disabledViewIds&&(l=c.disabledViewIds);w=w&&w.videoBackgroundChromefulMainView?w.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===A&&(w="transparent");return f.embed({parentElement:b[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:n.swfUrl,foresterMetadataParams:e,
backgroundColor:w,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:n.videoAds,bindings:{play:function(){if("ImmersiveView"===g)m||(m=!0,H.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(B||(B=!0,H.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var b=H.buildNexusMetric("ib.thumbnailClick",q,c.mediaObjectId,c.groupType,u,t,v);H.emitNexusMetric(b)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(b,a,c){d&&
(O(0,h,p),x(k))}}],disabledViewIds:l})}function O(b,a,c){a.fadeTo(500,0,function(){h(b,c);a.fadeTo(500,1)})}function x(b){b&&b.toggle()}function h(b,c){c=c.find("img");w(c[b])&&a(c[b]).click()}function L(b,a){c[b]=a?a:c[b];return c[b]}function r(b,c,f){f=f||y;f=f.colorImages;if(1>f.length||!w(f[b])||!w(c))return-1;var e=-1;a.each(f[b],function(b,a){a.variant===c&&(e=b)});return e}function d(b,c,f){f=f||y;f=f.colorImages;return!(w(f)&&w(f[b])&&w(f[b][c])&&w(f[b][c].main))||1>a.map(f[b][c].main,function(b,
a){return a}).length?-1:f[b][c]}function E(b,a,c,f){f.parent().css("z-index",2);0!==c&&0!==a&&(a/=c,b>a?f.css("width",a/b*100+"%"):f.css("height",b/a*100+"%"))}function K(b,c){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;b=e;J.isEnabled&&(J.IVApplicaple=b,V.logImmersiveViewApplicability(a,J));return b}function g(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}
var m,B,T,y=a.extend(!0,{},k,C),c={},p=0,A=0,u=/gridAltImageViewLayoutIn(\d+)x(\d+)/g;return{isDefined:w,isDefinedAndEmpty:function(b){return w(b)&&"object"===("undefined"===typeof b?"undefined":U(b))&&0===Object.keys(b).length},isUndefinedOrEmpty:function(b){return w(b)?"object"===("undefined"===typeof b?"undefined":U(b))&&0===Object.keys(b).length:!0},isDefinedAndNotEmpty:function(b){return w(b)?"object"===("undefined"===typeof b?"undefined":U(b))&&0<Object.keys(b).length:!1},isjQueryObjDefined:function(b){return 0!==
b.length},getAspectRatio:z,getMaxHeightOfMainImage:v,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(b,a,c){if(c.acEnabled)return[a.height(),a.width()];var e=v(b,a,c);a=G(b,a,c);b=z(b);c=a/b;a=Math.min(a,e*b);e=Math.min(e,c);return[e,a]},getContainerHeight:function(b,a,c){var e=b.get(0);b=0;if(w(e)){b=Math.min(e.offsetWidth/a,c);var f;a=y.mainImageHeightPartitions;c=y.mainImageMaxSizes;if(w(c)&&w(a)){var g=0,d=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;
for(e=0;e<a.length;e++)d>a[e]&&(g=e+1);c.length>=g&&(f=c[g])}w(f)&&(b=Math.min(f[1],b))}return b},getColorFromState:function(b,c){if(b){c=c||y;var e="";a.each(c.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(b,a,c,f){var e=c.find(".template").clone().removeClass("template").addClass("item"),d=document.createElement("img");d.src=a;e.find(".placeHolder").replaceWith(d);(a=b.heroVideoVariant)&&"hero-image"===b.type&&b.variant===a&&e.addClass("heroImageThumbnail");
w(f)&&e.addClass(f);g()&&e&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",d.parentNode.insertBefore(f,d));q.declarative.create(e,"thumb-action",b);e.attr&&(e.attr("data-ux-click",""),b.type&&b.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),
e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",b.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(b,a,c){b.find(".textMoreImages").append(c.length-a.thumbnailIndex+"+")},selectGivenThumbnail:function(b,a){b=b.find(".a-button");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(b,a,c,f,d,g,h,m){I(b,a,c,
f,d,g,h,m,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:I,loadMediaIntoAiry:function(b,a,c,f){b&&b.getMediaSourceInfo()!==a.url&&(f?b.loadMedia?(T={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web"},b.loadMedia(T)):b.play({videoUrl:a.url,imageUrl:a.slateUrl,mimeType:"video/mp4",contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web"}):b.loadMedia?b.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,
contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}):b.setInitialData({videoUrl:a.url,mimeType:"video/mp4",contentId:a.mediaObjectId,imageUrl:a.slateUrl}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:O,toggleVideoCaption:x,selectThumbnail:h,spinner:function(b,c){var e=a("#imageBlock .a-spinner").parent();
0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+
a},ajaxState:L,getIndexForVariant:r,getImageHash:d,lazyLoadingRequired:function(a,c,f){c=Math.max(r(a.color,c.getCurrentItem().variant,f),0);c=-1!==d(a.color,c,f);a=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!f.lazyLoadExperienceDisabled&&!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:E,repositionVideoBanner:function(a,c,f,d){setTimeout(function(){var b=a.width()/a.height();E(b,16,9,c)},d||0)},getVideosCount:function(a,
c){return c.useChildVideos&&c.colorToVideo[a]?c.colorToVideo[a].length:c.videos?c.videos.length:0},getVideoHash:function(a,c,f){if(f.useChildVideos){if(!w(f.colorToVideo))return-1;a=f.colorToVideo[a]}else a=f.videos;return w(a)&&w(a[c])&&w(a[c].url)?a[c]:-1},isImmersiveViewEnabled:K,playVideoInImmersiveView:function(a,c){return K(a,c)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return w(T)?T.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,
c,f){return{requester:"DetailPageTablet",marketplaceID:f.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:f.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:f.url,imageURL:f.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return M.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:g,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||
0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return p},updateThumbnailHoverDelay:function(a){if(w(a)){p=0;var c=a.closest("li");c=c.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(c);if(-1!==c){var b=A;a=a.closest("ul").attr("class");a===aa?b=!1:(a=u.exec(a),null===a||3!==a.length?b=!1:(a=a[2],b=Math.floor(b/a)>Math.floor(c/a)));b&&(p=100);A=c}}},logError:function(a,c,f,d){t.ueLogError&&t.ueLogError(d,{logLevel:a,attribution:c,message:f})}}});
"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(q,a,f,H,k,I){function J(b,e,d,g){!c.autoplayVideo||ka||c.useChromelessVideoPlayer?!f.isjQueryObjDefined(b.find(".a-button-selected"))&&(d=p.getCurrentItem(),!g||c.prioritizeVideos||"chromeless-video"===d.type&&c.autoplayVideo)&&(g=f.getVideoHash(d.color,0,c),-1===g||d.thumbnailIndex>=c.maxAlts-1||(e+=0,A.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,
variant:g.variant,type:c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),e=b.find(".item").get(e),f.selectGivenThumbnail(a(e),b))):(f.selectGivenThumbnail(b.find("img:last"),b),f.fadeToThumbnail(b.find("img").length-1,n,b))}function V(a){var b=p.getCurrentItem().color;if(c.useChildVideos&&!c.colorToVideo[b]){var e=function(){if(a){c.colorToVideo[b]=a;var e={type:"updatedData",data:p.getCurrentItem()};A.dispatch("updateView",e)}};c.lazyLoadExperienceDisabled?e():C.when(f.rankedImagesReadyEvent(c.colorToAsin[b].asin)).execute(function(){e()})}}
function M(a){a&&(c.notShowVideoCount=a,a={type:"updatedData",data:p.getCurrentItem()},A.dispatch("updateView",a))}function w(a){if(!c.useChildVideos)return f.lazyLoadingRequired(p.getCurrentItem(),p,c)?void 0:c.videos;if(c.colorToVideo[a])return c.colorToVideo[a];var b=c.colorToAsin[a];if(b&&b.asin){var e={};e.params={asin:b.asin,productGroupID:c.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:c.useChromelessVideoPlayer,isUDP:c.isUDP};c.isDPXFeatureEnabled||(e.success=function(a){V(a)},
H.load("/gp/product/features/apparel-main-image/videos.html",e));return c.colorToVideo&&c.colorToVideo[a]}}function F(a){l&&null===a&&2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment&&(l.hide(),b.parent().css("z-index",-1),e.hide())}function D(a,e,d){e=n.width()/n.height();var g=parseInt(a.videoWidth,10),h=parseInt(a.videoHeight,10);f.updateAspectRatio(e,g,h,b);if(l&&"unrolled-video-add"!==d)l.show(),f.loadMediaIntoAiry(l,a,Q,c.tabletWeb);else if(c.tabletWeb)l=P;else{if("unrolled-video-add"===
d){l=P;return}if(null===P||P===aa)Y=setInterval(function(){l=P;l!==aa&&null!==l&&(l.show(),f.loadMediaIntoAiry(l,a,Q,c.tabletWeb),G(),x(l),clearInterval(Y),Y=null)},500);else if(l=P,l!==aa&&null!==l){l.show();f.loadMediaIntoAiry(l,a,Q,c.tabletWeb);G();x(l);return}}G();x(l)}function G(){if(2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(c)){if(1<f.getVideosCount(p.getCurrentItem().color,c)){if(f.isDefined(N)){e.show();return}N=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href",
"#").text(c.staticStrings.watchMoreVideos);e.find("#videoCaption").append(N);q.declarative.create(N,"videoIngressClick",R)}f.playVideoInImmersiveView(c,p.getCurrentItem().color)&&(q.declarative.create(b,"videoIngressClick",R),b.attr&&b.attr("data-ux-click",""),b.children().css("z-index","-1"),b.css("display","inline-block"))}else e.find("#videoCaption").text(c.staticStrings.playVideo),e.show()}function v(a,b){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===b){var e=
f.getVideoHash(a.color,a.index,c);if(-1===e)return-1;"chromeful-video"===a.type&&D(e,a.thumbnailIndex+1,b)}}function z(b,e,d){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&d)return b;var g=w(e);e=b;var h=a(".unrolledImg"),l=f.isDefined(g)&&0<g.length&&c.alwaysIncludeVideo?1:0;f.isDefined(g)&&0<g.length&&!c.alwaysIncludeVideo&&b===c.maxAlts&&k.postCountMetric("IBVideoDrop");h.length>c.maxAlts&&h.each(function(b){b>=c.maxAlts&&a(this).remove()});l&&b===c.maxAlts&&(2===c.unrolledImageBlockTreatment||
3==c.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):u.find(".item:last").remove(),b--);f.isDefined(g)&&(a.each(g,function(e,d){if(b<c.maxAlts){if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){var h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
b+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+b+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
c.dp60InLastPositionUnrolledImageBlock||2!==c.dp60VideoPosition||S(a(".regularAltImageViewLayout"),c.dp60VideoPosition)}else{h=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var m={type:h,index:e,thumbnailIndex:b,variant:d.variant};R={type:"video-ingress",index:e,thumbnailIndex:b,variant:d.variant};f.useTabbedImmersiveView(c)&&("chromeful-video"===h&&(ha+=" videoBlockIngress  videoBlockDarkIngress",d.thumb=d.thumb.replace("_PKmb-play-button-overlay-thumb","")),c.altsOnLeft||(ha+=
" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ha+=" videoImageBlockGridView");f.createThumbnail(m,d.thumb,u,ha);2===c.dp60VideoPosition&&S(u,c.dp60VideoPosition);f.useTabbedImmersiveView(c)&&(O(u.find(".videoBlockIngress img"),c.videoIngressATFSlateThumbURL),e=1<g.length?"multiple-videos":"one-video",(m=!0===c.notShowVideoCount?c.staticStrings.multipleVideos:1<g.length?g.length+" "+c.staticStrings.multipleVideos:c.staticStrings.singleVideo)&&u.find(".videoBlockIngress").append(u.find("#videoCount_template").clone().text(m).attr("id",
"videoCount")).addClass(e));d=k.buildNexusMetric("ib.thumbnailRender",b+1,d.mediaObjectId,d.groupType,Z,W,ba,ca);k.emitNexusMetric(d);ja||(ja=!0,k.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}b++}if(f.useTabbedImmersiveView(c))return!1}),J(u,e,b,d),K(m),c.imageBlockRenderingStartTime&&k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",q.now()-c.imageBlockRenderingStartTime));return b}function S(b,e){if(0!==e)if(2===c.unrolledImageBlockTreatment||
3===c.unrolledImageBlockTreatment){var f=c.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",d=b.children(".thumbTypeimage");b=b.children(".thumbType"+f);d&&b&&d[e-1]&&a(d[e-1]).before(b[0]);b=a(".unrolledScrollBox .list-unrolled");d=b.children(".unrolledImg.imgMedia");b=b.children(".unrolledImg.videoMedia");d&&b&&d[e-1]&&a(d[e-1]).before(b[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,e=0;e<this.classList.length;e++)this.classList[e].includes("itemNo")&&
(c=e);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else d=b.children(".imageThumbnail"),b=b.children(".videoBlockIngress"),d&&b&&d[e-1]&&a(d[e-1]).before(b[0])}function O(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function x(a){c.autoplayVideo&&a&&!ka&&(f.toggleVideoCaption(e),a.setVolume(0),a.show(),a.play(),ka=!0)}function h(b){l&&l.pause();b.data=R;b.clickTimeStamp=
b.$event.timeStamp;var e="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";A.dispatch("imageClick",b);k.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=k.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,c.videos[0].mediaObjectId,c.videos[0].groupType,Z,W,ba,ca);k.emitNexusMetric(b);k.postCountMetric(e);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}function L(b){null!==
l&&l!==aa&&(l.frame&&l.frame.remove(),l=null,P.frame&&P.frame.remove(),P=null);P=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");P.hide=function(){P.pause();q.$("#main-video-container").find(".vse-player-container").hide()};P.show=function(){q.$("#main-video-container").find(".vse-player-container").show()};P.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function r(d,g,m,k,l,r){F(r);b=null!==r?a("#unrolledImgNo"+r.thumbnailIndex):
k.find("#main-video-container");e=null!==r?"":b.parent().find("#video-canvas-caption");n=null!==r?a(".unrolledScrollBox"):a("#main-image-container");null===r&&f.isImageBlockGridViewDisplayEnabled()&&(b.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));Z=t.location.href;d=p.getCurrentItem().color;!0===l?W=c.mediaAsin:(W=c.colorToAsin[d]&&c.colorToAsin[d].asin,W=f.isDefined(W)?W:c.mediaAsin);c.useChromelessVideoPlayer||b.addClass("chromeful-container");null!==
r?v(r,"unrolled-video-add"):v(p.getCurrentItem(),"");f.useTabbedImmersiveView(c)&&q.declarative("videoIngressClick",["click"],h);if(-1!==u&&null!==r){d=p.getCurrentItem().color;var u=f.getVideoHash(d,r.index,c);I.get(q,"#unrolledImgNo"+r.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:u.marketPlaceID,clientPrefix:"mbSoftlines"+r.thumbnailIndex,locale:u.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:u.url,
imageURL:u.slateUrl}},function(){q.$("#unrolledImgNo"+r.thumbnailIndex).find(".vse-player-container").show()},function(){q.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function d(a,b){function c(a){a=Math.floor((u.width()-1)/g);a=e?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var e=0!=u.find(".item.videoThumbnail").length,f=b.eq(0).width(),d=b.eq(1).position().left-b.eq(0).position().left-
f,g=f+d;c();a.register("resize",c)}function E(a){var b=u.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){d(a,b)})}}function K(a){try{if(!a)return!1;la=a;ea=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ia&&ia.disconnect();0<ea.length&&(ia=new IntersectionObserver(g,a));ea.forEach(function(a){ia.observe(a)})}catch(pa){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function g(a){la(a,ma,oa,ea,na)}function m(b,c,e,f,d){try{a.each(b,function(b,d){var g=a(f).index(d.target);d.isIntersecting?(c=c.slice(),c.push(g)):c=c.filter(function(a){return a!==g});e=c.sort(function(a,b){return a-b})});var g=B(e,d);if(0!==g.length&&0!==e.length){var h=p.getCurrentItem().color,m=w(h);T(m,g)}}catch(ra){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function B(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function T(b,c){try{if(!b||!c||0===
b.length||0===c.length)return!1;a.each(c,function(a,c){if(c=1===ea.length?b[0]:b[c])a=k.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,c.groupType,t.location.href,W,ba,ca),k.emitNexusMetric(a)})}catch(qa){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var y,c,p,A,u,b,e,n,N,l,Q,R,da,P,W,Z,ba,ca,U,fa,X,ja=!1,ka=!1,ha="videoThumbnail",Y=null,ia=null,oa,na=[],ea,ma=[],la=null;return function(d,g,h,m){y=this;c=d;p=g;A=m;Q=c.airyConfig;ba=c.contentWeblab&&c.contentWeblab+":"+
c.contentWeblabTreatment;c.colorToVideo={};c.colorToVideo[c.landingAsinColor]=c.colorToVideo[c.defaultColor]=c.videos;c.tabletWeb?(U="tablet",ca="applicationType.ImageBlock.vse_ib_tablet_web"):q.capabilities.tablet?(U="tablet",q.capabilities.isAmazonApp&&(ca="applicationType.ImageBlock.vse_ib_tablet_app")):(U="desktop",ca="desktop_web.ImageBlock.vse_ib_iv");y.render=function(d,g,h,m,k,l){null!==Y&&(clearInterval(Y),Y=null,b&&b.parent&&b.parent().css("z-index",-1),e&&e.hide&&e.hide());var n=[];if(2===
c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){u=a("ul.regularAltImageViewLayout");da=z(g,d,l);n=[];g=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var t=0;t<g.length;t++){var v=g[t].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",w=Number(g[t].classList[2].slice(10)),x=a(".thumbItemUnrolled").index(g[t]);n.push({color:d,thumbnailIndex:x,
type:v,varient:"MAIN",index:w})}for(t=0;t<n.length;t++)r(d,h,m,k,l,n[t])}else u=m,da=z(g,d,l),r(d,h,m,k,l,null),d=p.getCurrentItem().color,h=f.getVideoHash(d,0,c),-1!==h&&(d=c.tabletWeb?f.getNilgiriServiceAjaxRequest(c,d,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:h.url,imageURL:h.slateUrl}},I.get(q,"#main-video-container",
d,function(){q.$("#main-video-container").find(".vse-player-container").hide()},function(){q.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));c.collapsibleThumbnails&&E(A);return da};y.setupIntersectionObserverToWatchVideoThumbnail=K;y.emitMultipleImpressionMetric=T;f.isImageBlockGridViewHoverDelayEnabled()?y.update=function(a){null!==Y&&(clearInterval(Y),Y=null,b&&b.parent&&b.parent().css("z-index",-1),e&&e.hide&&e.hide());var d=a.data;"ingress"===d.type||"swatchHover"===a.type||
f.lazyLoadingRequired(d,p,c)||(p.setToPreviousItem(),"mouseenter"===a.type?(X&&clearTimeout(X),X=setTimeout(function(){p.setToCurrentItem(d);F(null)},f.getHoveringDelayTimer())):"mouseleave"===a.type?X&&clearTimeout(X):"click"===a.type&&(p.setToCurrentItem(d),F(null)));if("swatchHover"===a.type)"ingress"===d.type||f.lazyLoadingRequired(d,p,c)||F(null),d.color===p.getCurrentItem().color?v(p.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(d,p,c)&&!f.lazyLoadOnHoverEnabled(c)&&v(p.getCurrentItem(),
"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var g=f.getVideoHash(d.color,d.index,c);"mouseenter"===a.type?(k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+da),"chromeless-video"===d.type&&(g=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,g.mediaObjectId,g.groupType,Z,W,ba,ca),k.emitNexusMetric(g)),fa&&clearTimeout(fa),fa=setTimeout(function(){v(d,"");!c.usePeekHover&&q.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(a.$declarativeParent,
u)},f.getHoveringDelayTimer())):"mouseleave"===a.type?fa&&clearTimeout(fa):"click"===a.type&&(v(d,""),q.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(a.$declarativeParent,u),g=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,g.mediaObjectId,g.groupType,Z,W,ba,ca),(!f.useTabbedImmersiveView(c)&&"chromeless-video"===d.type||"tablet"==U)&&k.emitNexusMetric(g),f.useTabbedImmersiveView(c)&&(k.emitNexusMetric(g),k.postCountMetric("dpcc_videoThumbClicked_"+
(d.thumbnailIndex+1)+"_"+da),R.action="videoIngressClick",R.clickTimeStamp=a.$event.timeStamp,R.$event=a.$event,R.$currentTarget=a.$currentTarget,A.dispatch("videoIngressClick",R),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:y.update=function(a){null!==Y&&(clearInterval(Y),Y=null,b&&b.parent&&b.parent().css("z-index",-1),e&&e.hide&&e.hide());var d=a.data;"ingress"===d.type||f.lazyLoadingRequired(d,p,c)||F(null);if("swatchHover"===a.type)d.color===p.getCurrentItem().color?
v(p.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(d,p,c)&&!f.lazyLoadOnHoverEnabled(c)&&v(p.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var g=f.getVideoHash(d.color,d.index,c);if("mouseenter"===a.type&&(k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+da),"chromeless-video"===d.type)){var h=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,g.mediaObjectId,g.groupType,Z,W,ba,ca);k.emitNexusMetric(h)}v(d,"");c.usePeekHover&&
"click"!==a.type||!q.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(a.$declarativeParent,u),"click"===a.type&&(g=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,g.mediaObjectId,g.groupType,Z,W,ba,ca),(!f.useTabbedImmersiveView(c)&&"chromeless-video"===d.type||"tablet"==U)&&k.emitNexusMetric(g),f.useTabbedImmersiveView(c)&&(k.emitNexusMetric(g),k.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+da),R.action="videoIngressClick",R.clickTimeStamp=
a.$event.timeStamp,R.$event=a.$event,R.$currentTarget=a.$currentTarget,A.dispatch("videoIngressClick",R),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};c.isDPXFeatureEnabled&&(q.on("triggerVideoAjax",V),q.on("notShowVideoCountAjax",M));q.on("vsePlayer-imageblock_tablet",L);q.on("vsePlayer-mbsoftlines",L)}});"use strict";C.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(q,a){function f(a,f,I,J,V){function k(a){"click"===a.type&&J.postCountMetric("thumbClick");
"click"===a.type&&d.overrideAltImageClickAction?E.dispatch("thumbActionClick",a):E.dispatch("updateSelection",a)}function w(a){d.useClickZoom||E.dispatch("imageClick",a)}function F(a){d.useClickZoom||E.dispatch("imageHover",a)}function D(a){E.dispatch("button360Click",a)}function G(d){!I.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(r.update(d),"swatchHover"!==d.type&&K.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&J.postCountMetric(d.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",
d.data)):(r.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",d))}function v(a){E.dispatch("resize",a)}function z(a){I.selectThumbnail(a,g)}function H(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function O(){d.interactiveCallJSPEnabled||
("function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===q.useIV?C.when("a-modal").execute(function(){H()}):H());d.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],k);a.declarative("thumb-action",["click"],k);a.declarative("main-image-click",["click"],w);a.declarative("main-image-click",
["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],D);a.on("resize",v)}function x(a){var d=a.data,f;d&&"ingress"!==d.type&&"click"===a.type&&(f=a);return f}function h(a){var d=K.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=d;return f}function L(a){I.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&I.updateThumbnailHoverDelay(a.$target)}var r,d,E,K,g;return function(a,k,q){r=this;d=a;E=k;K=q;g=f("#imageBlock #altImages ul");var m=f("#imageBlock .canvas"),
c=f("#main-image-container"),p;r.subViews=[];for(k=0;k<V.length;k++)r.subViews.push(new V[k](a,q,r,E));r.render=function(a,k,b,e){var n=0;g.find(".item").remove();a=a||K.getCurrentItem().color;f.each(r.subViews,function(f,h){n=(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment?h.render(a,n,m,g,c,k,b,e):h.render(a,n,m,g,c,k,b))||n});var q=g.find(".a-button-selected").closest(".a-declarative");p=h(q)};r.init=function(){g=f("#imageBlock #altImages ul");var a=g.find(".a-button-selected").closest(".a-declarative"),
c=a.data("action");a=a.data(c)||{};a.color=d.landingAsinColor||d.defaultColor;E.dispatch("updateModel",{data:a});r.render(a.color,!0);d.isDebug&&t.console&&console.log(d);E.register("updateView",G);E.register("selectThumbnail",z);O()};r.update=function(a){L(a);f.each(r.subViews,function(c,b){b.update(a)});d.usePeekHover&&("mouseleave"===a.type?E.dispatch("updateSelection",p):"click"===a.type&&(p=x(a)||p))}}}a=["A","jQuery","imageBlockUtils","postMetric"].concat(q.views);C.when.apply(C,a).register("ImageBlockView",
function(){for(var a=arguments[0],k=arguments[1],q=arguments[2],t=arguments[3],C=[],M=4,w=arguments.length;M<w;M++)C.push(arguments[M]);return f(a,k,q,t,C)})})});
/* ******** */
(function(B){var q=window.AmazonUIPageJS||window.P,sa=q._namespace||q.attributeErrors,c=sa?sa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):q;c.guardFatal?c.guardFatal(B)(c,window):c.execute(function(){B(c,window)})})(function(B,q,sa){B.when("A","jQuery").register("ImageBlockImmersiveViewDimensionIngress",function(c,b){var a;return function(b,c,I,r){a=this;a.render=function(){};a.update=function(){}}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric",
"imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(c,b,a,C,f){function I(){f.populateTitle(g.find("#ivTitle"),160,K)}function r(){var b=m.getCurrentItem().color;D=K.colorImages[b];y=K.heroImage[b];u=F=0;a.isDefined(y)&&(u=y.length);a.isDefined(D)&&(F=D.length)}function p(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=g.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var m=f.width(),
k=f.height();0<f.length&&(f[0].naturalWidth&&(m=f[0].naturalWidth),f[0].naturalHeight&&(k=f[0].naturalHeight));a.css("cursor","auto");m=0===m?1:m;k=0===k?1:k;var r=Math.min(b/m,c/k),u=k*r,y=m*r;1>r?(E?a.css("cursor","url('"+K.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),l=!0):l=!1;m=Math.min(y,m);k=Math.min(u-20,k);f.css({"margin-top":(c-k)/2,"margin-left":(b-m)/2,height:k,width:m});a.css("visibility","visible");L=!1}
function B(a){var b=g.find("#ivLargeImage");b.css("visibility","hidden");b.empty();f.animateStageIn(b);b.append(a);q()}function R(m){g.find("#ivLargeImage").css("display","none");g.find("#ivLargeImage").css("display","block");var l;"hero-image"===m?a.isDefined(y)&&(l=p(y[w.index])):a.isDefined(D)&&(l=p(D[w.index]));if(a.isDefined(l)){g.find(".fullscreen").remove();var x=b("\x3cimg\x3e").attr("src",l).addClass("fullscreen"),k=g.find("#ivLargeImage");f.animateStageOut(k,function(){x.load(function(){B(x);
c.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index)});if(x[0].complete)B(x),c.trigger("dp:image-block:imageBlockImmersiveImageLoad",w.index);else{k.empty();var a=(k.height()-104)/2,g=(k.width()-80)/2;b("\x3cimg\x3e").attr("src",K.staticImages.spinner).css({position:"relative",top:a+"px",left:g+"px"}).appendTo(k)}})}}function S(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?w.type="hero-image":w.type="image";w.index=a.attr("id").split("_")[1];
R(w.type);C.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(w.index,10)+1)+"_"+(u+F))}function M(){g.delegate(".ivThumb","click",function(){var a=b(this);S(a)})}function N(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function T(a){var b=U.top-(a.pageY-t[1])*k;a=N(U.left-(a.pageX-t[0])*k,H.left);b=N(b,H.top);g.find(".fullscreen").css({left:a,top:b})}function Z(){g.delegate("#ivLargeImage","click",function(a){if(L)q();else if(l){g.find(".fullscreen").removeAttr("style");if(l){var b=g.find("#ivLargeImage"),
f=b.find(".fullscreen");E?b.css("cursor","url('"+K.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));L=!0;var m=g.find("#ivLargeImage");H.left=m.width()-f.width();H.top=m.height()-f.height();m=b.height()/2;var c=b.width()/2;t=[b.offset().left+c,b.offset().top+m];U.top=m-f.height()/2;U.left=c-f.width()/2;f.css({position:"relative",left:U.left,top:U.top});k=Math.max(f.height()/b.height(),f.width()/b.width())}T(a);C.postCountMetric("dpcc_iv_largeImageCLick")}});
g.delegate("#ivLargeImage","mousemove",function(a){L&&T(a)})}function ia(){g.find("#ivLargeImage").empty()}function Y(c){if(V){g=b("#ivMain");r();w=m.getCurrentItem();I();f.populateVariationSelection(g.find("#ivVariationSelection"));c=g.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var l=u+F,k=0,p=0;k<l;)for(var t=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),C=0;4>C&&k<l;C++,k++,p++)if(p<u){var q=y[k].thumb,x=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
k,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":k+1}).appendTo(t);x.find(".ivThumbImage").css("background",'url("'+f.getResizedThumbnailURL(q)+'") center no-repeat')}else p>=u&&p<F+u&&(q=D[k-u].thumb,x=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(k-u),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":k-u+1}).appendTo(t),x.find(".ivThumbImage").css("background",'url("'+f.getResizedThumbnailURL(q)+'") center no-repeat'));O();V=!1}else I();c=b("#ivImagesTab").height();g.css("height",c);l=g.find("#ivTitle").outerHeight(!0);k=g.find("#ivVariationSelection").outerHeight(!0);p=g.find("#ivThumbs");t=f.getDimension(p,"margin-top")+f.getDimension(p,"margin-bottom");p.css("height",c-l-k-t);g.find("#ivLargeImage").css("height",c);c=g.find("#ivStage");l=g[0]&&g[0].getBoundingClientRect&&
Math.floor(g[0].getBoundingClientRect().width)||g.width();c.css("width",l-f.getDimension(g,"padding-left")-f.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-f.getDimension(c,"margin-left")-f.getDimension(c,"margin-right"));w=m.getCurrentItem();c="hero-image"===w.type?g.find("#ivHeroImage_"+w.index):"image"===w.type?g.find("#ivImage_"+w.index):a.isDefined(y)?g.find("#ivHeroImage_"+w.index):g.find("#ivImage_"+w.index);a.isjQueryObjDefined(c)||(c=g.find("#ivImage_0"));S(c)}var ca,K,
m,g,y,D,u,F,w,E=navigator.userAgent.match(/msie|trident/i),V=!0,L=!1,l=!1,H={},U={},k,t;V=!0;var O=c.once(function(){M();Z();f.attachImmersiveViewResizeHandler(Y);f.attachTabDeselectHandler("ivImagesTab",ia)});return function(a,c,g,l){ca=this;K=a;m=c;ca.render=function(a,c,g,l,k,m){V=!0;r();0===u+F?f.hideTabHeading("ivImagesTabHeading"):f.unhideTabHeading("ivImagesTabHeading");1===u+F?b("#ivThumbs").hide():b("#ivThumbs").show()};ca.update=function(a){};f.attachTabSelectHandler("ivImagesTab",Y)}});
"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(c,b,a,C,f,I,r){function p(){var a=M.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),f=a.find(".a-popover-inner");a=a.height()-r.getDimension(f,"padding-top")-r.getDimension(f,"padding-bottom");b("#iv-tab-view-container").css("height",a);Z=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
b(this).css("display")}).length;1<Z?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),f=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),a-=f):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",a);c.trigger("dp:image-block:immersive-view:resize")}function ta(){c.trigger("dp:image-block:immersive-view:reset")}function ma(m){if(a.isImmersiveViewEnabled(S,M.getCurrentItem().color))if(Y){var g=m.$event.originalEvent;
g.acknowledge&&g.acknowledge(m.$currentTarget[0]);f.isEnabled&&I.logImmersiveViewRequestServed(f);C.postCountMetric("dppc_immersiveViewOpened");a.isDefined(m)&&("button-360-click"===m.action?b("#iv360TabHeading").click():"videoIngressClick"===m.action?(ia=m.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===m.action?(ia=m.clickTimeStamp,b("#ivShowroomTabHeading").click()):b("#ivImagesTabHeading").click());g=M.getImmersiveViewModalInstance();if(a.isDefined(g))g.show();else{m=
b("#auiImmersiveViewDiv");g=Math.min(Math.max(b(q).height()-150,540),1080);var p=Math.min(Math.max(b(q).width()-75,990),1980);g=Y.create(m,{name:"immersiveView",activate:"onclick",width:p,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});M.setImmersiveViewModalInstance(g);m.click()}T&&(T=!1,ca(),c.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else C.postCountMetric("immersiveViewNotExistsClickCount")}
var R,S,M,N,T=!0,Z=0,ia,Y;B.when("a-modal").execute(function(a){Y=a});var ca=c.once(function(){c.on("a:popover:afterUpdatePosition:immersiveView",p);c.on("a:popover:afterShow:immersiveView",p);c.on("a:popover:afterHide:immersiveView",ta)}),K=c.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(f){var g=a.filter(".iv-active");g.attr("id")!==b(this).attr("id")&&c.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",f);a.removeClass("iv-active");
b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();g=b(this).find("a").attr("data-iv-tab-view");b("#"+g).show();"ivVideosTab"===g&&(f.clickTimeStamp=ia||f.timeStamp);c.trigger("dp:ivTabs:"+g+":select",f);C.postCountMetric("dppc_"+g);return!1})});return function(b,g,p,r){R=this;S=b;M=g;f.refToModel=M;N=r;R.render=function(a,b,c,f,g,m){C.postCountMetric("dpcc_altThumbs_"+b);T=!0};R.update=function(a){};R.getTitle=function(){};R.getVariationSelectionInfo=function(){};K();
a.isImmersiveViewEnabled(S,M.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");N.register("imageClick",ma);N.register("button360Click",ma);S.collapsibleThumbnails&&c.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ma(a)});a.useTabbedImmersiveView(S)&&(N.register("videoIngressClick",ma),N.register("showroomIngressClick",ma))}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(c,b,a,C,f,I,r,p){function ta(e){return e.hiRes||e.large||e.main[e.main.length-1]}function ma(){h.find("#ivTitle").click(function(){ja.hide()})}function R(){v=Qa?{type:"360-spin"}:P.getCurrentItem()}function S(){var e=h.find("#ivStage"),a=ja.$container.find(".a-popover-wrapper"),b=a.find(".a-popover-inner");a=a.height()-p.getDimension(b,"padding-top")-p.getDimension(b,"padding-bottom");h.css("height",a);b=
h.find("#ivTitle").outerHeight(!0);var d=h.find("#ivVariationSelection").outerHeight(!0),c=h.find("#ivMediaSelection").outerHeight(!0),f=h.find("#ivThumbs"),g=p.getDimension(f,"margin-top")+p.getDimension(f,"margin-bottom");f.css("height",a-b-d-c-g);h.find("#ivLargeImage").css("height",a);e.css("width",h.width()-p.getDimension(h,"padding-left")-p.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-p.getDimension(e,"margin-left")-p.getDimension(e,"margin-right"))}function M(){h.find("#ivMediaSelect").change(function(){var e=
b(this).val();"all"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===v.type&&h.find("#ivVideo_"+v.index).click()):"images"===e?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===v.type&&(0===W&&0===J?h.find("#iv360").click():0===W?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===e&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==
v.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+v.index).click())})}function N(){var e=h.find("#ivStage").find("#ivLargeImage"),a=e.width(),b=e.height(),d=e.find(".fullscreen");d.removeAttr("style");var c=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(c=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));e.css("cursor","auto");c=0===c?1:c;f=0===f?1:f;var g=Math.min(a/c,b/f),l=f*g,k=c*g;1>g?(Ra?e.css("cursor","url('"+n.staticImages.zoomIn+"'), auto"):(e.css("cursor",
"-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in")),Aa=!0):Aa=!1;c=Math.min(k,c);f=Math.min(l-20,f);d.css({"margin-top":(b-f)/2,"margin-left":(a-c)/2,height:f,width:c});e.css("visibility","visible");Ba=!1}function T(e){var a=h.find("#ivLargeImage");a.css("visibility","hidden");a.empty();p.animateStageIn(a);a.append(e);N()}function Z(){z&&z.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display",
"none");y()}function ia(e){Z();h.find("#ivLargeImage").css("display","block");var d;"hero-image"===e?a.isDefined(fa)&&(d=ta(fa[v.index])):a.isDefined(ka)&&(d=ta(ka[v.index]));if(a.isDefined(d)){h.find(".fullscreen").remove();var c=b("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),f=h.find("#ivLargeImage");p.animateStageOut(f,function(){c.load(function(){T(c)});if(c[0].complete)T(c);else{f.empty();var e=(f.height()-104)/2,a=(f.width()-80)/2;b("\x3cimg\x3e").attr("src",n.staticImages.spinner).css({position:"relative",
top:e+"px",left:a+"px"}).appendTo(f)}})}}function Y(){var e=parseInt(v.index,10)+1;e>=da.length||h.find("#ivVideo_"+e).click()}function ca(){var e;a.isDefined(da)&&(e=da[v.index]);if(a.isDefined(e)){Z();var b=h.find("#ivLargeVideo").css("display","block");z?(z.isDetached()&&z.attach(b[0]),a.loadMediaIntoAiry(z,e,ya,n.tabletWeb),z.show()):(z=a.createAiryInstanceForChromeful(b,e,ya,"ImmersiveView"),ya.enableContinuousPlay&&z.bind("ended",Y));z.play({isAsync:!0})}}function K(){R();var e="hero-image"===
v.type?h.find("#ivHeroImage_"+v.index):"image"===v.type?h.find("#ivImage_"+v.index):"chromeful-video"===v.type||"chromeless-video"===v.type?h.find("#ivVideo_"+v.index):"360-spin"===v.type?h.find("#iv360"):a.isDefined(fa)?h.find("#ivHeroImage_"+v.index):h.find("#ivImage_"+v.index);a.isjQueryObjDefined(e)||(e=h.find("#ivImage_0"));m(e)}function m(e){h.find(".ivThumb").removeClass("selected");e.addClass("selected");e.hasClass("ivThumbVideo")?(v.type="chromeful-video",v.index=e.attr("id").split("_")[1],
ca()):e.hasClass("ivHeroImage")?(v.type="hero-image",v.index=e.attr("id").split("_")[1],ia(v.type)):e.hasClass("iv360Image")?(v.type="360-spin",v.index=0,g()):(v.type="image",v.index=e.attr("id").split("_")[1],ia(v.type))}function g(){Z();h.find("#ivLarge360").css("display","block");E();var e=h.find("#ivLarge360");e.css({opacity:0});setTimeout(function(){e.css({opacity:.4});p.animateStageIn(e)},200);u();f.postCountMetric("dppc_click360");ua=Date.now()}function y(){0<ua&&(D("dppc_duration360",Date.now()-
ua),ua=0)}function D(e,a){q.ue&&q.ue.count(e,a)}function u(){if(0<qa){var e=h.find(".iv360Hint");e.removeClass("iv360HintFaded");e.animate({opacity:1},200)}}function F(e,a){if(qa<e.length){var d=b("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:va+"px"});d.hide();a.append(d);d.get(0).onload=function(){a.closest(document.documentElement).length&&(qa++,1===qa&&(u(),0<ua&&D("dppc_loadTime360",Date.now()-ua)),0<Ia&&D("dppc_perSpriteloadTime360",Date.now()-Ia),h.find("#iv360Spinner").hide(),
d.show(),Ca=5*G.imageLocations[Math.floor(za/G.imageLocations[0].length)][za%G.imageLocations[0].length],F(e,a))};d.attr("src",e[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+wa+"$2"+xa));Ia=Date.now()}}function w(e){if(a.isDefined(G.spriteWidthSizes)&&0<G.spriteWidthSizes.length){var d=G.spriteWidthSizes,b=d.length,f=d[0],c=d[b-1];if(e<=f)return f;if(e>c)return c;for(f=0;f<b;f++)if(e>d[f]&&e<=d[f+1])return d[f+1]}else return e}function E(){var a=h.find("#ivLarge360");a.children("#image-360-sprites").length||
(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),Ja=!0,V())}function V(){if(a.isDefined(G.spriteURLs)&&
a.isDefined(h)&&Ja&&!Ka){var e=h.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(G.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",G.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(d);d.appendTo(e);d=G.imageWidth;var f=G.imageHeight,c=e.parent().width(),g=e.parent().height(),
ea=0,m=0;d/f>c/g?(wa=w(c),xa=Math.round(f/d*wa),pa=Math.ceil(c),va=Math.ceil(xa/wa*c),m=(g-va)/2):(xa=w(g),wa=Math.round(d/f*xa),va=Math.ceil(g),pa=Math.ceil(wa/xa*g),ea=(c-pa)/2);e.css({"margin-left":ea,"margin-top":m,width:pa+"px",height:va+"px",overflow:"hidden",position:"relative"});e.children("#image-360-sprites").css("width",6*pa+"px");F(G.spriteURLs,h.find("#image-360-sprites"),0);d=h.find("#ivLarge360");d.bind("mousedown",U);d.bind("touchstart",L);d.bind("touchmove",l);d.bind("touchend",H);
b(document).bind("mousemove",k);b(document).bind("mouseup",t);a.isDefined(n.staticImages.grab)&&e.css("cursor","url('"+n.staticImages.grab+"'), auto");Ka=!0}}function L(a){Da=!0;La=a.originalEvent.targetTouches[0].clientX}function l(a){Da&&(O(a.originalEvent.targetTouches[0].clientX-La),La=a.originalEvent.targetTouches[0].clientX)}function H(a){Da&&(Da=!1)}function U(e){Ea=!0;Ma=e.originalEvent.clientX;a.isDefined(n.staticImages.grabbing)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grabbing+
"'), auto"),e.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function k(a){Ea&&(O(a.originalEvent.clientX-Ma),Ma=a.originalEvent.clientX)}function t(e){Ea&&(Ea=!1,a.isDefined(n.staticImages.grab)&&(e=h.find("#ivLarge360"),e.css("cursor","url('"+n.staticImages.grab+"'), auto"),e.parents(".a-declarative").last().css("cursor","auto")))}function O(e){for(e=Ca-=e/pa*180;0>e;)e+=360;for(;360<e;)e-=360;Ca=e;e=360;for(var d=0;d<qa;d++)for(var b=0;b<G.imageLocations[d].length;b++){var f=
Math.abs(Ca-5*G.imageLocations[d][b]);if(f<e){e=f;var c=d*G.imageLocations[0].length+b}}c!==za&&(e=Math.floor(c/G.imageLocations[0].length),e!==Math.floor(za/G.imageLocations[0].length)&&(a.isDefined(Na)||(Na=document.createElement("canvas").getContext("2d")),d=h.find("#image-360-sprites").children(),Na.drawImage(d[e],0,0)),e=h.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(e)&&(e.addClass("iv360HintFaded"),e.animate({opacity:0},750)));za=c;e=c%G.imageLocations[0].length*-1*pa;c=-1*Math.floor(c/
G.imageLocations[0].length)*va;d=h.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+e+"px, "+c+"px, 0)");d.css("transform","translate3d("+e+"px, "+c+"px, 0)")}function x(){h.delegate(".ivThumb","click",function(){var a=b(this);m(a)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");v.type="chromeful-video";v.index=a.attr("id").split("_")[1];ca()})}function aa(){z&&
!z.isDetached()&&(ya.volume=z.getVolume(),z.detach(),!document.all||q.atob||document.addEventListener||(z=null));h.find("#ivLargeImage").empty();y()}function Q(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function ha(a){var d=ra.left-(a.pageX-Fa[0])*Ga;c.capabilities.rtl&&(d=ra.left-(b(q).width()-a.pageX-Fa[0])*Ga);a=ra.top-(a.pageY-Fa[1])*Ga;d=Q(d,Ha.left);a=Q(a,Ha.top);h.find(".fullscreen").css({left:d,top:a})}function na(){h.delegate("#ivLargeImage","click",function(a){if(Ba)N();else if(Aa){h.find(".fullscreen").removeAttr("style");
if(Aa){var d=h.find("#ivLargeImage"),e=d.find(".fullscreen");Ra?d.css("cursor","url('"+n.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));Ba=!0;var b=h.find("#ivLargeImage");Ha.left=b.width()-e.width();Ha.top=b.height()-e.height();b=d.height()/2;var c=d.width()/2;Fa=[d.offset().left+c,d.offset().top+b];ra.top=b-e.height()/2;ra.left=c-e.width()/2;e.css({position:"relative",left:ra.left,top:ra.top});Ga=Math.max(e.height()/
d.height(),e.width()/d.width())}ha(a)}});h.delegate("#ivLargeImage","mousemove",function(a){Ba&&ha(a)})}function la(e){if(a.isImmersiveViewEnabled(n,P.getCurrentItem().color))if(Oa){var g=e.$event.originalEvent;g.acknowledge&&g.acknowledge(e.$currentTarget[0]);Qa=a.isDefined(e)&&"button-360-click"===e.action;I.isEnabled&&r.logImmersiveViewRequestServed(I);f.postCountMetric("dppc_immersiveViewOpened");if(a.isDefined(ja))ja.show();else{e=b("#auiImmersiveViewDiv");g=b(q).height()-150;var l=b(q).width()-
75;ja=Oa.create(e,{name:"immersiveView",activate:"onclick",width:l,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(Pa){h=b("#ivMain");e=P.getCurrentItem().color;ka=n.colorImages[e];fa=n.heroImage[e];da=n.useChildVideos?n.colorToVideo[e]:n.videos;Sa=X()&&n.spin360ColorEnabled[e];G=X()?n.spin360ColorData[e]:sa;R();ea=J=d=W=0;a.isDefined(fa)&&(J=fa.length);a.isDefined(ka)&&(W=ka.length);a.isDefined(da)&&(d=da.length);Sa&&(ea=1);p.populateTitle(h.find("#ivTitle"),45,n);p.populateVariationSelection(h.find("#ivVariationSelection"));
e=h.find("#ivMediaSelect");0===W+ea||0===d?(e.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(n.staticStrings.allMedia+" ("+(J+W+ea+d)+")").appendTo(e),b("\x3coption/\x3e").attr("value","images").text(n.staticStrings.images+" ("+(J+W+ea)+")").appendTo(e),b("\x3coption/\x3e").attr("value","videos").text(n.staticStrings.videos+" ("+d+")").appendTo(e),e.parent().show(),e.val("all"));e=h.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
g=J+W+d+ea;for(var k=l=0;l<g;)for(var m=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),v=0;3>v&&l<g;v++,l++,k++)if(k<J){var A=fa[l].thumb,z=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(m);z.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat')}else if(k>=J&&k<W+J)A=ka[l-J].thumb,z=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(l-J)).appendTo(m),z.find(".ivThumbImage").css("background",'url("'+p.getResizedThumbnailURL(A)+'") center no-repeat');else if(k>=J+W&&k<W+J+ea)z=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),z.find(".ivThumbImage").css("background",'url("'+(a.isDefined(n.staticImages.icon360)?p.getResizedThumbnailURL(n.staticImages.icon360,!0):"")+'") center no-repeat');else if(A=da[l-W-J-ea],z=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(l-W-J-ea)).appendTo(m),z.find(".ivThumbImage").css("background",'url("'+A.thumbUrl+'") center no-repeat'),a.isDefined(A)){var t={position:"triggerTop"},u=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");u.find(".ivVideoPopoverTitle").text(A.title);u.find(".ivVideoPopoverDuration").text(A.durationTimestamp);t.inlineContent=u[0];c.declarative.create(z,"a-tooltip",t)}e=h.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
g=e.find(".placeholder");for(l=0;l<d;l++)k=da[l],m=g.clone().removeClass("placeholder").appendTo(e),m.attr("id","ivVideoList_"+l),m.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(k.title),m.find(".ivThumbDuration").text(k.durationTimestamp);h.find("#ivLarge360").empty();qa=0;Ka=Ja=!1;ya=n.airyConfig;Pa=!1;Ta()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else f.postCountMetric("immersiveViewNotExistsClickCount")}function oa(d){var e=n.colorToAsin[d],b={},c=500;if(e&&e.asin){b.params={asin:e.asin};var g="360"+e.asin,h=Date.now();b.success=function(e){D("dppc_asyncRequestTime360",Date.now()-h);e&&a.isDefined(e.spin360.spin360Model)?(a.ajaxState(g,"success"),n.spin360ColorData[d]=e.spin360.spin360Model,d===P.getCurrentItem().color&&(G=n.spin360ColorData[d],V())):b.error()};b.error=function(){f.postCountMetric("dppc_asyncFailed360");D("dppc_asyncRequestTime360",
Date.now()-h);c*=2;16E3>=c?setTimeout(function(){h=Date.now();C.load("/gp/product/features/apparel-main-image/360.html",b)},c):a.ajaxState(g,"fail")};a.ajaxState(g)&&"fail"!==a.ajaxState(g)||(C.load("/gp/product/features/apparel-main-image/360.html",b),a.ajaxState(g,"sent"))}}function X(){return a.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}var ba,n,P,A,ja,h,fa,ka,da,J,W,d,ea,v,z,ya,G,Sa,pa,va,xa,wa,Ma,La,Qa=!1,Ja=!1,Ka=!1,Ca=0,za=0,ua=0,Ia=0,Ea=!1,Da=!1,qa=0,Na,Ra=navigator.userAgent.match(/msie|trident/i),
Pa=!0,Ba=!1,Aa=!1,Ha={},ra={},Ga,Fa,Oa;B.when("a-modal").execute(function(a){Oa=a});var Ta=c.once(function(){M();x();na();c.on("a:popover:afterUpdatePosition:immersiveView",S);c.on("a:popover:afterShow:immersiveView",K);c.on("a:popover:afterHide:immersiveView",aa);ma()});return function(d,g,h,l){ba=this;n=d;P=g;I.refToModel=P;A=l;X()&&(n.spin360ColorData[n.landingAsinColor]=n.spin360ColorData[n.defaultColor],n.spin360ColorEnabled[n.landingAsinColor]=n.spin360ColorEnabled[n.defaultColor]);a.isDefined(n.staticImages.icon360)&&
b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));ba.render=function(d,e,b,g,h,l){Pa=!0;X()&&n.spin360ColorEnabled[d]&&!a.isDefined(n.spin360ColorData[d])&&(n.spin360ColorData[d]={},oa(d));a.isImmersiveViewEnabled(n,P.getCurrentItem().color)&&X()&&n.spin360ColorEnabled[d]&&(e===n.maxAlts&&(d=g.find(".item.imageThumbnail"),b=g.find(".item.videoThumbnail"),a.isDefined(b)&&1<b.length?b.last().remove():d.last().remove(),
e--),d=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(d,"button-360-click"),g.append(d),e++,f.postCountMetric("dppc_display360"));return e};ba.update=function(a){};a.isImmersiveViewEnabled(n,P.getCurrentItem().color)||a.addTag("immersiveViewNotAvailable");A.register("imageClick",la);A.register("button360Click",la)}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(c,b,a,C,f,q,r,p,B){function I(){var a=b("#iv360Tab").height();k.css("height",a);var c=k.find("#ivTitle360").outerHeight(!0),f=k.find("#ivVariationSelection360").outerHeight(!0),g=k.find("#ivThumbs360"),h=r.getDimension(g,"margin-top")+r.getDimension(g,"margin-bottom");g.css("height",a-c-f-h);a=k.find("#ivStage360");c=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||
k.width();a.css("width",c-r.getDimension(k,"padding-left")-r.getDimension(k,"padding-right")-k.find("#ivThumbColumn360").width()-r.getDimension(a,"margin-left")-r.getDimension(a,"margin-right"))}function R(){T();var a=k.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});r.animateStageIn(a)},200);S()}function S(){if(0<h){var a=k.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function M(a,c){if(h<a.length){var d=b("\x3cimg /\x3e").css({display:"block",
width:6*O+"px",height:x+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(h++,1===h&&(S(),0<n&&(f.time("dppc_loadTime360",Date.now()-n,l.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-n))),0<P&&(f.time("dppc_perSpriteloadTime360",Date.now()-P,l.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-P)),k.find("#iv360Spinner").hide(),d.show(),X=5*t.imageLocations[Math.floor(ba/t.imageLocations[0].length)][ba%t.imageLocations[0].length],
M(a,c))};d.attr("src",a[h].replace(/(\._SP)\d+(,)\d+/,"$1"+Q+"$2"+aa));P=Date.now()}}function N(d){if(a.isDefined(t.spriteWidthSizes)&&0<t.spriteWidthSizes.length){var b=t.spriteWidthSizes,c=b.length,f=b[0],g=b[c-1];if(d<=f)return f;if(d>g)return g;for(f=0;f<c;f++)if(d>b[f]&&d<=b[f+1])return b[f+1]}else return d}function T(){var a=k.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",l.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),la=!0,Z())}function Z(){if(a.isDefined(t.spriteURLs)&&a.isDefined(k)&&la&&!oa){var d=k.find("#ivLarge360"),c=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});a.isDefined(t.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",t.staticImages.hint360).appendTo(c);b("\x3cdiv\x3e").css({"text-align":"center"}).text(l.staticStrings.dragToSpin).appendTo(c);c.appendTo(d);c=t.imageWidth;var f=t.imageHeight,h=d.parent().width(),A=d.parent().height(),n=0,p=0;c/f>h/A?(Q=N(h),aa=Math.round(f/c*Q),O=Math.ceil(h),x=Math.ceil(aa/Q*h),p=(A-x)/2):(aa=N(A),Q=
Math.round(c/f*aa),x=Math.ceil(A),O=Math.ceil(Q/aa*A),n=(h-O)/2);d.css({"margin-left":n,"margin-top":p,width:O+"px",height:x+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*O+"px");M(t.spriteURLs,k.find("#image-360-sprites"),0);c=k.find("#ivLarge360");c.bind("mousedown",K);c.bind("touchstart",ta);c.bind("touchmove",Y);c.bind("touchend",ca);b(document).bind("mousemove",m);b(document).bind("mouseup",g);a.isDefined(l.staticImages.grab)&&d.css("cursor","url('"+
l.staticImages.grab+"'), auto");oa=!0}}function ta(a){ja=!0;na=a.originalEvent.targetTouches[0].clientX}function Y(a){ja&&(y(a.originalEvent.targetTouches[0].clientX-na),na=a.originalEvent.targetTouches[0].clientX)}function ca(a){ja&&(ja=!1)}function K(d){A=!0;ha=d.originalEvent.clientX;a.isDefined(l.staticImages.grabbing)&&(d=k.find("#ivLarge360"),d.css("cursor","url('"+l.staticImages.grabbing+"'), auto"),d.parents(".a-declarative").last().css("cursor","url('"+l.staticImages.grabbing+"'), auto"));
return!1}function m(a){A&&(y(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function g(d){A&&(A=!1,a.isDefined(l.staticImages.grab)&&(d=k.find("#ivLarge360"),d.css("cursor","url('"+l.staticImages.grab+"'), auto"),d.parents(".a-declarative").last().css("cursor","auto")))}function y(d){X-=d/O*180;ka&&(f.count("dppc_360dragToSpin",l.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ka=!1;for(d=X;0>d;)d+=360;for(;360<d;)d-=360;X=d;d=360;for(var b=0;b<h;b++)for(var c=0;c<t.imageLocations[b].length;c++){var g=
Math.abs(X-5*t.imageLocations[b][c]);if(g<d){d=g;var m=b*t.imageLocations[0].length+c}}m!==ba&&(d=Math.floor(m/t.imageLocations[0].length),d!==Math.floor(ba/t.imageLocations[0].length)&&(a.isDefined(fa)||(fa=document.createElement("canvas").getContext("2d")),b=k.find("#image-360-sprites").children(),fa.drawImage(b[d],0,0)),d=k.find(".iv360Hint").not(".iv360HintFaded"),a.isDefined(d)&&(d.addClass("iv360HintFaded"),d.animate({opacity:0},750)));ba=m;d=m%t.imageLocations[0].length*-1*O;m=-1*Math.floor(m/
t.imageLocations[0].length)*x;b=k.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+d+"px, "+m+"px, 0)");b.css("transform","translate3d("+d+"px, "+m+"px, 0)")}function D(){if(J){k=b("#ivMain360");var a=H.getCurrentItem().color;F()&&w(a);t=F()?l.spin360ColorData[a]:sa;r.populateTitle(k.find("#ivTitle360"),160,l);r.populateVariationSelection(k.find("#ivVariationSelection360"));k.find("#ivLarge360").empty();h=0;oa=la=!1;ba=X=0;W();J=!1}0!==b("#iv360Tab").height()&&
(r.detachImmersiveViewResizeHandler(D),I(),R(),n=Date.now(),da=ka=!0,f.count("dppc_click360",l.mediaAsin),q.postCountMetric("dppc_click360"))}function u(b,c,g){b=l.colorToAsin[g];var d={},h=500;if(!b||!b.asin)if(g===l.defaultColor)b={asin:l.winningAsin};else return;d.params={asin:b.asin};var k="360"+b.asin,m=Date.now();d.success=function(b){f.time("dppc_asyncRequestTime360",Date.now()-m,l.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);b&&a.isDefined(b.spin360)?((b=b.spin360.spin360Model)&&
p.setData(b),a.ajaxState(k,"success")):d.error()};d.error=function(){f.count("dppc_asyncFailedTransient360",l.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");f.time("dppc_asyncRequestTime360",Date.now()-m,l.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);h*=2;16E3>=h?setTimeout(function(){m=Date.now();C.load("/gp/product/features/apparel-main-image/360.html",d)},h):(f.count("dppc_asyncFailed360",l.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),a.ajaxState(k,
"fail"))};a.ajaxState(k)&&"fail"!==a.ajaxState(k)||(C.load("/gp/product/features/apparel-main-image/360.html",d),a.ajaxState(k,"sent"))}function F(){return l&&a.isDefined(l.spin360ConfigEnabled)&&l.spin360ConfigEnabled}function w(b){return a.isDefinedAndNotEmpty(l.spin360ColorData[b])?!0:a.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled}function E(){da&&(f.time("dppc_duration360",Date.now()-n,l.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-n),da=!1)}function V(a){a=l.colorToAsin[a.color]&&
l.colorToAsin[a.color].asin;a||(a=l.mediaAsin);return a}var L,l,H,U,k,t,O,x,aa,Q,ha,na,la=!1,oa=!1,X=0,ba=0,n=0,P=0,A=!1,ja=!1,h=0,fa,ka=!0,da=!1,J=!0,W=c.once(function(){r.attachImmersiveViewResizeHandler(D);r.attachImmersiveViewResizeHandler(I);r.attachImmersiveViewResetHandler(E);r.attachTabDeselectHandler("iv360Tab",E)});return function(d,g,h,k){L=this;l=d;H=g;U=k;d=l.landingAsinColor;g=l.defaultColor;a.isDefined(l.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
r.addStyleCodeToURL(l.staticImages.icon360,"_FMpng_RI_"));F()&&(l.spin360ColorData||(l.spin360ColorData={}),d===g&&a.isDefinedAndEmpty(l.spin360ColorData[g])&&delete l.spin360ColorData[g]);c.on(B.TWISTER_DATA_EVENT,function(a){V(H.getCurrentItem())===a&&(t=p.getData(a),Z(),a={type:"updatedData",data:H.getCurrentItem()},U.dispatch("updateView",a))});L.render=function(d,g,h,k,m,A){J=!0;!F()||a.isDefinedAndEmpty(l.spin360ColorData[d])&&!p.getData(V(H.getCurrentItem()))?r.hideTabHeading("iv360TabHeading"):
(l.spin360ColorData[d]=p.getData(V(H.getCurrentItem())),a.isDefinedAndNotEmpty(l.spin360ColorData[d])?(b("#ivThumbs360").hide(),r.unhideTabHeading("iv360TabHeading"),a.isImmersiveViewEnabled(l,H.getCurrentItem().color)&&F()&&w(d)&&(g===l.maxAlts&&(d=k.find(".item.imageThumbnail"),g=k.find(".item.videoThumbnail"),a.isDefined(g)&&1<g.length?g.last().remove():d.last().remove()),d=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),c.declarative.create(d,
"button-360-click"),k.append(d),f.count("dppc_display360",l.mediaAsin),q.postCountMetric("dppc_display360"))):a.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled?(l.spin360ColorData[d]={},r.hideTabHeading("iv360TabHeading"),u(k,g,d)):r.hideTabHeading("iv360TabHeading"))};L.update=function(a){};r.attachTabSelectHandler("iv360Tab",D)}});B.register("nexusLogger360",function(){return{count:function(c,b){q.ue&&q.ue.event({asin:b,metricName:c,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(c,b,a){q.ue&&q.ue.event({asin:a,metricName:c,metricValue:b},"hit-360","hit360.clientEvent.3")}}});B.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});B.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(c,b){var a={};return{setData:function(q){var f=q.asin;a[f]||(a[f]=q,c.trigger(b.TWISTER_DATA_EVENT,f))},getData:function(b){return a[b]}}});"use strict";B.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(c){function b(){this.render=function(){};this.update=function(){}}return function(a,q,f,I){var r=!1,p=new b;B.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==sa&&(r=!0,p=new b(a,q,f,I))});a&&!0===a.showroomEnabled&&!1===r&&c.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return p}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(c,b,a,C,f,B,r){function p(){u.delegate(".ivThumb","click",function(){var a=b(this);u.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")&&(F.type="chromeful-video",F.index=a.attr("id").split("_")[1])})}function I(){if(Q){var a=b("#ivVideosTab").height();u.css("height",a);var c=u.find(".vse-lb-container");w=a-f.getDimension(c,"padding-top")-f.getDimension(c,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(t){u.css({"max-width":Math.floor(1.77*
w)});return}a=u.find(".vse-player-container");c=u.find(".vse-video-action-strip");var g=u.find(".vse-lb-video-metadata"),k=Math.floor(w-f.getDimension(g,"height")-f.getDimension(c,"height")),l=Math.floor(1.77*k);a.css({"max-height":k,"max-width":l,marginLeft:"auto",marginRight:"auto"});g.css({"max-width":l,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":l,marginLeft:"auto",marginRight:"auto"})}O&&(a=u.find(".vse-vertical-scroll"),c=f.getDimension(a,"margin-top")+f.getDimension(a,"margin-bottom"),
a.css("max-height",w-c))}function ma(){R();E&&E.pause();x=!1;U=!0;H=null;aa=!0;Q=!1}function R(){x=!1;E&&E.pause()}function S(f){H=f.clickTimeStamp?f.clickTimeStamp:c.now();a.isDefined(D)&&(D.eventTimestamp=H);x=!0;k&&(r.get(c,"#ivVideoBlock",y,n,P),u=b("#ivVideoBlock"),g.getCurrentItem(),F=g.getCurrentItem(),oa(),Y());I();k=!1;T()}function M(a){k&&(u=b("#ivVideoBlock"),g.getCurrentItem(),F=g.getCurrentItem(),oa());x&&T();I()}function N(a){E=a.player;C.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
c.now()-la);m.imageBlockRenderingStartTime&&C.postTimeMetric("vse_ib_desktop_time_to_player_interactive",c.now()-m.imageBlockRenderingStartTime);Q&&(Y(),T())}function T(){if(E&&x&&(u.find(".vse-lb-container").animate({opacity:1},200),E.play(D),C.postCountMetric("dpcc_vse_videoBlock_video_played"),U)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,C.postTimeMetric("dpcc_vse_vitff",a),U=!1)}}function Z(){c.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function ia(a){V=
a.popover.$popover;Q=!0;Y()}function Y(){if(Q&&aa&&x&&E){V.addClass(c.$(V).find(".vse-lb-container").data("cssClass"));var a=D;ha&&(a=na,ha=!1);c.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});I();aa=!1}}function ca(a){document.getElementsByClassName("videoBlockIngress")[0].click();na=a;ha=!0}var K,m,g,y,D,u,F,w,E,V,L,l,H,U=!0,k=!0,t=!1,O=!1,x=!1,aa=!0,Q=!1,ha=!1,na,la=0,oa=c.once(function(){p();f.attachImmersiveViewResizeHandler(M);f.attachTabDeselectHandler("ivVideosTab",
R);f.attachImmersiveViewResetHandler(ma)}),X=function(c,f,h){b("#ivVideoBlockSpinner").addClass("aok-hidden");C.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);c=g.getCurrentItem().color;c=a.getVideoHash(c,0,m);E||(E=a.createAiryInstanceForChromeful(b("#ivVideoBlock"),c,m.airyConfig,"ImmersiveView"));t=!0;b("#ivVideoBlock").css({"max-width":1.77*w,margin:"0 auto"});x&&t&&E.play({isAsync:!0})},ba=function(a,c,f){k||r.get(a,"#ivVideoBlock",y,n,P);b("#ivVideoBlockSpinner").addClass("aok-hidden")},
n=function(a,b,c){O=!0;I()},P=function(a,b,c){C.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,n,h,p){K=this;m=b;g=n;K.render=function(b,h,n,p,d,q){b=g.getCurrentItem().color;h=a.getVideoHash(b,0,m);!0===q?L=m.mediaAsin:(L=m.colorToAsin[b]&&m.colorToAsin[b].asin,L=a.isDefined(L)?L:m.mediaAsin);l=!0===m.useVSEVideos?"VIDEO_ID":"physicalID";k=!0;-1===h?f.hideTabHeading("ivVideosTabHeading"):(f.unhideTabHeading("ivVideosTabHeading"),
y={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:h.marketPlaceID,locale:h.languageCode,product:{contentID:L,contentIDType:"ASIN"},video:{contentID:h.mediaObjectId,contentIDType:l,videoURL:h.url,imageURL:h.slateUrl},requestId:m.dpRequestId,metadata:{ProductTitle:m.title}},D={videoUrl:y.video.videoURL,contentId:y.video.contentID,duration:0,vendorCode:"",eventTimestamp:a.isDefined(H)?H:c.now(),imageUrl:y.video.imageURL,productAsin:y.product.contentID,index:0},a.isDefinedAndNotEmpty(E)&&
(E.destroy(),E=null),la=c.now(),B.get(c,"#ivVideoBlock",y,ba,X))};K.update=function(a){};f.attachTabSelectHandler("ivVideosTab",S);c.on("vsePlayer-detailpage-imageblock",N);c.on("a:popover:afterShow:immersiveView",ia);c.on("a:popover:beforeHide:immersiveView",Z);c.on("detailpage-imageblock-leave-pip",ca)}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,g=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(g&&0<g.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=d("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,g,k){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(c<=f[b]){a="image_size_bucket:"+f[b-1]+"-"+f[b];break}k.postCountMetric(a);g.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;g.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=e.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=e.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.4",{ssd:!1})},buildNexusMetric:function(a,b,d,g,k,f,e,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:g,pageUrl:k,pageAsin:f,weblabIds:e}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var c=a.state("desktop-landing-image-data");c&&(c=a.values(c),b=b.getResourceTimeByName("img",c),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",
e.parseInt(a.transferSize)),d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
