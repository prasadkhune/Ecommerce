(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_progressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_progressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(f){var h=window.AmazonUIPageJS||window.P,l=h._namespace||h.attributeErrors,c=l?l("DetailPageMobileIconFarmAssets@common","DetailPageMobileIconFarm"):h;c.guardFatal?c.guardFatal(f)(c,window):c.execute(function(){f(c,window)})})(function(f,h,l){f.when("A","ready").register("get-icon-farm-page-state",function(c){return{parseJSON:function(e,b){b="iconfarm-state-"+b;var d='script[data-a-state\x3d"{"key":"'+b+'"}"]',a;try{a=c.$("#"+e).find(d).html()}catch(k){console.log(k.message)}a?e=c.$.parseJSON(a):
(c.state.parse(),e=c.state(b));return e}}});f.declare("icon-farm-mod-constants",{selector:{BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",iconfarm:"#iconfarmv2_feature_div .offersConsistencyEnabled"}});f.declare("iconfarm-metrics-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",METRIC_TYPE:{GLANCE_VIEW:"GLANCE_VIEW",ICON_CLICK:"ICON_CLICK",SECONDARY_PAGE_OPEN:"SECONDARY_PAGE_OPEN",SECONDARY_PAGE_CLOSE:"SECONDARY_PAGE_CLOSE",
FULL_RETURN_POLICY:"FULL_RETURN_POLICY",PAGE_DATA_MISSING:"PAGE_DATA_MISSING",ABSENT:"ABSENT"},REF_MARKER_PREFIX:{ICON_FARM_WIDGET:"iconfarm_wid",AMAZON_DELIVERED:"iconfarm_ad",RETURNS_POLICY:"iconfarm_rp",PAY_ON_DELIVERY:"iconfarm_pod",WARRANTY:"iconfarm_wr",EASY_CARE:"iconfarm_ec",AMAZON_PROTECT:"iconfarm_ap",NO_CONTACT_DELIVERY:"iconfarm_ncd",GENERIC_RETURN_POLICY:"iconfarm_grp",MULTIPLE_SPECIFIC_RETURN_POLICY:"iconfarm_msrp",SINGLE_SPECIFIC_RETURN_POLICY:"iconfarm_ssrp",PAYMENTS_AND_SECURITY:"iconfarm_ps",
PAY_ON_DELIVERY_ACTIVE:"iconfarm_pod_active",PAY_ON_DELIVERY_INACTIVE:"iconfarm_pod_inactive",WARRANTY_EU:"iconfarm_wr_eu",AMAZON_MANAGED_DELIVERY:"iconfarm_amd",AMAZON_DELIVERED_MENA:"iconfarm_ad_mena",SAFE_PAYMENTS:"iconfarm_sp",STATIC_RETURNS_POLICY:"iconfarm_srp",GENERIC_RETURNS_POLICY:"iconfarm_grp",SUPPORT_POLICY:"iconfarm_supp",WARRANTY360:"iconfarm_wr360",WORRY_FREE_GUARANTEE_JP:"iconfarm_wfg_jp",WARRANTY_JP:"iconfarm_wr_jp",DELIVERY_JP:"iconfarm_dl_jp",RETURN_POLICY_JP:"iconfarm_rp_jp",SMALL_BUSINESS_JP:"iconfarm_sb_jp",
DELIVERY_HIT:"iconfarm_dh",WARRANTY_HIT:"iconfarm_wh",RETURN_POLICY_HIT:"iconfarm_rph",CUSTOMER_SUPPORT:"iconfarm_cs",SERVICE:"iconfarm_serv",FREE_DELIVERY:"iconfarm_fd",FREE_DELIVERY_V2:"iconfarm_fdv2",TOP_BRAND:"iconfarm_tb",AUTHENTICITY:"iconfarm_auth"},REF_MARKER_SUFFIX:{GLANCE_VIEW:"_gv",ICON_CLICK:"_clk",SECONDARY_PAGE_OPEN:"_sp_op",SECONDARY_PAGE_CLOSE:"_sp_cl",FULL_RETURN_POLICY:"_frp",ABSENT:"_noavail"},NEXUS_CONFIG:{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3"},
LOGGER_CONFIG:{NEXUS_LOGGER:"nexus"}});f.when("A","iconfarm-return-policy-metric-logger","iconfarm-pay-on-delivery-metric-logger","iconfarm-default-metric-logger").register("iconfarm-icon-metric-factory",function(c,e,b,d){return{getIconMetric:function(a){switch(a){case "RETURNS_POLICY":return e;case "PAY_ON_DELIVERY":return b;default:return d}}}});f.when("A","iconfarm-metrics-constants","get-icon-farm-page-state","iconfarm-icon-metric-factory","ready").register("iconfarm-metricLogger",function(c,
e,b,d){return{log:function(a,k,m,g){if(a&&k&&null!==m&&e.REF_MARKER_PREFIX[a]&&e.REF_MARKER_SUFFIX[k]){var f=c.$("#icon-farm-widget-"+m),h=b.parseJSON(e.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+m,m);h?d.getIconMetric(a).log(a,k,m,c.$.extend(!0,{asin:h.asin,merchantId:h.merchantId,remoteAddress:h.remoteAddress,isInternal:h.isInternal,isRobot:h.isRobot,numOfShownIcons:h.numOfShownIcons,buyingOptionIndex:m},g)):f.length&&console.warn("iconfarm state may not be available")}}}});f.when("A","ready").register("iconfarm-postmetric",
function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var e=h.ue;if(e){var b=e.count(c)||0;e.count(c,b+1)}}},postTimeMetric:function(c,e){if("undefined"!==typeof c&&"undefined"!==typeof e){var b=h.ue;b&&b.count(c,e)}}}});f.when("A","ready").register("iconfarm-metric-cache",function(c){var e=[],b=function(a){if(!d(a))return!1;var b=!1;c.each(e,function(c,d){c.asin===a.asin&&c.merchantId===a.merchantId&&c.ref===a.ref&&c.loggerType===a.loggerType&&c.buyingOptionIndex===a.buyingOptionIndex&&
(b=!0)});return b},d=function(a){return a&&a.asin&&a.merchantId&&a.ref&&a.loggerType&&null!==a.buyingOptionIndex};return{isPresent:b,add:function(a){return d(a)?b(a)?!1:(e.push(a),!0):!1},reset:function(){e=[]}}});"use strict";f.when("A","iconfarm-metric-cache","iconfarm-metrics-constants","ready").register("iconfarm-Nexus-Service",function(c,e,b){return{log:function(d){if(e.add(d)){var a={};a.producerId=b.NEXUS_CONFIG.NEXUS_PRODUCER_ID;a.schemaId=b.NEXUS_CONFIG.NEXUS_SCHEMA_ID;a.refMarker=d.ref;
a.pageAsin=d.asin;a.pageType=c.capabilities?c.capabilities.mobile?c.capabilities.isAmazonApp?"DetailWebView":"DetailAW":"Detail":"";a.subPageType="IconFarm";a.server=h?h.ue_sn:"";a.merchantId=d.merchantId;a.remoteAddress=d.remoteAddress;a.isInternal=d.isInternal?1:0;a.isRobot=d.isRobot?1:0;var k={};k.numOfShownIcons=d.numOfShownIcons;k.buyingOptionIndex=d.buyingOptionIndex;d=JSON.stringify(k);a.additionalRequestData=d;if(d=h.ue)try{d.event&&d.event(a,b.NEXUS_CONFIG.NEXUS_PRODUCER_ID,b.NEXUS_CONFIG.NEXUS_SCHEMA_ID)}catch(f){d.count("NexusLoggerFailure",
1)}}}}});f.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","ready").register("iconfarm-default-metric-logger",function(c,e,b,d){return{log:function(a,k,f,g){f=JSON.parse(JSON.stringify(g));e.log(c.$.extend(!0,f,{ref:b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[k],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[k])}}});f.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state",
"ready").register("iconfarm-return-policy-metric-logger",function(c,e,b,d,a){return{log:function(k,f,g,h){a:{if((g=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+g,g))&&g.RETURNS_POLICY&&g.RETURNS_POLICY.secondaryViewData&&g.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies)switch(g.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies.length){case 0:g="GENERIC_RETURN_POLICY";break a;case 1:g="SINGLE_SPECIFIC_RETURN_POLICY";break a;default:g="MULTIPLE_SPECIFIC_RETURN_POLICY";break a}g=void 0}k=
g||k;h=JSON.parse(JSON.stringify(h));e.log(c.$.extend(!0,h,{ref:b.REF_MARKER_PREFIX[k]+b.REF_MARKER_SUFFIX[f],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[k]+b.REF_MARKER_SUFFIX[f])}}});f.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-pay-on-delivery-metric-logger",function(c,e,b,d,a){return{log:function(f,h,g,l){g=(g=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+g,
g))&&g.PAY_ON_DELIVERY&&g.PAY_ON_DELIVERY.isEligible?g.PAY_ON_DELIVERY.isEligible?"PAY_ON_DELIVERY_ACTIVE":"PAY_ON_DELIVERY_INACTIVE":void 0;f=g||f;l=JSON.parse(JSON.stringify(l));e.log(c.$.extend(!0,l,{ref:b.REF_MARKER_PREFIX[f]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[f]+b.REF_MARKER_SUFFIX[h])}}})});
/* ******** */
(function(k){var n=window.AmazonUIPageJS||window.P,h=n._namespace||n.attributeErrors,a=h?h("DetailPageMobileIconFarmAssets@desktop","DetailPageMobileIconFarm"):n;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,n,h){k.when("A","a-popover","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-popover",function(a,e,b,d,c,g){var q=function(f){var l=f.data("name");a.off("a:popover:beforeShow:"+
l);a.on("a:popover:beforeShow:"+l,function(f){f=g.getCurrentBuyingOptionIndex();d.log(l,c.METRIC_TYPE.ICON_CLICK,f);d.log(l,c.METRIC_TYPE.SECONDARY_PAGE_OPEN,f)});a.off("a:popover:beforeHide:"+l);a.on("a:popover:beforeHide:"+l,function(f){f=g.getCurrentBuyingOptionIndex();d.log(l,c.METRIC_TYPE.SECONDARY_PAGE_CLOSE,f)})};return{init:function(){for(var f=a.$(b.ICON_FARM_CONTAINER_CLASS),l=0;l<f.length;l++){var d=a.$(f[l]),c=d.data(b.TYPE_PARAM);if(c&&c===b.TYPE_PARAM_VALUE_CUSTOM_POP_OVER){var c=d,
g=a.$("#"+c.data(b.POPOVER_CONTENT_PARAM)),g={activate:b.POPOVER_ACTIVATION,position:b.POPOVER_POSITION,width:b.POPOVER_WIDTH,inlineContent:g.html(),name:c.data("name")};e.create(c,g);q(d)}}}}});k.when("A","get-icon-farm-page-state","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-returns-policy",function(a,e,b,d,c,g){a.declarative("returns-policy-url","click",function(a){a=g.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",
c.METRIC_TYPE.FULL_RETURN_POLICY,a);a=e.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+a,a);n.open(a.RETURNS_POLICY.genericReturnPolicyURL,"_blank")});a.off("a:popover:beforeShow:return-policy-secondary-view");a.on("a:popover:beforeShow:return-policy-secondary-view",function(a){a=g.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",c.METRIC_TYPE.ICON_CLICK,a);d.log("RETURNS_POLICY",c.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:return-policy-secondary-view");a.on("a:popover:beforeHide:return-policy-secondary-view",
function(a){a=g.getCurrentBuyingOptionIndex();d.log("RETURNS_POLICY",c.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)});return{init:function(){}}});k.when("A","IconFarmPageStateParserService","icon-farm-desktop-popover","icon-farm-desktop-returns-policy","iconfarm-metricLogger","icon-farm-constants","iconfarm-metrics-constants","iconfarm-metric-cache","icon-farm-web-mod-util","icon-farm-change-buying-option","atf","ready").execute(function(a,e,b,d,c,g,q,f,l,v){function u(){f.reset();b.init();d.init();v.init();
for(var a=0;a<p;a++)h(a)}var p=l.getBuyingOptionCounts(),h=function(f){var l="#icon-farm-widget-"+f,b=a.$(l);b&&b.length?c.log("ICON_FARM_WIDGET",q.METRIC_TYPE.GLANCE_VIEW,f):c.log("ICON_FARM_WIDGET",q.METRIC_TYPE.ABSENT,f);(l=a.$(l+" .icon-container"))&&l.length&&l.each(function(){c.log(a.$(this).data("name"),q.METRIC_TYPE.GLANCE_VIEW,f)})};u();a.on("a:pageUpdate",function(){var f;a:{try{if(a.$("#"+g.ICON_FARM_V2_FEATURE_DIV).find("script").length){f=g.ICON_FARM_V2_FEATURE_DIV;break a}if(a.$("#"+
g.ICON_FARM_V2_PRIMARY_FEATURE_DIV).find("script").length){f=g.ICON_FARM_V2_PRIMARY_FEATURE_DIV;break a}c.log("ICON_FARM_WIDGET",q.PAGE_DATA_MISSING,0)}catch(l){k.log(l,"ERROR","DetailPageMobileIconFarm")}f=void 0}if(f){for(var b=0;b<p;b++)if(e.isNewState(f,g.ICON_FARM_STATE+"-"+b)){var d=e.processState(f,g.ICON_FARM_STATE+"-"+b);if(a.objectIsEmpty(d))return}u()}})});k.declare("icon-farm-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_V2_FEATURE_DIV:"iconfarmv2_feature_div",ICON_FARM_V2_PRIMARY_FEATURE_DIV:"iconFarmV2InsidePrimary_feature_div",
ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",ICON_FARM_CONTAINER_CLASS:".icon-container",ICON_FARM_SECONDARY_VIEW_HOLDER_ID:"#icon-farm-secondary-view-holder",ICON_FARM_STATE:"iconfarm-state",POPOVER_ACTIVATION:"onclick",POPOVER_POSITION:"triggerBottom",POPOVER_WIDTH:"533",POPOVER_CONTENT_PARAM:"iconContent",TYPE_PARAM:"type",TYPE_PARAM_VALUE:"bottom-sheet",TYPE_PARAM_VALUE_CUSTOM_POP_OVER:"custom-pop-over"});(function(){k.when("A","atf","ready").register("IconFarmPageStateParserService",
function(a){function e(b,e){e='script[data-a-state\x3d"'+JSON.stringify({key:e})+'"]';return a.$("#"+b).find(e)}return{processState:function(b,d){var c;try{var g=e(b,d),h=g[0];c=g.html();var f=a.parseJSON(c);a.state(d,f);a.$.data(h,"state_processed",!0);return f}catch(l){console.log(l)}return a.state(d)},isNewState:function(b,d){try{return!a.$.data(e(b,d)[0],"state_processed")}catch(c){console.warn("Unable to determine state status",c)}return!1}}})})();"use strict";k.when("A","icon-farm-mod-constants").register("icon-farm-web-mod-util",
function(a,e){return{getBuyingOptionCounts:function(){if(!a.$(e.selector.iconfarm).length)return 1;var b=a.$(e.selector.BUYBOX_ACCORDION);if(0===b.length)return 1;b=b[0];if(a.$(e.selector.iconfarm).length){for(var b=b.children,d=0,c=0;c<b.length;c++)var g=a.$(b[c]).attr("data-buying-option-index"),d=Math.max(d,g);b=d}else b=0;return b+1},getCurrentBuyingOptionIndex:function(){var b=0;if(!a.$(e.selector.iconfarm).length)return 0;var d=a.$(e.selector.BUYBOX_ACCORDION_ACTIVE);d.length&&(b=d.index());
return b}}});k.when("A","icon-farm-mod-constants","icon-farm-web-mod-util","ready").register("icon-farm-change-buying-option",function(a,e,b){var d=b.getCurrentBuyingOptionIndex(),c=function(b){var c=a.$(e.selector.iconfarm);if(c.length){var f=c[0].children;f.length&&(c=f[d],b!==h&&b.selectedRow!==h&&b.selectedRow.$row!==h&&a.$(b.selectedRow.$row)!==h&&(b=a.$(b.selectedRow.$row).index(),b!==d&&(f=f[b],c.style.display="none",f.style.display="block",d=b)))}};return{init:function(){a.on("a:pageUpdate",
c);a.on("PageRefresh:ATF",c);a.on("a:accordion:buybox-accordion:select",c)}}});"use strict";k.when("A","a-carousel-constants","a-carousel-utils","a-carousel-transition-slide").register("carousel-move-one-box-transition-iconfarm",function(a,e,b,d){function c(f,b,c,d){c?(f.setAttr(e.CURRENTLY_WRAPPING,!0),b.callback=c,b.easingFunction=b.easingFunction||f.getAttr(e.WRAP_EASING),b.animationSpeed=1.3*(a.isFiniteNumber(b.animationSpeed)?b.animationSpeed:f.getAttr(e.ANIMATION_SPEED))):b.callback=d}function g(f,
a){(a.animationDuration===h||0<a.animationDuration)&&!a.silent&&f.setAttr(e.ANIMATING,!0)}function k(f,a){var b=f.getAttr(e.PAGE_SIZE),c=f.dom.$container.find(".a-carousel-card"),d=c.width(),c=c.outerWidth();a-=b*c;b=0;a>d&&(b=a-d);f.dom.$container.find(".a-carousel-right").css("margin-right",b+e.CURRENT_PIXEL)}b=a.copy(d);b.gotoPage=function(a,b,c){var d=a.getAttr(e.CIRCULAR),h=a.getAttr(e.PAGE_SIZE),k=a.getAttr(e.SET_SIZE);c=c||{};g(a,c);var m=1;k>h&&(m=k-h+1);d?b>m?b=1:1>b&&(b=m):b>m?b=m:1>b&&
(b=1);a.setAttr(e.PAGE_NUMBER,b);this.gotoIndex(a,b,c);this.setButtonVisibility(a,b,m)};b.gotoIndex=function(a,b,d){var h,p,r,m,n,t;d=d||{};g(a,d);h=a.getAttr(e.CIRCULAR)&&!a.getAttr(e.CURRENTLY_WRAPPING);p=d.callback;r=this;m=null;n=a.getViewportWidth();a.setAttr(e.FIRST_VISIBLE_ITEM,b);1>b?h&&(m=-n,t=function(){p&&p();r.wrapToLast(a)}):b>a.getAttr(e.SET_SIZE)?h&&(m=a.getAttr(e.CURRENT_PIXEL)+n,t=function(){p&&p();r.wrapToFirst(a)}):m=a.getItemOffset(b);c(a,d,t,p);null!==m&&this.gotoPixel(a,m,d);
k(a,n)};b.setButtonVisibility=function(a,b,c){var d=a.getAttr(e.CIRCULAR),g=a.dom.$container.find(".a-carousel-goto-prevpage"),k=a.dom.$container.find(".a-carousel-goto-nextpage");d?(g.css("visibility","visible"),k.css("visibility","visible")):(b===h&&c===h&&(b=a.getAttr(e.PAGE_NUMBER),d=a.getAttr(e.PAGE_SIZE),a=a.getAttr(e.SET_SIZE),c=1,a>d&&(c=a-d+1)),1===b?g.css("visibility","hidden"):g.css("visibility","visible"),b===c?k.css("visibility","hidden"):k.css("visibility","visible"))};b.handleWindowResize=
function(a){var b=a.getAttr(e.CIRCULAR),c=a.dom.$container.find(".a-carousel-goto-prevpage");a=a.dom.$container.find(".a-carousel-goto-nextpage");b||(c.css("visibility","hidden"),a.css("visibility","hidden"))};return b});k.when("A","a-carousel-framework","carousel-move-one-box-transition-iconfarm").register("move-one-box-iconfarm-carousel",function(a,e,b){e.registerStrategy("transition","a-carousel-iconfarm-moveOneBox",b);return{initializeCarousel:function(d){e.onInit(d,function(c){b.setButtonVisibility(c,
h,h);a.$(n).resize(function(){b.handleWindowResize(c);a.delay(function(){b.setButtonVisibility(c,h,h)},1E3)})})}}});k.when("A","atf").execute(function(a){function e(){a.loadImageManually(a.$(".icon-box"));var b=a.$(".icon-farm-image-skeleton");b.length&&b.css("background-color","inherit")}e();a.on("a:pageUpdate",function(){e()})})});
/* ******** */
(function(d){var f=window.AmazonUIPageJS||window.P,g=f._namespace||f.attributeErrors,b=g?g("DetailPageSocialProofingAssets@common","DetailPageSocialProofing"):f;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,f,g){d.declare("socialProofingConstants",{socialProofingAUIState:"social-proofing-page-state-cache",socialProofingState:"social-proofing-page-state",socialProofingTriggeredAsinsState:"social-proofing-triggered-asins-page-state",socialProofingBadgeClass:".social-proofing-badge",
socialProofingFaceoutClass:".social-proofing-faceout",socialProofingBadgeWeblabDivId:"#social-proofing-badge-weblab-data",MOBILE_APP:"mobileApp",ATTRIBUTION:"SocialProofing"});"use strict";d.when("A","socialProofingConstants","socialProofingPageState","ready").register("socialProofingUtil",function(b,e,h){function k(b,a){f.ue&&f.ue.trigger?f.ue.trigger(b,a):d.log("Failed to get ue and ue.trigger for weblab: "+b+"and treatment: "+a,"WARN",e.ATTRIBUTION)}return{getAttributeFromPageState:function(c){var a=
b.state(e.socialProofingState);if(a)return a[c]},triggerWebLab:k,triggerWeblabsBySectionId:function(c){c=b.$(c);if(c.length){if(!h.isWeblabTriggered()&&(c=c[0])){c=c.dataset;for(var a in c)k(a.toString().toUpperCase(),c[a]);h.updateWeblabTriggeredToTrue()}}else b.state.replace(e.socialProofingTriggeredAsinsState,{})}}});"use strict";d.when("A","socialProofingConstants","ready").register("socialProofingPageState",function(b,e){function d(){var a=b.state(c);if(a)return a.asin}function f(){var a=b.state(e.socialProofingTriggeredAsinsState);
return a?!0===a.weblabTriggered:(b.state.replace(e.socialProofingTriggeredAsinsState,{weblabTriggered:!1}),!1)}var c=e.socialProofingState;return{reloadPageState:function(){b.each(b.$(".social-proofing-badge").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&(b.state.replace(c,a,!0),b.state.replace(e.socialProofingTriggeredAsinsState,{}))});b.each(b.$(".social-proofing-faceout").siblings("[data-a-state]"),function(a){b.parseJSON(b.$(a).attr("data-a-state")).key===
c&&(a=b.parseJSON(b.$(a).html()))&&a.asin!==d()&&b.state.replace(c,a,!0)})},isMobileApp:function(){var a=b.state(c);if(a)return a.deviceType===e.MOBILE_APP},getAsin:d,getMerchantId:function(){var a=b.state(c);if(a)return a.merchantId},getRemoteAddress:function(){var a=b.state(c);if(a)return a.remoteAddress},getIsInternal:function(){var a=b.state(c);if(a)return a.isInternal},getIsRobot:function(){var a=b.state(c);if(a)return a.isRobot},getAvailableBadges:function(){var a=b.state(c);if(a)return a.availableBadges},
getAvailableFaceouts:function(){var a=b.state(c);if(a)return a.availableFaceouts},isWeblabTriggered:f,updateWeblabTriggeredToTrue:function(){var a=b.state(e.socialProofingTriggeredAsinsState);a&&!f()&&(a.weblabTriggered=!0,b.state.replace(e.socialProofingTriggeredAsinsState,a))}}})});
/* ******** */
(function(f){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,d=e?e("DetailPageSocialProofingAssets@logger","DetailPageSocialProofing"):c;d.guardFatal?d.guardFatal(f)(d,window):d.execute(function(){f(d,window)})})(function(f,c,e){f.when("A","ready").register("socialProofingNexusLogger",function(d){function f(b){var a=c.ue;if(a)try{a.event&&a.event(b,b.producerId,b.schemaId)}catch(d){a.count("NexusLoggerFailure",1)}}var a={};return{createEvent:function(b){a.producerId=b.producerId;
a.schemaId=b.schemaId;a.pageAsin=b.pageAsin;a.pageType=b.pageType;a.subPageType=b.subPageType;a.merchantId=b.merchantId;a.remoteAddress=b.remoteAddress;a.isInternal=b.isInternal?1:0;a.isRobot=b.isRobot?1:0;a.server=c?c.ue_sn:""},logNexusEvent:function(b,c){if(0!==Object.keys(a).length){var e=JSON.parse(JSON.stringify(a));e.refMarker=b;d.objectIsEmpty(c)||Object.keys(c).forEach(function(a){e[a]=c[a]});f(e)}}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@badges","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingBadgeUtil",function(b,d){return{isSocialProofingBadgePresent:function(){return 0<b.$(d.socialProofingBadgeClass).length}}});"use strict";a.declare("socialProofingBadgeMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_badge_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingBadgeMetricConstants","socialProofingNexusLogger").register("socialProofingBadgeNexusLogger",function(b,d,a,c){return{createSocialProofingBadgeNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableBadges();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(a){var c=window.AmazonUIPageJS||window.P,e=c._namespace||c.attributeErrors,b=e?e("DetailPageSocialProofingAssets@faceouts","DetailPageSocialProofing"):c;b.guardFatal?b.guardFatal(a)(b,window):b.execute(function(){a(b,window)})})(function(a,c,e){a.when("A","socialProofingConstants","ready").register("socialProofingFaceoutUtil",function(b,d){return{isSocialProofingFaceoutPresent:function(){return 0<b.$(d.socialProofingFaceoutClass).length}}});"use strict";a.declare("socialProofingFaceoutMetricConstants",
{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImpressions.3",pageTypeWebview:"DetailWebview",pageTypeAW:"DetailAW",subPageType:"INAffordability",refMarker:{glanceView:"social_proofing_faceout_present"}});"use strict";a.when("A","socialProofingPageState","socialProofingFaceoutMetricConstants","socialProofingNexusLogger").register("socialProofingFaceoutNexusLogger",function(b,d,a,c){return{createSocialProofingFaceoutNexusEvent:function(){c.createEvent({producerId:a.NEXUS_PRODUCER_ID,schemaId:a.NEXUS_SCHEMA_ID,
pageType:d.isMobileApp()?a.pageTypeWebview:a.pageTypeAW,subPageType:a.subPageType,pageAsin:d.getAsin(),merchantId:d.getMerchantId(),remoteAddress:null,isInternal:d.getIsInternal(),isRobot:d.getIsRobot()})},logGlanceViewData:function(){var b=d.getAvailableFaceouts();b&&c.logNexusEvent(a.refMarker.glanceView,{additionalRequestData:b})},logMetrics:function(a,b){c.logNexusEvent(a,b)}}})});
/* ******** */
(function(b){var a=window.AmazonUIPageJS||window.P,d=a._namespace||a.attributeErrors,c=d?d("DetailPageSocialProofingAssets@desktop","DetailPageSocialProofing"):a;c.guardFatal?c.guardFatal(b)(c,window):c.execute(function(){b(c,window)})})(function(b,a,d){b.when("A","socialProofingPageState","socialProofingBadgeNexusLogger","socialProofingFaceoutNexusLogger","socialProofingBadgeUtil","socialProofingFaceoutUtil","socialProofingUtil","socialProofingConstants","atf","ready").execute(function(c,b,a,e,d,
f,g,h){c.on("a:pageUpdate",function(){d.isSocialProofingBadgePresent()&&(b.reloadPageState(),a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);f.isSocialProofingFaceoutPresent()&&(b.reloadPageState(),e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())});d.isSocialProofingBadgePresent()&&(a.createSocialProofingBadgeNexusEvent(),a.logGlanceViewData());g.triggerWeblabsBySectionId(h.socialProofingBadgeWeblabDivId);
f.isSocialProofingFaceoutPresent()&&(e.createSocialProofingFaceoutNexusEvent(),e.logGlanceViewData())})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(v){var h=window.AmazonUIPageJS||window.P,f=h._namespace||h.attributeErrors,G=f?f("SocialShareWidgetAUI","AmazonUI"):h;G.guardFatal?G.guardFatal(v)(G,window):G.execute(function(){v(G,window)})})(function(v,h,f){function G(n){if(Array.isArray(n)){for(var f=0,h=Array(n.length);f<n.length;f++)h[f]=n[f];return h}return Array.from(n)}"use strict";"use strict";v.register("SocialShareWidget",function(){var n;(function(){var f={353:function(l,a,g){Object.defineProperty(a,"__esModule",{value:!0});
var c=g(905),e=g(738);l=function(){function a(){var m=this;this.generateTimestampCollection=function(){var b=(new Date).getTimezoneOffset();b=m.getDateTimeByOffset(b);var a=m.getDateTimeByOffset(0);return{hitDay:b.split("T")[0],hitDatetime:b,hitDatetimeUtc:a}};this.getMarketplaceId=function(b){return"string"==typeof b?b:h.ue&&h.ue.mid?h.ue.mid:e.CSA_DEFAULT_VALUE.string};var b=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:e.CSA_DEFAULT_VALUE.number,hitDay:b.hitDay,
hitDatetime:b.hitDatetime,hitDatetimeUtc:b.hitDatetimeUtc,pageType:h.ue_pty?h.ue_pty:e.CSA_DEFAULT_VALUE.string,subPageType:h.ue_spty?h.ue_spty:e.CSA_DEFAULT_VALUE.string,sessionId:h.ue&&h.ue.sid?h.ue.sid:e.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
b.asin?b.asin:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=b.ingress?b.ingress:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:e.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!b.triggeredFromScreenshotToast&&b.triggeredFromScreenshotToast,a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,b=void 0===
b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===e.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,b.isCustomized=a.customizeShareCSAData.isCustomized,b.customizePreSelected=a.customizeShareCSAData.customizePreSelected,b.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=b));a.isCustomShareOptionsSheetEnabled&&
(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=b);a.caf&&(b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b).cafSwitchEnabled=a.cafSwitchEnabled?e.TRUE:e.FALSE,this.csaMetricsData.shareEntities=b);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||e.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=
function(m){var b=new Date;0!==m&&(m*=a.MINUTES_TO_MILISECONDS,b=b.getTime()-m,b=new Date(b));return b.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,c.isCSALoaded)()&&h.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",
a}();a.default=l},305:function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,c){var e={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(m){var b="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),c="\x26body\x3d".concat(encodeURIComponent(a.title));
m=encodeURIComponent(m||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(b).concat(c," ").concat(m)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(m){m="?url\x3d".concat(encodeURIComponent(m||
a.shareUrl.getReturnForChannel(this.ref)));var b="\x26description\x3d".concat(encodeURIComponent(a.title)),c="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(m).concat(b).concat(c,"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(m){var b="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));m="\x26url\x3d".concat(encodeURIComponent(m||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b).concat(m)}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(m){m=encodeURIComponent(m||a.shareUrl.getReturnForChannel(this.ref));var b=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),c=encodeURIComponent("#"+(a.hashtags[0]||"Amazon"));m=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(m),"redirect_uri\x3d".concat(b),"hashtag\x3d".concat(c)].join("\x26");return"".concat(this.shareBaseUrl).concat(m)}},tw:{label:"X",name:"x",
ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(m){var b="?text\x3d".concat(encodeURIComponent(a.title));m="\x26url\x3d".concat(encodeURIComponent(m||a.shareUrl.getReturnForChannel(this.ref)));var c="\x26hashtags\x3d".concat(a.hashtags.join(",")),d="\x26via\x3d".concat(encodeURIComponent("Amazon"));
return"".concat(this.shareBaseUrl).concat(b).concat(m).concat(c).concat(d)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(c){c="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),
"\n              ").concat(encodeURIComponent(c||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(c)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(c){c="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(c||
a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(c)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==c?0:c.length){var d={};return c.forEach(function(a){e[a]&&(d[a]=e[a])}),d}return e}},738:function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.Err={Abort:"AbortError"};l=a.CSA_HIT_TYPE={};l.CLICK_SUCCESS="click_success";l.CLICK_ERROR="click_error";l.CLICK_CANCEL="click_cancel";l.SHARE="share";l.CUSTOMIZE_SHARE=
"click_customize_success";a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF="cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.BOOKS_REF_PREFIX="bks";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";
a.SSF_AUI_PACKAGE_ATTRIBUTION="SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",
channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,
customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},905:function(l,a,g){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=
a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var c,e=g(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(c||(a.Device=c={}));a.context=function(){var m=c.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?m=c.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?m=c.IOS:(0,a.isMobileWeb)()&&(m=c.MWeb);var b="unknown";return(0,a.isMobileApp)()?b="mshop":(0,a.isMobileWeb)()?b="mweb":(0,a.isDesktop)()&&(b="desktop"),{device:m,page:(0,
a.isUeAvailable)()?h.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?h.ue_spty||h.ue_pti:"unknown",platform:b}};a.isTwisterAsin=function(){return!!h.isTwisterPage||!!h.twisterController||d};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,e.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!h.ue};a.isAUILoaded=function(){var a;return"undefined"!=typeof h&&(0,e.isString)(null===(a=null===h||void 0===h?void 0:
h.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,e.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,e.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,e.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,e.testUserAgent)(/trident|Edge/i)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,
e.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=h.screen.availWidth&&((0,e.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return h.navigator&&(0,e.isFunction)(h.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,e.isFunction)(a.share)};a.isCSALoaded=function(){return(0,e.isFunction)(h.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=h.navigator)||void 0===a?void 0:a.vendor)};var d=!1;(0,
a.isAUILoaded)()&&h.P.when("mobile-inline-twister-critical").execute(function(){d=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,
isSafari:a.isSafari,isRTL:a.isRTL}},495:function(l,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c=g(905),e=g(353),d=g(738);l=function(){function a(){}return a.logCountOnce=function(a){(0,c.isUeAvailable)()&&h.ue.count(a,(h.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,d,e){var b=this;(0,c.isAUILoaded)()&&h.P.when("A").execute(function(k){k.trigger("".concat(b.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:d,message:e})})},a.logCounter=function(a,c){c=c?".".concat(c):
"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(c);this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},a.logCounterRefactor=function(a,c){c=c?".".concat(c.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(c,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());
this.logCountOnce(a)},a.logFatal=function(a){(0,c.isAUILoaded)()&&h.P.log(a,"FATAL",this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,d){(0,c.isCSALoaded)()&&(new e.default).withCSAClickEventData(d).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);this.timers[a]=h.uet&&h.uet("bb",a,{wb:1})},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var b=this.timers[a];(0,c.isUeAvailable)()&&
b&&(b=h.uet("be",a,{wb:1})-b,h.ue.count(a,b),h.uex&&h.uex("ld",a,{wb:1}),this.emitFullMetricName(a,"stopTimer","".concat(b,"ms")),delete this.timers[a],this.timers["".concat(a,"_done_in")]=b)},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=d.UNKNOWN,a.metricName="",a.timers={},a.getMetricName=function(b,d){var e;if(void 0===d&&(d=""),(0,c.isUeAvailable)()){var g=(0,c.context)();a.platform=g.platform;a.metricName=d?".".concat(d.toLowerCase()):""}b=b('[data-action\x3d"ssf-share-icon"]').data();
d=d?".".concat(d):"";return b?(b=(null===(e=b.ssfShareIcon)||void 0===e?void 0:e.shareDataAttributes)||{},e=b.ingress,b=b.platform,b=void 0===b?"unknown":b,"".concat(void 0===e?"unknown":e,".").concat(b).concat(d).toLowerCase()):""},a}();a.default=l},241:function(l,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c,e=g(905),d=g(738);!function(a){a.RETURN="r";a.CLICK="cl"}(c||(c={}));l=function(){function a(a,c){if(void 0===a&&(a="ur"),void 0===c&&(c=void 0),this.PREFIX="cm_sw",this.id="",
this.refId="",this.cxt={device:e.Device.Other,page:"",subPage:"",platform:d.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,e.context)();this.treatment=c;this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(c.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(c.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=
function(a){var b=this.treatment?"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(c.RETURN,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(b).concat(this.id)},a.prototype.getClickForChannel=function(a){return"".concat(this.PREFIX,"_").concat(c.CLICK,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(this.id)},a.prototype.generateUniqueId=function(){var a,c=null===(a=null===h||void 0===h?void 0:h.ue)||void 0===a?void 0:
a.rid;return c||(c="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,13)),this.id=c},a.prototype.get=function(a){var b=this.treatment?"".concat(this.treatment,"_"):"";return"".concat(this.PREFIX,"_").concat(a,"_").concat(this.cxt.device,"_").concat(this.refId,"_").concat(b).concat(this.id)},a}();a.default=l},198:function(l,a,g){var c=this&&this.__assign||function(){return c=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=
arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},c.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var e,d=g(495),m=g(905),b=g(474),f=g(161),r=g(738);(0,m.isAUILoaded)()&&h.P.when("mash").execute(function(a){return e=a});l=function(){function a(a){this.sheetOptions={title:r.EMPTY_STRING,text:r.EMPTY_STRING,shareUrl:new b.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:r.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:r.defaultCustomizeShareCSAData,
isCustomShareOptionsSheetEnabled:!1};this.sheetOptions=c(c({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,b=this,c=this.sheetOptions.shareDataAttributes.ingress,e={channel:r.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},g=this.shareUrl.return;this.sheetOptions.tinyUrl&&(g=this.sheetOptions.tinyUrl,
d.default.logCounter("MWeb.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",c));var l=(0,f.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===h||void 0===h?void 0:h.navigator)||void 0===a||a.share({url:g,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){l&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_SUCCESS,e);d.default.logCSAEvent(r.CSA_HIT_TYPE.SHARE,e);(0,f.isFunction)(b.sheetOptions.incrementShareCount)&&
b.sheetOptions.incrementShareCount(e.refMarker);d.default.logCounterRefactor("ChannelClick",b.sheetOptions.shareDataAttributes.ingress)}).catch(function(a){l&&b.sheetOptions.sheetShownCallback();d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_SUCCESS,e);a.name===r.Err.Abort&&d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_CANCEL,e)})}catch(D){d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_ERROR,e)}},a.prototype.launchNativeApp=function(){var a=this,b=this.shareUrl.refMarker.click,g=this.sheetOptions.shareDataAttributes,
l=this.sheetOptions.refererURL,m=this.sheetOptions.customizeShareCSAData,n=this.sheetOptions.shareDataAttributes.ingress,h=r.EMPTY_STRING,p=this.sheetOptions.caf||!1,x=this.sheetOptions.cafSwitchEnabled||!1,q=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,B=this.shareUrl.return,E=(0,f.isFunction)(this.sheetOptions.incrementShareCount);this.sheetOptions.tinyUrl&&(B=this.sheetOptions.tinyUrl,d.default.logCounter("MShop.Tiny.Success"),d.default.logCounterRefactor("Tiny.Success",n));var F={channel:h,
refMarker:b,refererURL:l,shareDataAttributes:g,customizeShareCSAData:m,caf:p,cafSwitchEnabled:x,isCustomShareOptionsSheetEnabled:q};g={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:B,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==e||e.share(c(c({},g),{successCallback:function(){(0,f.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_SUCCESS,
F)},failCallback:function(){d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_ERROR,F)},shareServiceSelectedCallback:function(c){c&&"'null'"!==c?((0,f.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),F.channel=a.getChannelByKeyword(c).channel,c=a.getChannelByKeyword(c).refId,F.refMarker=a.shareUrl.refMarker.getClickForChannel(c),d.default.logCSAEvent(r.CSA_HIT_TYPE.SHARE,F),d.default.logCounterRefactor("ChannelClick",a.sheetOptions.shareDataAttributes.ingress),(0,f.isFunction)(a.sheetOptions.sdTooltipCallback)&&
a.sheetOptions.sdTooltipCallback(),E&&a.sheetOptions.incrementShareCount(b)):("MSHOP_ANDROID"===a.sheetOptions.shareDataAttributes.platform&&E&&a.sheetOptions.incrementShareCount(b),d.default.logCSAEvent(r.CSA_HIT_TYPE.CLICK_CANCEL,F))}}))},a.prototype.launch=function(a){(0,m.isNativeAppShareAvailable)(e)?this.launchNativeApp():(0,m.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,f.isFunction)(a)?a():(d.default.logCounter("Click.ShareUnavailable"),d.default.logCounterRefactor("Click.ShareUnavailable",
this.sheetOptions.shareDataAttributes.ingress))},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;h.P.now("SocialShareWidgetTitleOnly").execute(function(b){a=b?"[amazon160]":a});var b=a.length+2;b=(0,f.truncate)(this.sheetOptions.title,160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;
h.P.now("SocialShareWidgetTitleOnly").execute(function(b){a=b?"[amazon140]":a});var b=a.length+2;b=(0,f.truncate)(this.sheetOptions.title,140-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return r.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return r.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=r.RAW_CHANNEL_PREFIX+a,c=r.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);
if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b=
"WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;return h.P.now("SocialShareWidgetTitleOnly").execute(function(b){a=b?"[amazon]":a}),"".concat(this.sheetOptions.title," ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=l},474:function(l,a,g){Object.defineProperty(a,"__esModule",{value:!0});var c=g(241);l=function(){function a(d,
e,b){this.REF_PARAM_NAME="ref_";a.isValid(d)||(d=a.getDefault());this.url=new URL(d);this._refMarker=new c.default(e,b)}return a.prototype.getUpdatedUrl=function(a){var c=new URL(this.raw);return c.searchParams.set(this.REF_PARAM_NAME,a),c.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(m){return!1}return!0},
a.getDefault=function(){var a,c,b=null===(a=null===h||void 0===h?void 0:h.location)||void 0===a?void 0:a.href;if(!b)return(null===(c=null===h||void 0===h?void 0:h.ue)||void 0===c?0:c.sn)?"https://".concat(h.ue.sn):"https://amazon.com";a=new URL(b);c=a.searchParams.has("psc")?"?psc\x3d1":"";return h.ue_pti?"".concat(h.location.origin,"/dp/").concat(h.ue_pti).concat(c):(a.search=c,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},
a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=l},161:function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=
a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,c){void 0===a&&(a="");var e=Array(3).fill(".");return a.length>c?a.substring(0,c-3)+e.join(""):a};a.testUserAgent=function(a){if(!h&&!h.navigator)return!1;try{return a.test(h.navigator.userAgent)}catch(c){return!1}};
a.getCookie=function(a){a="".concat(a,"\x3d");for(var c=document.cookie.split(";"),e=0;e<c.length;e++){for(var d=c[e];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""};a.getDPXObject=function(){var a,c;return null===(c=null===(a=h.DetailPage)||void 0===a?void 0:a.StateController)||void 0===c?void 0:c.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,
getCookie:a.getCookie,getDPXObject:a.getDPXObject}},156:function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(l,a,f){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;l=f(305);var c=f(474),e=f(156),d=f(495),n=f(198),b=f(241),g=f(905);f=f(738);a.SocialShareCore={Channels:l.default,Url:c.default,Translations:e.default,Metrics:d.default,ShareSheet:n.default,RefMarker:b.default,Detection:g.default,Constants:f};a.default=a.SocialShareCore}},w=
{};n=function g(a){var c=w[a];if(void 0!==c)return c.exports;c=w[a]={exports:{}};return f[a].call(c.exports,c,c.exports,g),c.exports}(519)})();return n});"use strict";v.register("SocialShareWidgetConfig",function(){var f=Object.freeze({MODAL:"modal",POPOVER:"popover"}),q=Object.freeze({IOS:"ios",ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:f,WIDGET_ICON:q,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb",
"tw","pi"],defaultShareData:{url:"",title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:f.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,cafStarAlignmentLeft:!1,cafCustomShareOptionsEnabled:!1,t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",
className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}},isFallbackShareUrlEnabled:!1,isCafPreviewGenerationMigrationEnabled:!1,customizePreSelected:!1},defaultWidgetData:{icon:q.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,
isRobot:2,userAgent:h.navigator.userAgent,platform:"DESKTOP",ingress:h.ue_pty,asin:h.ue_pti,requestId:h.ue_id,customerId:h.opts&&h.opts.customerId,marketplaceId:h.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";v.when("A","SocialShareWidget",
"SocialShareWidgetTemplating","SocialShareWidgetConfig","SocialShareWidgetState").register("SocialShareWidgetAUI",function(n,q,w,l,a){var g=q.SocialShareCore,c=g.Metrics,e=0,d=function(){},m=!1,b=c.getMetricName(n.$),x=n.constants.HIDE_CLASS;c.startTimer(b);c.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var r=n.$,q=g.Detection,k=g.Translations,t=g.Channels,z=g.ShareSheet,A=g.Url,u=g.Constants,C=function(a){a=a.data("share")||a.find("[data-share]").data("share");return n.extend({},l.defaultWidgetData,
a)},D=r(".ssf-share-trigger"),p=l.defaultShareData,y=C(D),W=p.url,B=r("#ac-getlink-bottomsheet"),O=r('[data-action\x3d"ssf-share-icon"]'),F=function(){var a=l.iconMap;return y.icon===l.WIDGET_ICON.ARROW?a.arrow:q.isDesktop()?a.ios:y.icon===l.WIDGET_ICON.VARIABLE?q.isIOS()?a.ios:a.android:a[y.icon]},I=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));D=a.find('[class*\x3d"ssf-multi-"]')},H=void 0,M=void 0,
L=void 0,N=void 0,P=void 0,X=void 0,J=void 0;v.when("a-sheet").execute(function(a){return H=a});v.when("a-popover").execute(function(a){return M=a});v.when("a-modal").execute(function(a){return L=a});v.when("SocialShareWidgetTiny").execute(function(a){return J=a});var Q=function(a,b){var c=2<arguments.length&&arguments[2]!==f?arguments[2]:"ssf-share-bottom-sheet",k=p.customize||p.caf;if(!N||k)N=H.create({name:c,inlineContent:a,closeType:"icon",height:b});H.showSheet(N)},R=function(a){var b=a.type===
l.WIDGET_TYPE.POPOVER&&M,c=a.type===l.WIDGET_TYPE.MODAL&&L;a=w.build(a);H?Q(a.getBottom()):b?(b=a.getPopover(),D.hasClass("a-declarative")||(P=M.create(D,{name:"ssf-share-popover",position:p.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(b=a.getModal(),D.hasClass("a-declarative")||(X=L.create(D,{inlineContent:b,width:600}).show()))},aa=function(a){if(a.customize||a.caf)c.logCounter("webview.sharesheet.caf.background"),
c.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),v.when("mash").execute(function(a){a.addEventListener("appPause",K)})},ba=function(a){v.when("SocialShareWidgetCustomize").execute(function(b){w.build(a).getCustomize(function(c){Q(c,650,"ssf-customize-bottom-sheet");b.init(a,R,K);aa(a)})})},K=function Z(){v.when("mash").execute(function(a){a.removeEventListener("appPause",Z)});P&&M.get(D).hide();N&&H.hideSheet(N);X&&L.get(D).hide()},ca=function(){var a=p.shareDataAttributes.asin,
b=h.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;p.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},V=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(x);a.find("i").hide()},T=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(x);a.find("i").show()},Y=function(a){var k=a.shareData,d=a.copyElement,e=k.shareDataAttributes,l=k.t,g=k.treatment;g=g===f?"":g;var p=k.weblab;p=p===f?"":p;a={channel:"copy",refMarker:k.shareUrl.refMarker.getClickForChannel(a.channelRef),
shareDataAttributes:e,treatment:g,weblab:p};c.logCSAEvent(u.CSA_HIT_TYPE.SHARE,a);c.logCounter("DPX.Desktop.CopySuccess");c.logCounter(b,"CopySuccess");c.logCounterRefactor("CopySuccess",e.ingress);q.isDesktop()?function(){var a=d.find(".copy-label");a.text(l.taf_copy_url_changeover);n.delay(function(){K();a.text(l.taf_copy_name)},1E3)}():(r(".ssf-feedback").show(),K())},G=function(a){c.logCSAEvent(u.CSA_HIT_TYPE.CLICK_ERROR,a);c.logCounter("DPX.Desktop.CopyFailure");c.logCounter(b,"CopyFailure");
c.logCounterRefactor("CopyFailure",p.shareDataAttributes.ingress)},U=function(a){var b=a.shareData,k=a.channelRef,d=b.shareUrl;a=b.socialLinks;var l=a===f?{}:a;a=b.isOGTEnabled;a=a===f?!1:a;var r=b.dealsPreviewEnabled;r=r===f?!1:r;var g=b.eventPreviewTreatment;g=g===f?"C":g;k=k?d.getReturnForChannel(k):d.return;d=l.shareframework||b.url;l=b.aapiBaseUrl;l=l===f?"":l;var n=b.shareAapiCsrfToken;n=n===f?"":n;var p=b.tinyUrlEnabled;p=p===f?!1:p;var u=b.deeplinkInfo;u=u===f?{}:u;var m=b.storeId;m=m===f?
"":m;var t=b.shareDataAttributes;b=t.marketplaceId;b=b===f?"":b;t=t.ingress;t=t===f?"":t;if("c"!==g.toLowerCase()){k=new URL(k);var B=g.match(/^T(\d+)$/);k.searchParams.append("peakEvent",B[1]);k.searchParams.append("dealEvent",r?"1":"0");k=k.toString();c.logCounterRefactor("EventPreview"+g,t)}return{tinyUrlEnabled:p,aapiBaseUrl:l,shareAapiCsrfToken:n,marketplaceId:b,url:k,isOGTEnabled:a,originalUrl:d||k,refMarkerId:e++,deeplinkInfo:u,storeId:m}};r(document).delegate(".ssf-channel:not(.copy,.embed)",
"click",function(a){a.preventDefault();a.stopPropagation();c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(b,"ChannelClick");c.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);var k=r(this),d=k.data("key"),e=p;a=e.refererURL;var l=e.shareDataAttributes,g=e.treatment;g=g===f?"":g;var t=e.weblab;t=t===f?"":t;var m=e.builtChannels[d],B=m.ref;d=e.shareUrl.refMarker.getClickForChannel(B);e=m.name;var z=m.getSharingUrl();c.logCSAEvent(u.CSA_HIT_TYPE.SHARE,{channel:e,refMarker:d,refererURL:a,
shareDataAttributes:l,treatment:g,weblab:t});a=U({shareData:p,channelRef:B});V(k);J.fetch({data:a,callback:function(a){T(k);a&&(z=m.getSharingUrl(a),c.logCounter("Desktop.Tiny.Success"),c.logCounterRefactor("Tiny.Success",l.ingress));if("em"===B)h.open(z,"_self");else if(q.isDesktop()){a=screen.width;var b=screen.height,d="pi"===B?900:600,e=Math.min(d,.7*a);d=Math.min(d,.7*b);h.open(z,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+e+",height\x3d"+d+",top\x3d"+(b/2-d/2)+",left\x3d"+(a/2-e/2))}else h.open(z,
"_blank");K();n.trigger("ssf:event:share",p)}})});n.declarative("ssf-share-icon","click",function(d){c.logCounter("DPX.Desktop.SheetClick");c.logCounter(b,"SheetClick");if(m)return K();I(d.$currentTarget);p=n.extend(p,d.data);p.shareDataAttributes=n.extend(l.shareDataAttributes,d.data.shareDataAttributes);var e=p.shareDataAttributes.ingress;c.logCounterRefactor("SheetClick",e);if(!n.objectIsEmpty(d.data.associateLink)&&B.length)c.logCounter("ShareIngress.GetLink.T1"),c.logCounterRefactor("ShareIngress.GetLink.T1",
e),n.trigger("ac-getlink-bottomsheet-event",p);else{n.extend(k[p.lang],p.t);var f=t(p,p.channels);p.builtChannels=f;p.url=p.url.startsWith("/")?""+h.location.origin+p.url:p.url;p.shareUrl=new A(p.url,p.refId);ca()&&(p.shareUrl=new A(p.url,p.refId),p.shareUrl.url.searchParams.set("psc",1));a.set("shareData",p);q.isDesktop()?(p.image=p.image||r("#imgTagWrapperId img").attr("src"),R(p),c.logCounter("DPX.Desktop.SheetOpen"),c.logCounter(b,"SheetOpen"),c.logCounterRefactor("SheetOpen",e),c.logCSAEvent(u.CSA_HIT_TYPE.CLICK_SUCCESS,
{channel:u.EMPTY_STRING,refMarker:p.shareUrl.refMarker.click,refererURL:p.refererURL,shareDataAttributes:p.shareDataAttributes,treatment:p.treatment||"",weblab:p.weblab||""})):p.customize||p.caf?ba(p):(V(d.$currentTarget),f=U({shareData:p}),p=n.extend(p,{sheetShownCallback:function(){T(d.$currentTarget)}}),J.fetch({data:f,callback:function(a){p.tinyUrl=a;(new z(p)).launch(function(){R(p);c.logCounter("DPX.Desktop.SheetOpen");c.logCounter(b,"SheetOpen");c.logCounterRefactor("SheetOpen",e);T(d.$currentTarget)})}}));
q.isSafari()&&q.isDesktop()&&(f=U({shareData:p,channelRef:u.CP_CHANNEL_REF}),J.fetch({data:f,callback:function(a){c.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");c.logCounter(b,"TinyUrlOnSheetOpen");c.logCounterRefactor("TinyUrlOnSheetOpen",e);W=a}}));n.trigger("ssf:event:sheetOpen",p)}});r(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(a){c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(b,"ChannelClick");c.logCounterRefactor("ChannelClick",p.shareDataAttributes.ingress);a.preventDefault();
var k=r(this),d=u.CP_CHANNEL_REF,e=p.shareUrl.getReturnForChannel(d);q.isSafari()&&q.isDesktop()?navigator.clipboard.writeText(W||e).then(function(){Y({shareData:p,copyElement:k,channelRef:d})},function(){G(csaOptions)}):(a=U({shareData:p,channelRef:u.CP_CHANNEL_REF}),V(k),J.fetch({data:a,callback:function(a){T(k);navigator.clipboard.writeText(a||e).then(function(){Y({shareData:p,copyElement:k,channelRef:d})},function(){G(csaOptions)})}}));n.trigger("ssf:event:share",p)});r(document).delegate(".ssf-embed,.ssf-channel.embed",
"click",function(a){a.preventDefault();var k=p;a=k.shareDataAttributes;var d=k.treatment;d=d===f?"":d;var e=k.weblab;e=e===f?"":e;k={channel:"embed",refMarker:k.shareUrl.refMarker.getClickForChannel(u.EMBED_CHANNEL_REF),shareDataAttributes:a,treatment:d,weblab:e};c.logCSAEvent(u.CSA_HIT_TYPE.SHARE,k);c.logCounter("DPX.Desktop.ChannelClick");c.logCounter(b,"ChannelClick");c.logCounterRefactor("ChannelClick",a.ingress);L.create(r(".ssf-channel.embed"),p.kpModalParams).show()});d=function(){D=r(".ssf-share-trigger");
y=C(D);var a=y.width;if(!r(".ssf-background").length&&y.background){var b=1.4*a;b=r('\x3cdiv class\x3d"ssf-background'+(y.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:b,height:b});D.wrap(b)}y.icon&&D.css({height:a,width:a,backgroundImage:"url("+F()+")"})};q.isIE()&&r(".ssf-share-trigger,.ssf-background").remove();n.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-p.popoverDistance;a.find(".a-arrow-border").css({right:24,left:""});
a.css({left:b})});n.on("ssf:event:trigger-share-widget",function(a){n.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==f?arguments[1]:f)||O})});n.on("a:popover:show:ssf-share-popover",function(){return m=!0});n.on("a:popover:hide:ssf-share-popover",function(){return m=!1});n.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});d()})()}catch(r){c.logCounter("DPX.Desktop.Error"),c.logCounter(b,"Error"),
c.logLoad("Error"),c.logFatal("Error loading Share Framework AUI: "+r.toString())}finally{c.logCounter("DPX.Desktop.Render"),c.logCounter(b,"Render"),c.logLoad("Render"),n.trigger("ssf:event:load"),c.stopTimer(b)}return{init:d}});"use strict";var S=function(){return function(n,h){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n)){var q=[],l=!0,a=!1,g=f;try{for(var c=n[Symbol.iterator](),e;!(l=(e=c.next()).done)&&(q.push(e.value),!h||q.length!==h);l=!0);}catch(d){a=!0,g=d}finally{try{if(!l&&
c["return"])c["return"]()}finally{if(a)throw g;}}return q}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();v.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(n,h,w){w=w.SocialShareCore;var l=n.$,a=w.Detection.isClipboardAvailable,g=w.Detection.isDesktop,c=h.excludedChannels;a()||c.push("copy");var e=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};return{build:function(d){var n=
d.shareUrl,b=d.socialLinks,x=b===f?{}:b;b=d.shareDataAttributes;var r=d.builtChannels,q=d.kpModalParams,k=d.t;x.email=d.mailToUri;var t='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+k.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";
!g()&&a()&&1>l(".ssf-feedback").length&&l(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+k.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");var z=function(a){return{title:k["taf_"+a.name+"_tooltip"]||a.label,label:k["taf_"+a.name+
"_name"]||a.label}};h.lineMarketplaces.includes(b.marketplaceId)||x.li?c.push("pi"):c.push("li");q||c.push("embed");h.cnMarketplace.includes(b.marketplaceId)&&c.push.apply(c,G(h.nonCNChannels));return{getModal:function(){var b="",d=!0,l=!1,g=f;try{for(var p=Object.entries(r)[Symbol.iterator](),m;!(d=(m=p.next()).done);d=!0){var h=S(m.value,2),B=h[0],q=h[1];if(!c.includes(B)&&"copy"!==B){var F=z(q),E=x[q.name]||q.getSharingUrl();b+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+
E+'" title\x3d"'+F.title+'" data-key\x3d"'+B+'"\x3e\n                '+e("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+F.label+'" style\x3d"background-image: url('+q.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+F.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(H){l=!0,g=H}finally{try{!d&&p.return&&p.return()}finally{if(l)throw g;}}d=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+
n.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+t+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+k.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+b+"\x3c/div\x3e")+d},getPopover:function(){var a="",b=!0,k=!1,d=f;try{for(var l=Object.entries(r)[Symbol.iterator](),g;!(b=(g=l.next()).done);b=!0){var n=S(g.value,2),m=n[0],t=n[1];if(!c.includes(m)){var h=z(t),q=x[t.name]||t.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+
m+' a-color-base" href\x3d"'+q+'" title\x3d"'+h.title+'" data-key\x3d"'+m+'"\x3e\n                '+e("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+h.label+'" style\x3d"background-image: url('+t.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+m+'-label"\x3e'+h.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(H){k=!0,d=H}finally{try{!b&&l.return&&l.return()}finally{if(k)throw d;}}return""+a},getBottom:function(){var a="",b=!0,d=!1,l=
f;try{for(var g=Object.entries(r)[Symbol.iterator](),n;!(b=(n=g.next()).done);b=!0){var m=S(n.value,2),t=m[0],h=m[1];if(!c.includes(t)){var q=z(h),E=x[h.name]||h.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+t+' a-color-base" href\x3d"'+E+'" title\x3d"'+q.title+'" data-key\x3d"'+t+'"\x3e\n                '+e("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+q.label+'" style\x3d"background-image: url('+h.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+
q.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(H){d=!0,l=H}finally{try{!b&&g.return&&g.return()}finally{if(d)throw l;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+k.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a=void 0;v.now("SocialShareWidgetCustomizeTemplate").execute(function(b){a=d.customize?b.getCustomizeBox(k):""});var b='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+
k.taf_share_bottom_sheet_title+"\x3c/h3\x3e",c='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+b+"\x3c/div\x3e",l='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+d.image+')"\x3e'+e("medium")+"\x3c/div\x3e",f=d.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(d.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
k.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",g='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+d.shareLabel+"\n              "+e("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+b+l+f+a+g+"\x3c/div\x3e"+(d.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+c+l+f+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+g+"\x3c/div\x3e":"")}}}}});"use strict";v.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetTiny",function(n,q,w){var l=q.SocialShareCore.Metrics;return{fetch:function(a){var g=a.data,
c=a.isAsync;c=c===f?!0:c;var e=a.callback;if(w.get("dpx")){a=w.get("shareData");var d=w.get("shareAapiCsrfToken"),m=w.get("aapiBaseUrl");"dprv"===a.refId&&(g.shareAapiCsrfToken=d,g.aapiBaseUrl=m,g.tinyUrlEnabled=!0,l.logCounter("reviews.tiny"))}a=h.location.protocol+"//";g.isOGTEnabled&&(d=new URL(g.url),d.searchParams.append("newOGT","1"),g.url=d.toString());(d=g.deeplinkInfo)&&d.isDisabled&&d.flag!=f&&(m=new URL(g.url),m.searchParams.append("nodl",d.flag),g.url=m.toString());if(g.tinyUrlEnabled)if(g.aapiBaseUrl&&
g.shareAapiCsrfToken&&g.marketplaceId)a=""+a+g.aapiBaseUrl+"/api/marketplaces/"+g.marketplaceId+"/social-share/tinyurl",d={longUrl:g.url},0<g.refMarkerId&&g.url.match(".+(?\x3d(\\/ref\x3d|ref_\x3d)([A-Za-z0-9_])+$).+")&&(d={longUrl:g.url+"_"+g.refMarkerId}),m={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":g.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":w.get("slateToken")},
l.startTimer("Tiny"),n.ajax(a,{type:"POST",headers:m,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",async:c,data:d,success:function(a){l.logCounter("Desktop.Tiny.Response");l.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?e(a.entity.shortUrl.url):e(g.url)},error:function(){l.logCounter("Desktop.Tiny.Error");l.logCounterRefactor("Tiny.Error");e(g.url)},complete:function(){l.stopTimer("Tiny")}});else return l.logCounter("Tiny.Unavailable"),l.logCounterRefactor("Tiny.Unavailable"),
e(g.url);else return e(g.url)}}});"use strict";v.when("A").register("SocialShareWidgetState",function(f){var n="social-"+h.ue_id+"-share",w={slateToken:f.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};f.state(n,w);return{getCurrent:function(){return f.state(n)},get:function(f){return this.getCurrent()[f]},getAndReset:function(f){var a=this.get(f);a&&this.set(f,null);return a},set:function(l,a){var g=this.getCurrent();f.trigger("ssf:event:state:set",g);if(!l)return g;g[l]=a;
g=f.state(n,g);f.trigger("ssf:event:state:changed",g);return g}}});"use strict";v.when("jQuery","SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(n,q,w){q=q.SocialShareCore;var l=q.Constants,a=q.Metrics,g=h.location.protocol+"//",c=a.getMetricName(n,l.customize),e=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),d=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',
externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"'}),m=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?
a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};return{build:function(b){var h=b.shareAapiCsrfToken,r=b.locale,q=b.cafAapiCsrfToken,k=b.productType,t=b.shareDataAttributes,z=t.marketplaceId,A=t.asin,u=t.ingress,C=g+b.aapiBaseUrl,D=w.get("slateToken");D||(a.logCounter(c,"slate.missing"),a.logCounterRefactor("slate.missing",u));var p=function(a){return C+"/custom/socialshareapicontracts/marketplaces/"+
z+"/products/"+A+"/shareframework/"+a},y=function(a){var b=a.async;n.ajax({url:a.url,type:a.type,async:b===f?!0:b,data:a.data,headers:{"Accept-Language":r,Accept:a.accept,"x-api-csrf-token":a.cafToken||h,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":D},xhrFields:{withCredentials:!0},success:a.success,error:a.error,complete:a.complete})};return{generateImage:function(b,k){var f=p("generatecustomizedimage");a.startTimer("GenerateCustomizeImage");y({url:f,type:e.POST,
data:b,accept:d.generateImage,success:function(b){a.logCounter(c,"generateCustomizeImageSuccess");a.logCounterRefactor("generateCustomizeImageSuccess",u);k(b)},error:function(b){a.logCounter(c,"generateCustomizeImageFail");a.logCounterRefactor("generateCustomizeImageFail",u);k(b)},complete:function(){a.stopTimer("GenerateCustomizeImage")}})},externalizeImage:function(b,k,f){b=p("externalizecustomizedimage?customizedImageUrl\x3d"+b);a.startTimer("ExternalizeImage");y({url:b,type:e.PUT,accept:d.externalizeImage,
async:f,success:function(a){k(a)},error:function(){a.logCounter(c,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",u);k({})},complete:function(){a.stopTimer("ExternalizeImage")}})},fetchTabs:function(b){var f=p("productshareableattributes?locale\x3d"+r+"\x26type\x3d"+k);a.startTimer("FetchTabs");y({url:f,type:e.GET,accept:d.fetchTabs,success:function(k){a.logCounter(c,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",u);b(m(k))},error:function(){a.logCounter(c,"FetchTabsFail");
a.logCounterRefactor("FetchTabsFail",u);b([])},complete:function(){a.stopTimer("FetchTabs")}})},fetchCAFID:function(k){var g=1<arguments.length&&arguments[1]!==f?arguments[1]:!0,t=C+"/custom/consultafriendcontracts/marketplaces/"+z+"/consultafriend/feedback-request/"+A;a.logCounter(c,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",u);a.startTimer("CafIdGeneration");y({url:t,type:e.POST,accept:d.fetchCAFID,async:g,cafToken:q,success:function(a){k(a.entity&&a.entity.cafId,A,
b.url)},error:function(b){a.logCounter(c,"CAF.createCAFID.failed");a.logCounterRefactor("CAF.createCAFID.failed",u);v.log("Error Creating CAF Id. with request URL "+t+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",l.SSF_AUI_PACKAGE_ATTRIBUTION);k()},complete:function(){a.stopTimer("CafIdGeneration")}})}}}}});"use strict";v.when("A","SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(h,q){var n=h.capabilities.rtl,l=q.SocialShareCore.Detection.isAndroid(),
a=void 0,g=h.constants.HIDE_CLASS;v.when("mash").execute(function(b){return a=b});var c=function(b,c){if(!a)return c([]);var d=b.length,f=[];b.forEach(function(a){e(a,function(a,b){d--;b&&(f[a.label.toLowerCase()]=a);(3<=f.length||0>=d)&&c(f)})})},e=function(b,c){var d="whatsapp"===b.label.toLowerCase()&&l;a.canLaunchIntentURL({url:b.schemeURI,successCallback:function(a){if(d)return c(b,!0);c(b,a)},failCallback:function(){if(d)return c(b,!0);c(b,!1)}})},d=function(a){var b=1<arguments.length&&arguments[1]!==
f?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},m=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==f?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(b,d){var e="";c(b.customShareOptions,function(c){c=h.extend(c,b.defaultCustomShareOptions);b.customShareBuiltChannels=c;for(var k in c)if(!("more"===k&&!a||"copy"===k&&l)){var t=
e;var m=b;var n=c[k],r=n.stringId,q=n.className,x=n.label;n="https://m.media-amazon.com/images/G/01/share-icons/"+n.image;m='\x3cli class\x3d"ssf-custom-share-option '+(q===f?"":q)+'"  data-name\x3d"'+x.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+g+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+n+'" title\x3d"'+x+'" /\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+
(m.t[r]||x)+"\x3c/span\x3e\n                 \x3c/li\x3e";e=t+m}d('\x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\x3cdiv class\x3d"ssf-no-border"\x3e\x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e'+e+"\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e")})},getPreviewImage:function(a){var b=a.starRating,c=a.numberOfReviews,e=n?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+d(a.productImage,"ssf-regular")+"\x3c/div\x3e";b=b?d("RIO"+b+
e+".png","ssf-caf-stars"):"";c=m(c);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+b+c+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+g+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
g+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+g+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"}}});"use strict";v.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(n,q,w,l){var a=n.$;q=q.SocialShareCore;var g=q.ShareSheet,c=
q.Metrics,e=q.Constants,d=void 0,m=void 0,b=void 0,x=void 0,r=!1,E=n.constants.HIDE_CLASS;v.when("mash").execute(function(a){m=a});v.when("SocialShareWidgetTiny").execute(function(a){d=a});v.when("SocialShareWidgetCustomizeUtils").execute(function(a){b=a});v.when("SocialShareWidgetCAFUtils").execute(function(a){x=a});return{init:function(k,t,q,A,u,w){var z=k.shareDataAttributes;t=k.incrementShareCount;var p=t===f?null:t;t=k.treatment;var y=t===f?"":t;t=k.weblab;var C=t===f?"":t;t=k.refererURL;var B=
t===f?"":t,O=k.ingress;n.on("ssf:event:caf-switch-change",function(a){r=a});var F=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(E)},I=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(E)},H=function(){return r?(k.t["taf-share-caf-messageprefix"]||"")+" "+k.title:k.title},M=function(a,c,e){r?x.prepareShareUrl(k,a,d,c,function(a,b){return e(a,b)}):b.prepareShareUrl(k,a,d,c,function(a){return e(a)})},L=function(a){a&&n.trigger("ssf:event:caf-share-complete-success",
k)},N=function(a,b,c,d){var e=encodeURIComponent(d+" \n "+c);return"Messages"===b?n.capabilities.ios?"sms:///\x26body\x3d"+e:"mms:?\x26body\x3d"+e:"Email"===b?a=a.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(k.emailSubject)).replace("{body}",""+e):a=a.replace("{text}",encodeURIComponent(d)).replace("{url}",encodeURIComponent(c))},P=function(){M(e.EMPTY_STRING,!0,function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"";k.tinyUrl=a;var d=k;b&&(d=n.extend({channelSelectCB:function(){L(b)},
cafSwitchEnabled:r},k),d.title=H());(new g(d)).launch(function(){c.logCounterRefactor("customShareOptions.SheetOpen",O)})})};a(".custom-share-native-sheet").unbind("click").click(function(a){q();P()});a(".custom-share-copy").unbind("click").click(function(b){var d=e.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,g=k.caf,m=a(this);F(m);M(d,!1,function(b){var n=1<arguments.length&&arguments[1]!==f?arguments[1]:"";navigator.clipboard.writeText(b).then(function(){var b=k.isCustomShareOptionsSheetEnabled;b=b===f?
!1:b;var h=k.shareUrl.refMarker.getClickForChannel(d),t=l.getAndReset(e.customizeShareStateKey);c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:"copy",refMarker:h,refererURL:B,shareDataAttributes:z,treatment:y,weblab:C,isCustomShareOptionsSheetEnabled:b,caf:g,cafSwitchEnabled:r,customizeShareCSAData:t});c.logCounterRefactor("CopySuccess",z.ingress);"function"===typeof p&&p(h);a(".ssf-feedback").show();I(m);q();n&&L(n)},function(){w({shareData:k,channelRef:d,caf:g,cafSwitchEnabled:r});I(m)})})});a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");
a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(function(b){var d=a(this);b=k.customShareBuiltChannels;var g=k.isCustomShareOptionsSheetEnabled,n=g===f?!1:g;g=k.caf;var t=g===f?!1:g;g=k.isFallbackShareUrlEnabled;var u=g===f?!1:g,A=d.data("name"),x=b[A];b=e.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_"+x.ref;var w=k.shareUrl.refMarker.getClickForChannel(b);a(".ssf-error-text").addClass(E);F(d);M(b,!0,function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"",
g=l.getAndReset(e.customizeShareStateKey),K=N(x.shareUrl,x.label,a,H());m?m.launchIntentURL({url:K,successCallback:function(){I(d);q();c.logCounterRefactor("ChannelClick",z.ingress);"function"===typeof p&&p(w);b&&L(b);c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:A,refMarker:w,refererURL:B,shareDataAttributes:z,treatment:y,weblab:C,isCustomShareOptionsSheetEnabled:n,caf:t,cafSwitchEnabled:r,customizeShareCSAData:g})},failCallback:function(b){v.log("Failed to launch intent URL "+K+" with error code: "+
b.code,"WARN",e.SSF_AUI_PACKAGE_ATTRIBUTION);c.logCounterRefactor("customShareOptions.LaunchShareIntentFail",k.shareDataAttributes.ingress);I(d);u&&x.fallbackShareUrl?(c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:A,refMarker:w,refererURL:B,shareDataAttributes:z,treatment:y,weblab:C,isCustomShareOptionsSheetEnabled:n,caf:t,cafSwitchEnabled:r,customizeShareCSAData:g}),h.location=N(x.fallbackShareUrl,x.label,a,H())):(q(),P())}}):(I(d),c.logCSAEvent(e.CSA_HIT_TYPE.SHARE,{channel:A,refMarker:w,refererURL:B,
shareDataAttributes:z,treatment:y,weblab:C,isCustomShareOptionsSheetEnabled:n,caf:t,cafSwitchEnabled:r,customizeShareCSAData:g}),q(),h.open(K,"_blank"))})})}}});"use strict";v.when("A","SocialShareWidgetState","atf").execute(function(f,h){var n=f.$("#ssf-primary-widget-desktop");f=f.$("#ssf-share-action");n=n.data("ssfShareIcon")||f.data("ssfShareIcon")||{};h.set("shareAapiCsrfToken",n.shareAapiCsrfToken);h.set("aapiBaseUrl",n.aapiBaseUrl);h.set("dpx",!0)});"use strict";v.when("A","SocialShareWidget").execute(function(f,
h){var n=void 0,l=h.SocialShareCore.Metrics;h=f.debounce(function(){clearTimeout(n)},200,!0);f.declarative("ssf-share-icon","touchstart",function(){n=setTimeout(function(){l.logCounter("longpress");l.logCounterRefactor("longpress")},500)});f.declarative("ssf-share-icon","touchmove touchend",h)});"use strict";v.when("SocialShareWidget").execute(function(f){var h=f.SocialShareCore.Metrics;v.now("SocialShareWidgetLoadedBTF").execute(function(f){f?h.logCounter("btf:render"):h.logCounter("atf:render")});
v.when("A","atf").execute(function(f){try{var l=f.capabilities,a=l.tablet;l.isIE&&h.logCounter("render.ie");(a||600<screen.width)&&h.logCounter("render.tablet");var g=new URL(location.href);if(g.searchParams.has("ref_")){var c=g.searchParams.get("ref_");if(c.startsWith("cm_sw_r_")){var e=c.match(/cm_sw_r_(.*?)_/);e&&h.logCounter("return.visit."+e[1]);h.logCounter("return.visit")}}}catch(d){h.logCounter("urlparam.issue")}})});"use strict";"use strict";v.when("A","SocialShareWidget","SocialShareWidgetAPI",
"SocialShareWidgetCustomizeUtils").register("SocialShareWidgetCustomize",function(n,q,w,l){q=q.SocialShareCore;var a=n.$,g=q.ShareSheet,c=q.Url,e=q.Metrics,d=q.Constants,m=e.getMetricName(a,d.customize),b=n.constants.HIDE_CLASS,x=function(){},r,E=0,k=void 0,t=void 0,z=void 0,A=!1;v.when("a-checkbox").execute(function(a){return t=a});v.when("a-button").execute(function(a){return k=a});try{(function(){var u=l.imageState;n.declarative("cafCheckboxAction","change",function(){z()});n.on(l.getEventName("Hide"),
function(a){a.sheet.getContentContainer().remove();u.clear()});n.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(a){G(a.sheet)});var q=function(b,c,d){var k=a(".ssf-preview-container"),f=a(".ssf-caf-preview"),g=(r=c)?"CAF.switchOn":"CAF.switchOff";e.logCounter(m,g);e.logCounterRefactor(g,d);n.trigger("ssf:event:caf-switch-change",c);u.isConsultAFriendPreview=c;d=l.getImageData(b,u);A?l.getBackendPreviewImage(b,d,function(a){a?y(a):n.trigger("ssf:event:preview-generation-failed",b)}):c?
(f.fadeIn(100),k.hide()):(k.fadeIn(100),f.hide())},D=function(a){var b=a.shareData,c=a.channelRef,d=b.shareUrl;a=b.isOGTEnabled;a=a===f?!1:a;var k=b.aapiBaseUrl;k=k===f?"":k;var e=b.shareAapiCsrfToken;e=e===f?"":e;var g=b.tinyUrlEnabled;g=g===f?!1:g;var h=b.deeplinkInfo;h=h===f?{}:h;var l=b.shareDataAttributes,m=b.storeId;m=m===f?"":m;c=c?d.getReturnForChannel(c):d.return;d=l.marketplaceId;return{tinyUrlEnabled:g,aapiBaseUrl:k,shareAapiCsrfToken:e,marketplaceId:d===f?"":d,url:c,isOGTEnabled:a,originalUrl:b.url||
c,refMarkerId:E++,deeplinkInfo:h,storeId:m}},p=function(l,t,r,p,z,u,q){var A=r.shareDataAttributes,x=r.url,B=A.asin,E=A.ingress;A=r.refId;a(".ssf-customize-share-btn").find(".a-spinner").addClass(b);k(".ssf-customize-share-btn").enable();t();var w=!1;t=new URL(u===f?x:u);p&&(A=d.CAF_REF_PREFIX+"_"+A,t.searchParams.append("cafId",p),t.searchParams.append("cafASIN",z),z!==B&&e.logCounter(m,"CAF.ShareASINMismatch"),w=!0);t.searchParams.append("language",h.languageOfPreference||r.locale||"en_US");r.shareUrl=
new c(t.toString(),A);var y=D({shareData:r});v.when("SocialShareWidgetTiny").execute(function(a){a.fetch({data:y,callback:function(a){r.tinyUrl=a;q&&q();a=n.extend({channelSelectCB:function(){p&&n.trigger("ssf:event:caf-share-complete-success",r)},cafSwitchEnabled:w},r);(new g(a)).launch(function(){n.delay(function(a){l(r)},100);p?(e.logCounter(m,"CAF.ShareSheetOpen"),e.logCounterRefactor("CAF.ShareSheetOpen",E)):(e.logCounter(m,"ShareSheetOpen"),e.logCounterRefactor("ShareSheetOpen",E))})}})})},
y=function(a){if(!(1<arguments.length&&arguments[1]!==f&&arguments[1])){var b=new Image;b.src=a;b.onload=function(){u.productImageProperties.width=this.width;u.productImageProperties.height=this.height}}},G=function(a){var b=a.$contentContainer,c=parseInt(a.$container.css("max-height"));b=parseInt(b.height());c<b?(a.$contentContainer.css("height",c),e.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};x=function(c,g,h,x){var E=c.shareDataAttributes,C=c.treatment,D=C===f?"":C;C=c.weblab;
var B=C===f?"":C;C=c.caf;C=C===f?!1:C;var F=c.isCafPreviewGenerationMigrationEnabled,I=E.ingress;u.currentPreview=l.getRegularImage();r=c.cafSwitch;C&&F&&(A=!0);var J=function(a){e.logCounter(m,a);e.logCounterRefactor(a,I)},Q=function(b,c){w.build(b).fetchTabs(function(d){v.now("SocialShareWidgetCustomizeTemplate").execute(function(k){a(".ssf-tabs").html(k.getTabs(b,d));c(d)})})};z=function(){var a=t(".ssf-caf-toggle");q(c,a.isChecked(),I)};c.customize&&c.customizePreSelected?Q(c,function(a){var b=
[];a.forEach(function(a){a.isQuote&&a.values.length&&b.push(a.values[0]);"BackgroundImageTab"==a.id&&a.values.forEach(function(a){"417kcYISTOL.jpg"==a.physicalId&&b.push(a)})});u.defaultCustomizationOptions=b;S(c,b);a=l.getImageData(c,u);l.getBackendPreviewImage(c,a,function(a){u.currentImage=a;y(a);l.adjustPreviewHeight();G(x)})}):A?(C=l.getImageData(c,u),l.getBackendPreviewImage(c,C,function(a){a?y(a):n.trigger("ssf:event:preview-generation-failed",c)})):q(c,r,I);a(".ssf-customize-share-btn").click(function(){k(".ssf-customize-share-btn").isEnabled()&&
(a(".ssf-customize-share-btn").find(".a-spinner").removeClass(b),k(".ssf-customize-share-btn").disable(),r?(J("CAF.shareClick"),e.startTimer("CAF.fetchCAFAndTinyURL"),c.title=(c.t["taf-share-caf-messageprefix"]||"")+" "+c.title,w.build(c).fetchCAFID(function(a,b,d){p(g,h,c,a,b,d,function(){e.stopTimer("CAF.fetchCAFAndTinyURL")})})):(J("shareClick"),e.logCSAEvent(d.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:d.EMPTY_STRING,refMarker:c.shareUrl.refMarker.click,shareDataAttributes:E,treatment:D,weblab:B}),
p(g,h,c)))});a(".ssf-customize-icon").click(function(){k(this).isEnabled()&&(J("CustomizeButtonClick"),k(this).disable(),u.currentPreview=l.getCustomizeImage(),Q(c,function(b){b.forEach(function(b){var c="input[type\x3dradio][name\x3d"+b.id+"]";a(c).change(function(b){b=JSON.parse(b.target.value);R(b);a(c).unbind("click");a(this).one("click",function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);O(a)})})});c.customizePreSelected&&(a("#BackgroundImageTab1").trigger("click"),a("#BookQuotesTab0").trigger("click"));
b=l.getImageData(c,u);l.getBackendPreviewImage(c,b,function(a){u.currentImage=a;l.transitionToCustomizePage();l.adjustCustomizedPreviewHeight();G(x);y(a)})}))});var R=function(a){l.setImage();Array.isArray(a)?a.forEach(function(a){u.set(a)}):u.set(a);var b=l.getImageData(c,u);J(a.id+"Select");l.getBackendPreviewImage(c,b,function(a){u.currentImage=a;y(a)})},O=function(a){l.setImage();J(a.id+"Unselect");u.unset(a);a=l.getImageData(c,u);l.getBackendPreviewImage(c,a,function(a){u.currentImage=a;y(a)})},
S=function(a,b){0<b.length&&b.forEach(function(a){u.set(a)})};a(".ssf-back-btn").click(function(){u.currentPreview=l.getRegularImage();e.logCounter("BackButtonClick");l.resetPreviewState(u);l.transitionToDefaultPage();G(x)});v.when("a-checkbox").execute(function(b){a(".ssf-caf-toggle-label").click(function(){var a=b(".ssf-caf-toggle");a.check(!a.isChecked())})});n.on("ssf:event:preview-generation-failed",function(c){A=!1;a(".ssf-backend-preview").addClass(b);a(".ssf-html-preview").removeClass(b);
q(c,r,I)})}})()}catch(u){e.logCounter(m,"Error"),e.logLoad("Error"),e.logFatal("Error loading Customize widget, Share Framework AUI: "+u.toString())}finally{e.logCounter(m,"Render"),e.logLoad("Render")}return{init:x}});"use strict";v.when("A").register("SocialShareWidgetCustomizeTemplate",function(h){var n=h.capabilities.rtl,w=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+
b+'" src\x3d"'+a+'"/\x3e'},l=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:"ssf-product-title-text";h.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){h.$(".ssf-title-label").text(a.title)});return'\x3cdiv class\x3d"a-color-secondary a-padding-small '+b+'"\x3e\n      \x3cspan class\x3d"ssf-title-label" id\x3d"ssf-title-label"\x3e\n        \x3c!-- TITLE  --\x3e\n      \x3c/span\x3e\n    \x3c/div\x3e'},a=function(a){var b=1<arguments.length&&arguments[1]!==f?arguments[1]:
"",c=2<arguments.length&&arguments[2]!==f?arguments[2]:"",d=3<arguments.length&&arguments[3]!==f?arguments[3]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return c||d?'\x3cimg class\x3d"'+b+'" '+(d?'aria-labelledby\x3d"'+d+'"':"")+" "+(c?'aria-label\x3d"'+c+'"':"")+' src\x3d"'+a+'"/\x3e':w(a,b)},g=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==f?arguments[0]:"")+"\x3c/span\x3e"},c=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+
a.values.map(function(b,c){var d=h.extend(b,{id:a.id}),k={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(k=h.extend(k,{center:!0,width:150,content:d.displayText,background:f}));d=k.id;c=k.position;b=k.content;b=b===f?"":b;var e=k.width,g=e===f?100:e,l=k.background;e=k.center;e=e===f?!1:e;k=k.val;g='style\x3d"width: '+g+"px;background-image: url("+(l===f?"":l)+");background-size: "+g+"px "+g+'px;"';l=JSON.stringify(k);c=d+c;k=k.label||"";var m='\x3cspan class\x3d"aok-offscreen"\x3e'+k+"\x3c/span\x3e";
e&&(m='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+k+"'\x3e\n              \x3cinput id\x3d\""+c+'" type\x3d"radio" name\x3d"'+d+"\" value\x3d'"+l+"' aria-label\x3d'"+k+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+g+"\x3e"+m+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},e=function(a){var b=2<arguments.length&&arguments[2]!==f?arguments[2]:
!1;return'\x3cli class\x3d"a-tab-heading ssf-customize-tab '+(b?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(b?"true":"false")+'" '+(b?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==f?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},d=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==
f&&arguments[3]?"":"a-hidden")+' a-padding-mini" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              '+(1<arguments.length&&arguments[1]!==f?arguments[1]:"")+"\n            \x3c/div\x3e"},m=function(){return(0<arguments.length&&arguments[0]!==f?arguments[0]:[]).map(function(a){a=a.replace(/"||/g,"");return{displayText:""+a+"",value:a}})};return{getTabs:function(a,f){var b=a.popularHighlightStrings;if(!f.length)return"";var g="",k="",h=-1;f.forEach(function(a,f){a.isQuote&&(a.values=m(b));if(!a.values.length)return"";
-1===h&&(h=f);f=f===h;g+=e(a.id,a.heading,f);k+=d(a.id,c(a),a.text,f)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab a-spacing-small" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+g+"\x3c/ul\x3e"+k)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+
a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||
"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn a-padding-small" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-micro ssf-tabs a-color-base-background a-padding-mini"\x3e\x3c/div\x3e',getImageSection:function(b){var c=l(b);var d=b.isCafPreviewGenerationMigrationEnabled;var e=b.customize,k=b.customizePreSelected;d=
b.caf&&d?!0:e&&k?!0:!1;e='\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n      '+(b.customize?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+w("customize")+"\x3c/span\x3e":"")+'\n      \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n    \x3c/div\x3e';d='\x3cdiv class\x3d"a-box ssf-preview-box"\x3e\n              \x3cdiv class\x3d"ssf-backend-preview '+(d?"":"aok-hidden")+'"\x3e'+e+'\x3c/div\x3e\n              \x3cdiv class\x3d"ssf-html-preview '+
(d?"aok-hidden":"")+'"\x3e';var h=b.customize;k=b.t;e='\x3cdiv class\x3d"ssf-product-preview"\x3e'+a({productImage:b.productImage}.productImage,"","","ssf-title-label")+"\x3c/div\x3e";var m=b.starRating,q=m===f?"ZERO":m;m=b.customize;m=m===f?!1:m;var u=b.numberOfReviews;b=b.cafStarAlignmentLeft;q=a("RIO"+q+(n?"r":"")+".png","ssf-caf-stars",q);u=g(u);b='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"'+(b||m?"ssf-caf-rating-left":"ssf-caf-rating-right")+'"\x3e\n                '+
q+u+"\n              \x3c/div\x3e\n            \x3c/div\x3e";h=h?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+w("customize")+"\x3c/span\x3e":"";m='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text"\x3e'+k.taf_custshare_caf_recipientemoji+"\x3c/p\x3e";k=a("caf-emojis"+(n?"r":"")+".png","ssf-caf-emojis",k.taf_custshare_acc_caf_emoimg||"Consult a friend emoji images");return d+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+h+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+
e+"\n              "+b+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"ssf-caf-preview"\x3e\n              \x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n                \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+e+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+m+k+"\x3c/div\x3e")+"\x3c/div\x3e\n                  "+b+"\n                \x3c/div\x3e\n            \x3c/div\x3e"))+"\x3c/div\x3e\n              "+c+"\n            \x3c/div\x3e"},getCustomizePreviewImage:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border ssf-cus-img-container"\x3e\n      \x3cdiv class\x3d"ssf-cus-img"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e\n      '+
l(a,"ssf-product-title-text-small")+"\n    \x3c/div\x3e"},getToggleContainer:function(a){return'\x3cdiv class\x3d"a-row a-spacing-top-medium a-spacing-small"\x3e\n      \x3cdiv class\x3d"a-column"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column"\x3e\n        \x3csmall class\x3d"ssf-caf-toggle-label"\x3e'+
a.taf_custshare_caf_ingress+"\x3c/small\x3e\n      \x3c/div\x3e\n    \x3c/div\x3e"}}});"use strict";v.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomizeUtils",function(n,q,w,l){function a(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab,e=b.BookQuotesTab;b=b.isConsultAFriendPreview;var k=a.productImageProperties;a=k.width;k=k.height;return{bgId:(c===f?{}:c).physicalId||"",deviceId:(d===f?{}:d).physicalId||"",quoteValue:(e===
f?{}:e).value||"",isConsultAFriendPreview:b===f?!1:b,width:a===f?"":a,height:k===f?"":k}}function g(a,b){var c=a.shareUrl,d=a.socialLinks;d=d===f?{}:d;var e=a.isOGTEnabled;e=e===f?!1:e;b=b?c.getReturnForChannel(b):c.return;c=a.aapiBaseUrl;var k=a.shareAapiCsrfToken,g=a.tinyUrlEnabled,h=a.deeplinkInfo;h=h===f?{}:h;var l=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:g===f?!1:g,aapiBaseUrl:c===f?"":c,shareAapiCsrfToken:k===f?"":k,marketplaceId:l===f?"":l,url:b,isOGTEnabled:e,originalUrl:d.shareframework||
a.url||b,refMarkerId:v++,deeplinkInfo:h}}function c(a,b,c,d){if(c.isEmpty())return d({});c=encodeURIComponent(c.currentImage);w.build(a).externalizeImage(c,d,b)}function e(a,b,c){w.build(a).generateImage(b,function(a){c(a.entity)})}q=q.SocialShareCore;var d=n.constants.HIDE_CLASS,m=n.$,b=q.Constants,x=q.Metrics,r=q.Url,v=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return m(".ssf-cus-img")},getCustomizeImageContainer:function(){return m(".ssf-cus-img-container")},
getRegularImage:function(){return m(".ssf-backend-preview .ssf-preview-container")},getPreviewBox:function(){return m(".ssf-preview-box")},setImage:function(a){this.imageState.currentPreview.css("background-image",'url("'+a+'")')},showSpinner:function(){this.imageState.currentPreview.find(".a-spinner").removeClass(d)},hideSpinner:function(){this.imageState.currentPreview.find(".a-spinner").addClass(d)},transitionToCustomizePage:function(){m(".ssf-customize-container-one").addClass(d);m(".ssf-customize-container-two").removeClass(d).addClass("ssf-customize-transition")},
adjustCustomizedPreviewHeight:function(){this.getCustomizeImageContainer().css({width:.76*h.innerWidth});var a=parseInt(this.getCustomizeImage().css("border-left-width"))+parseInt(this.getCustomizeImage().css("border-right-width")),b=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(b+a)/1.91})},adjustPreviewHeight:function(){this.getPreviewBox().css({width:.93*h.innerWidth});var a=parseInt(this.getRegularImage().css("border-left-width"))+parseInt(this.getRegularImage().css("border-right-width")),
b=this.getRegularImage().innerWidth();this.getRegularImage().css({height:(b+a)/1.91})},transitionToDefaultPage:function(){m(".ssf-customize-container-two").addClass(d);m(".ssf-customize-container-one").removeClass(d).addClass("ssf-customize-transition-back")},getImageData:function(b,c){var d=a(c);return{productImageUrl:b.productImage,starRating:b.starRating||"",numberOfReviews:b.numberOfReviews||"",backgroundImagePhysicalId:d.bgId,deviceCoverImagePhysicalId:d.deviceId,bookQuote:d.quoteValue,productImageWidth:d.width,
productImageHeight:d.height,consultAFriendPreviewEnabled:c.isConsultAFriendPreview}},resetPreviewState:function(a){a.clear();0<a.defaultCustomizationOptions.length&&a.defaultCustomizationOptions.forEach(function(b){a.set(b)})},getBackendPreviewImage:function(a,b,c){var d=this;d.setImage("");d.showSpinner();e(a,b,function(a){a&&"SUCCEEDED"===a.status?(a=a.customizedImage.url,d.hideSpinner(),d.setImage(a),c(a)):c()})},setCustomizeCSAData:function(c,d){var e=b.customizeShareStateKey;d=a(d);var f=b.TRUE,
g=b.FALSE;l.set(e,{backgroundImagePhysicalId:d.bgId,deviceCoverImagePhysicalId:d.deviceId,hasQuote:0<d.quoteValue.length?f:g,isCustomizedExperienceEnabled:c.customize?f:g,isCustomized:d.bgId||d.deviceId||d.quoteValue?f:g,customizePreSelected:c.customizePreSelected?f:g,isQuotesAvailable:c.popularHighlightStrings?f:g})},prepareShareUrl:function(a,d,e,f,h){this.setCustomizeCSAData(a,this.imageState);c(a,f,this.imageState,function(c){c=c.entity;var k=new URL(a.url),l=d;c&&c.physicalId&&(x.logCounterRefactor("externalizeImageSuccess"),
k.searchParams.append("cspi",c.physicalId),l=d+"_"+b.BOOKS_REF_PREFIX);a.cafStarAlignmentLeft?k.searchParams.append("starsLeft","1"):a.caf&&k.searchParams.append("cafHiResImg","1");a.shareUrl=new r(k.toString(),a.refId);c=g(a,l);e.fetch({data:c,isAsync:f,callback:function(a){h(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return m.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},defaultCustomizationOptions:[],
currentImage:"",isConsultAFriendPreview:!1,currentPreview:"",productImageProperties:{width:0,height:0}}}});"use strict";v.when("A","SocialShareWidget","SocialShareWidgetAPI").register("SocialShareWidgetCAFUtils",function(n,q,v){function l(c,g){var b=c.shareUrl,d=c.socialLinks;d=d===f?{}:d;var l=c.isOGTEnabled;l=l===f?!1:l;g=g?b.getReturnForChannel(a.CAF_REF_PREFIX+"_"+g):b.return;g=new URL(g);c.cafStarAlignmentLeft?g.searchParams.append("starsLeft","1"):c.caf&&g.searchParams.append("cafHiResImg",
"1");g.searchParams.has("language")||g.searchParams.append("language",h.languageOfPreference||c.locale||"en_US");g=g.toString();b=c.aapiBaseUrl;var m=c.shareAapiCsrfToken,k=c.tinyUrlEnabled,n=c.deeplinkInfo;n=n===f?{}:n;var q=c.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:k===f?!1:k,aapiBaseUrl:b===f?"":b,shareAapiCsrfToken:m===f?"":m,marketplaceId:q===f?"":q,url:g,isOGTEnabled:l,originalUrl:d.shareframework||c.url||g,refMarkerId:e++,deeplinkInfo:n}}n=q.SocialShareCore;var a=n.Constants,
g=n.Url,c=n.Metrics,e=0;return{prepareShareUrl:function(d,e,b,f,h){var m=d.refId;c.logCounterRefactor("CAF.shareChannelClick",d.ingress);c.startTimer("CAF.fetchCAFAndTinyURL");m=a.CAF_REF_PREFIX+"_"+m;v.build(d).fetchCAFID(function(a,n){var k=new URL(d.url);a&&k.searchParams.append("cafId",a);n&&k.searchParams.append("cafASIN",n);d.shareUrl=new g(k.toString(),m);n=l(d,e);b.fetch({data:n,isAsync:f,callback:function(b){c.stopTimer("CAF.fetchCAFAndTinyURL");h(b,a)}})},f)}}});"use strict"});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageLoyaltyRewardPointsEarningsAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageLoyaltyRewardPointsRedemptionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
