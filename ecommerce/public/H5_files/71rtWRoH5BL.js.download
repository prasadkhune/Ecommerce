/*
 regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
(function(H){var V=window.AmazonUIPageJS||window.P,l=V._namespace||V.attributeErrors,N=l?l("DetailPagePriceTrackerAssets",""):V;N.guardFatal?N.guardFatal(H)(N,window):N.execute(function(){H(N,window)})})(function(H,V,l){"use strict";var N="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};H.register("price-tracker-latency-metrics",function(){return{METRIC_LATENCY_WIDGET:"priceTrackerWidget:assetsLoadedNonCriticalATF"}});
H.execute("price-tracker-init",function(){var da=function(){var l=navigator.userAgent,r=l.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(r[1]))return l=/\brv[ :]+(\d+)/g.exec(l)||[],{vendor:"IE",version:parseInt(l[1])||null}}();da&&null!=da.vendor&&0===da.vendor.localeCompare("IE")&&null!=da.version&&11>=da.version||(H.register("price-tracker-d3",function(){function v(d,e){e||(e=d.slice(0));return Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(e)}}))}
function r(d,e,h){e=H(e);e in d?Object.defineProperty(d,e,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[e]=h;return d}function h(){h=Object.assign?Object.assign.bind():function(d){for(var e=1;e<arguments.length;e++){var h=arguments[e],l;for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(d[l]=h[l])}return d};return h.apply(this,arguments)}function t(d,e){var h=Array.isArray(d)?d:void 0;if(!h)a:{var l=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=
l){var Fb,r,q,t=[],D=!0,v=!1;try{if(r=(l=l.call(d)).next,0===e){if(Object(l)!==l){h=void 0;break a}D=!1}else for(;!(D=(Fb=r.call(l)).done)&&(t.push(Fb.value),t.length!==e);D=!0);}catch(yc){v=!0;var x=yc}finally{try{if(!D&&null!=l["return"]&&(q=l["return"](),Object(q)!==q)){h=void 0;break a}}finally{if(v)throw x;}}h=t}else h=void 0}if(!(d=h||da(d,e)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return d}function z(d,e,h){e=S(e);e=q()?Reflect.construct(e,h||[],S(d).constructor):e.apply(d,h);if(!e||"object"!==Y(e)&&"function"!==typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");d=ja(d)}else d=e;return d}function ja(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function J(){J="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(d,e,h){var l;for(l=d;!Object.prototype.hasOwnProperty.call(l,
e)&&(l=S(l),null!==l););if(l)return l=Object.getOwnPropertyDescriptor(l,e),l.get?l.get.call(3>arguments.length?d:h):l.value};return J.apply(this,arguments)}function C(d,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}});Object.defineProperty(d,"prototype",{writable:!1});e&&y(d,e)}function O(d){var h="function"===typeof Map?new Map:l;O=function(d){function l(){return E(d,
arguments,S(this).constructor)}if(null===d||!e(d))return d;if("function"!==typeof d)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof h){if(h.has(d))return h.get(d);h.set(d,l)}l.prototype=Object.create(d.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});return y(l,d)};return O(d)}function E(d,e,l){if(q())return Reflect.construct.apply(null,arguments);var h=[null];h.push.apply(h,e);h=new (d.bind.apply(d,h));return l&&y(h,l.prototype),
h}function q(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Fb){}return(q=function(){return!!d})()}function e(d){try{return-1!==Function.toString.call(d).indexOf("[native code]")}catch(Fb){return"function"===typeof d}}function y(d,e){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,e){d.__proto__=e;return d};return y(d,e)}function S(d){S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)};
return S(d)}function X(d,e){if(!(d instanceof e))throw new TypeError("Cannot call a class as a function");}function Q(d,e){for(var h=0;h<e.length;h++){var l=e[h];l.enumerable=l.enumerable||!1;l.configurable=!0;"value"in l&&(l.writable=!0);Object.defineProperty(d,H(l.key),l)}}function K(d,e,l){e&&Q(d.prototype,e);l&&Q(d,l);Object.defineProperty(d,"prototype",{writable:!1});return d}function H(d){a:if("object"==Y(d)&&d){var e=d[Symbol.toPrimitive];if(void 0!==e){d=e.call(d,"string");if("object"!=Y(d))break a;
throw new TypeError("@@toPrimitive must return a primitive value.");}d=String(d)}return"symbol"==Y(d)?d:String(d)}function Ba(d){var e=Array.isArray(d)?va(d):void 0;e||(e="undefined"!==typeof Symbol&&null!=d[Symbol.iterator]||null!=d["@@iterator"]?Array.from(d):void 0);if(!(d=e||da(d)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return d}function Y(d){"@babel/helpers - typeof";return Y=
"function"==typeof Symbol&&"symbol"==N(Symbol.iterator)?function(d){return"undefined"===typeof d?"undefined":N(d)}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":"undefined"===typeof d?"undefined":N(d)},Y(d)}function Ja(){function d(d,e,l){return Object.defineProperty(d,e,{value:l,enumerable:!0,configurable:!0,writable:!0}),d[e]}function e(d,e,l,q){e=Object.create((e&&e.prototype instanceof h?e:h).prototype);q=new B(q||[]);return M(e,"_invoke",
{value:v(d,l,q)}),e}function l(d,e,l){try{return{type:"normal",arg:d.call(e,l)}}catch(jb){return{type:"throw",arg:jb}}}function h(){}function r(){}function q(){}function t(e){["next","throw","return"].forEach(function(l){d(e,l,function(d){return this._invoke(l,d)})})}function D(d,e){function h(q,r,t,Ca){q=l(d[q],d,r);if("throw"!==q.type){var ra=q.arg;return(q=ra.value)&&"object"==Y(q)&&I.call(q,"__await")?e.resolve(q.__await).then(function(d){h("next",d,t,Ca)},function(d){h("throw",d,t,Ca)}):e.resolve(q).then(function(d){ra.value=
d;t(ra)},function(d){return h("throw",d,t,Ca)})}Ca(q.arg)}var q;M(this,"_invoke",{value:function(d,l){function r(){return new e(function(e,q){h(d,l,e,q)})}return q=q?q.then(r,r):r()}})}function v(d,e,h){var q=lb;return function(r,t){if(q===ja)throw Error("Generator is already running");if(q===X){if("throw"===r)throw t;return{value:y,done:!0}}h.method=r;for(h.arg=t;;){if(r=h.delegate)if(r=x(r,h)){if(r===K)continue;return r}if("next"===h.method)h.sent=h._sent=h.arg;else if("throw"===h.method){if(q===
lb)throw q=X,h.arg;h.dispatchException(h.arg)}else"return"===h.method&&h.abrupt("return",h.arg);q=ja;r=l(d,e,h);if("normal"===r.type){if(q=h.done?X:Jb,r.arg===K)continue;return{value:r.arg,done:h.done}}"throw"===r.type&&(q=X,h.method="throw",h.arg=r.arg)}}}function x(d,e){var h=e.method,q=d.iterator[h];if(q===y)return e.delegate=null,"throw"===h&&d.iterator["return"]&&(e.method="return",e.arg=y,x(d,e),"throw"===e.method)||"return"!==h&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+
h+"' method")),K;h=l(q,d.iterator,e.arg);return"throw"===h.type?(e.method="throw",e.arg=h.arg,e.delegate=null,K):(h=h.arg)?h.done?(e[d.resultName]=h.value,e.next=d.nextLoc,"return"!==e.method&&(e.method="next",e.arg=y),e.delegate=null,K):h:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,K)}function U(d){var e={tryLoc:d[0]};1 in d&&(e.catchLoc=d[1]);2 in d&&(e.finallyLoc=d[2],e.afterLoc=d[3]);this.tryEntries.push(e)}function z(d){var e=d.completion||{};e.type=
"normal";delete e.arg;d.completion=e}function B(d){this.tryEntries=[{tryLoc:"root"}];d.forEach(U,this);this.reset(!0)}function E(d){if(d||""===d){var e=d[O];if(e)return e.call(d);if("function"==typeof d.next)return d;if(!isNaN(d.length)){var h=-1;e=function sa(){for(;++h<d.length;)if(I.call(d,h))return sa.value=d[h],sa.done=!1,sa;return sa.value=y,sa.done=!0,sa};return e.next=e}}throw new TypeError(Y(d)+" is not iterable");}Ja=function(){return C};var y,C={},S=Object.prototype,I=S.hasOwnProperty,
M=Object.defineProperty||function(d,e,h){d[e]=h.value},J="function"==typeof Symbol?Symbol:{},O=J.iterator||"@@iterator",Da=J.asyncIterator||"@@asyncIterator",Za=J.toStringTag||"@@toStringTag";try{d({},"")}catch(Ca){d=function(d,e,h){return d[e]=h}}C.wrap=e;var lb="suspendedStart",Jb="suspendedYield",ja="executing",X="completed",K={};J={};d(J,O,function(){return this});var Q=Object.getPrototypeOf;(Q=Q&&Q(Q(E([]))))&&Q!==S&&I.call(Q,O)&&(J=Q);var H=q.prototype=h.prototype=Object.create(J);return r.prototype=
q,M(H,"constructor",{value:q,configurable:!0}),M(q,"constructor",{value:r,configurable:!0}),r.displayName=d(q,Za,"GeneratorFunction"),C.isGeneratorFunction=function(d){d="function"==typeof d&&d.constructor;return!!d&&(d===r||"GeneratorFunction"===(d.displayName||d.name))},C.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,q):(e.__proto__=q,d(e,Za,"GeneratorFunction")),e.prototype=Object.create(H),e},C.awrap=function(d){return{__await:d}},t(D.prototype),d(D.prototype,Da,function(){return this}),
C.AsyncIterator=D,C.async=function(d,h,l,q,r){void 0===r&&(r=Promise);var t=new D(e(d,h,l,q),r);return C.isGeneratorFunction(h)?t:t.next().then(function(d){return d.done?d.value:t.next()})},t(H),d(H,Za,"Generator"),d(H,O,function(){return this}),d(H,"toString",function(){return"[object Generator]"}),C.keys=function(d){var e=Object(d),h=[],l;for(l in e)h.push(l);return h.reverse(),function ka(){for(;h.length;){var d=h.pop();if(d in e)return ka.value=d,ka.done=!1,ka}return ka.done=!0,ka}},C.values=
E,B.prototype={constructor:B,reset:function(d){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(z),!d)for(var e in this)"t"===e.charAt(0)&&I.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=y)},stop:function(){this.done=!0;var d=this.tryEntries[0].completion;if("throw"===d.type)throw d.arg;return this.rval},dispatchException:function(d){function e(e,l){return r.type="throw",r.arg=d,h.next=e,l&&(h.method="next",h.arg=
y),!!l}if(this.done)throw d;for(var h=this,l=this.tryEntries.length-1;0<=l;--l){var q=this.tryEntries[l],r=q.completion;if("root"===q.tryLoc)return e("end");if(q.tryLoc<=this.prev){var t=I.call(q,"catchLoc"),D=I.call(q,"finallyLoc");if(t&&D){if(this.prev<q.catchLoc)return e(q.catchLoc,!0);if(this.prev<q.finallyLoc)return e(q.finallyLoc)}else if(t){if(this.prev<q.catchLoc)return e(q.catchLoc,!0)}else{if(!D)throw Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return e(q.finallyLoc)}}}},
abrupt:function(d,e){for(var h=this.tryEntries.length-1;0<=h;--h){var l=this.tryEntries[h];if(l.tryLoc<=this.prev&&I.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var q=l;break}}q&&("break"===d||"continue"===d)&&q.tryLoc<=e&&e<=q.finallyLoc&&(q=null);h=q?q.completion:{};return h.type=d,h.arg=e,q?(this.method="next",this.next=q.finallyLoc,K):this.complete(h)},complete:function(d,e){if("throw"===d.type)throw d.arg;return"break"===d.type||"continue"===d.type?this.next=d.arg:"return"===d.type?(this.rval=
this.arg=d.arg,this.method="return",this.next="end"):"normal"===d.type&&e&&(this.next=e),K},finish:function(d){for(var e=this.tryEntries.length-1;0<=e;--e){var h=this.tryEntries[e];if(h.finallyLoc===d)return this.complete(h.completion,h.afterLoc),z(h),K}},"catch":function(d){for(var e=this.tryEntries.length-1;0<=e;--e){var h=this.tryEntries[e];if(h.tryLoc===d){d=h.completion;if("throw"===d.type){var l=d.arg;z(h)}return l}}throw Error("illegal catch attempt");},delegateYield:function(d,e,h){return this.delegate=
{iterator:E(d),resultName:e,nextLoc:h},"next"===this.method&&(this.arg=y),K}},C}function B(d,e){var h="undefined"!==typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(!h){if(Array.isArray(d)||(h=da(d))||e&&d&&"number"===typeof d.length){h&&(d=h);var l=0;e=function(){};return{s:e,n:function(){return l>=d.length?{done:!0}:{done:!1,value:d[l++]}},e:function(d){throw d;},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var q=!0,r=!1,t;return{s:function(){h=h.call(d)},n:function(){var d=h.next();q=d.done;return d},e:function(d){r=!0;t=d},f:function(){try{if(!q&&null!=h["return"])h["return"]()}finally{if(r)throw t;}}}}function da(d,e){if(d){if("string"===typeof d)return va(d,e);var h=Object.prototype.toString.call(d).slice(8,-1);"Object"===h&&d.constructor&&(h=d.constructor.name);if("Map"===h||"Set"===h)return Array.from(d);if("Arguments"===h||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return va(d,e)}}function va(d,
e){if(null==e||e>d.length)e=d.length;for(var h=0,l=Array(e);h<e;h++)l[h]=d[h];return l}var x,D,U,I,Da,M,Za,lb,Wd,Jb,Xd,Yd,Zd,$d;return function(d){function e(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function q(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function y(a){function b(a,b){var g=2<arguments.length&&arguments[2]!==l?arguments[2]:0,k=3<arguments.length&&arguments[3]!==l?arguments[3]:a.length;if(g<k){if(0!==c(b,b))return k;do{var m=g+k>>>1;0>f(a[m],b)?g=m+1:k=m}while(g<
k)}return g}if(2!==a.length){var c=e;var f=function(b,c){return e(a(b),c)};var g=function(b,c){return a(b)-c}}else c=a===e||a===q?a:E,g=f=a;return{left:b,center:function(a,c){var f=2<arguments.length&&arguments[2]!==l?arguments[2]:0,k=b(a,c,f,(3<arguments.length&&arguments[3]!==l?arguments[3]:a.length)-1);return k>f&&g(a[k-1],c)>-g(a[k],c)?k-1:k},right:function(a,b){var g=2<arguments.length&&arguments[2]!==l?arguments[2]:0,k=3<arguments.length&&arguments[3]!==l?arguments[3]:a.length;if(g<k){if(0!==
c(b,b))return k;do{var m=g+k>>>1;0>=f(a[m],b)?g=m+1:k=m}while(g<k)}return g}}}function E(){return 0}function Q(a){return null===a?NaN:+a}function H(a,b){var c,f,g,m,p,A,k;return Ja().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(b!==l){n.next=21;break}c=B(a);n.prev=2;c.s();case 4:if((f=c.n()).done){n.next=11;break}g=f.value;if(!(null!=g&&(g=+g)>=g)){n.next=9;break}n.next=9;return g;case 9:n.next=4;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](2),c.e(n.t0);case 16:return n.prev=
16,c.f(),n.finish(16);case 19:n.next=40;break;case 21:m=-1,p=B(a),n.prev=23,p.s();case 25:if((A=p.n()).done){n.next=32;break}k=A.value;if(!(null!=(k=b(k,++m,a))&&(k=+k)>=k)){n.next=30;break}n.next=30;return k;case 30:n.next=25;break;case 32:n.next=37;break;case 34:n.prev=34,n.t1=n["catch"](23),p.e(n.t1);case 37:return n.prev=37,p.f(),n.finish(37);case 40:case "end":return n.stop()}},Vg,null,[[2,13,16,19],[23,34,37,40]])}function da(a){return function(b,c){var f=2<arguments.length&&arguments[2]!==
l?arguments[2]:c;if(!(0<=(c=+c)))throw new RangeError("invalid rx");if(!(0<=(f=+f)))throw new RangeError("invalid ry");var g=b.data,m=b.width,p=b.height;if(!(0<=(m=Math.floor(m))))throw new RangeError("invalid width");if(!(0<=(p=Math.floor(p!==l?p:g.length/m))))throw new RangeError("invalid height");if(!m||!p||!c&&!f)return b;var A=c&&a(c);f=f&&a(f);var k=g.slice();A&&f?(Xa(A,k,g,m,p),Xa(A,g,k,m,p),Xa(A,k,g,m,p),N(f,g,k,m,p),N(f,k,g,m,p),N(f,g,k,m,p)):A?(Xa(A,g,k,m,p),Xa(A,k,g,m,p),Xa(A,g,k,m,p)):
f&&(N(f,g,k,m,p),N(f,k,g,m,p),N(f,g,k,m,p));return b}}function Xa(a,b,c,f,g){var m=0;for(g*=f;m<g;)a(b,c,m,m+=f,1)}function N(a,b,c,f,g){var m=0;for(g*=f;m<f;++m)a(b,c,m,m+g,f)}function va(a){var b=Math.floor(a);if(b===a)return yc(a);var c=a-b,f=2*a+1;return function(a,m,p,A,k){if((A-=k)>=p){for(var g=b*m[p],w=k*b,u=w+k,d=p,G=p+w;d<G;d+=k)g+=m[Math.min(A,d)];d=p;for(G=A;d<=G;d+=k)g+=m[Math.min(A,d+w)],a[d]=(g+c*(m[Math.max(p,d-u)]+m[Math.min(A,d+u)]))/f,g-=m[Math.max(p,d-w)]}}}function yc(a){var b=
2*a+1;return function(c,f,g,m,p){if((m-=p)>=g){for(var A=a*f[g],k=p*a,n=g,w=g+k;n<w;n+=p)A+=f[Math.min(m,n)];n=g;for(w=m;n<=w;n+=p)A+=f[Math.min(m,n+k)],c[n]=A/b,A-=f[Math.max(g,n-k)]}}}function Gb(a,b){var c=0;if(b===l){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(g=+g)>=g&&++c}}catch(A){a.e(A)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var p=m.value;null!=(p=b(p,++f,a))&&(p=+p)>=p&&++c}}catch(A){g.e(A)}finally{g.f()}}return c}function zc(a){return a.length|
0}function Sg(a){return!(0<a)}function Tg(a){return"object"!==Y(a)||"length"in a?a:Array.from(a)}function Ug(a){return function(b){return a.apply(void 0,Ba(b))}}function Nd(a,b){var c=0,f=0,g=0;if(b===l){a=B(a);var m;try{for(a.s();!(m=a.n()).done;){var p=m.value;if(null!=p&&(p=+p)>=p){var A=p-f;f+=A/++c;g+=A*(p-f)}}}catch(w){a.e(w)}finally{a.f()}}else{m=-1;p=B(a);var k;try{for(p.s();!(k=p.n()).done;){var n=k.value;null!=(n=b(n,++m,a))&&(n=+n)>=n&&(A=n-f,f+=A/++c,g+=A*(n-f))}}catch(w){p.e(w)}finally{p.f()}}if(1<
c)return g/(c-1)}function Md(a,b){return(a=Nd(a,b))?Math.sqrt(a):a}function Ib(a,b){var c,f;if(b===l){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;null!=m&&(c===l?m>=m&&(c=f=m):(c>m&&(c=m),f<m&&(f=m)))}}catch(k){a.e(k)}finally{a.f()}}else{g=-1;m=B(a);var p;try{for(m.s();!(p=m.n()).done;){var A=p.value;null!=(A=b(A,++g,a))&&(c===l?A>=A&&(c=f=A):(c>A&&(c=A),f<A&&(f=A)))}}catch(k){m.e(k)}finally{m.f()}}return[c,f]}function Bc(a,b){var c=a._intern;a=a._key;a=a(b);return c.has(a)?c.get(a):
b}function Sd(a,b){var c=a._intern;a=a._key;a=a(b);if(c.has(a))return c.get(a);c.set(a,b);return b}function Td(a,b){var c=a._intern;a=a._key;a=a(b);c.has(a)&&(b=c.get(a),c["delete"](a));return b}function Od(a){return null!==a&&"object"===Y(a)?a.valueOf():a}function Ya(a){return a}function Pd(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];return ra(a,Ya,Ya,c)}function Qd(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];return ra(a,Array.from,
Ya,c)}function Rd(a,b){var c=1;for(b=b.length;c<b;++c)a=a.flatMap(function(a){return a.pop().map(function(b){var c=t(b,2);b=c[0];c=c[1];return[].concat(Ba(a),[b,c])})});return a}function Ud(a,b){for(var c=arguments.length,f=Array(2<c?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];return ra(a,Ya,b,f)}function Vd(a,b){for(var c=arguments.length,f=Array(2<c?c-2:0),g=2;g<c;g++)f[g-2]=arguments[g];return ra(a,Array.from,b,f)}function Ca(a){if(1!==a.length)throw Error("duplicate key");return a[0]}function ra(a,
b,c,f){return function A(a,p){if(p>=f.length)return c(a);var k=new mb,m=f[p++],w=-1,u=B(a),d;try{for(u.s();!(d=u.n()).done;){var G=d.value,e=m(G,++w,a),h=k.get(e);h?h.push(G):k.set(e,[G])}}catch(na){u.e(na)}finally{u.f()}a=B(k);var l;try{for(a.s();!(l=a.n()).done;){var q=t(l.value,2);k.set(q[0],A(q[1],p))}}catch(na){a.e(na)}finally{a.f()}return b(k)}(a,0)}function Ld(a,b){return Array.from(b,function(b){return a[b]})}function jb(a){for(var b=arguments.length,c=Array(1<b?b-1:0),f=1;f<b;f++)c[f-1]=
arguments[f];if("function"!==typeof a[Symbol.iterator])throw new TypeError("values is not iterable");a=Array.from(a);var g=t(c,1)[0];return g&&2!==g.length||1<c.length?(b=Uint32Array.from(a,function(a,b){return b}),1<c.length?(c=c.map(function(b){return a.map(b)}),b.sort(function(a,b){var f=B(c),k;try{for(f.s();!(k=f.n()).done;){var g=k.value,m=ka(g[a],g[b]);if(m)return m}}catch(u){f.e(u)}finally{f.f()}})):(g=a.map(g),b.sort(function(a,b){return ka(g[a],g[b])})),Ld(a,b)):a.sort(sa(g))}function sa(){var a=
0<arguments.length&&arguments[0]!==l?arguments[0]:e;if(a===e)return ka;if("function"!==typeof a)throw new TypeError("compare is not a function");return function(b,c){var f=a(b,c);return f||0===f?f:(0===a(c,c))-(0===a(b,b))}}function ka(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:a>b?1:0)}function Ac(a){return function(){return a}}function Hb(a,b,c){var f=(b-a)/Math.max(0,c),g=Math.floor(Math.log10(f));f/=Math.pow(10,g);f=f>=Wg?10:f>=Xg?5:f>=Yg?2:1;if(0>g){var m=Math.pow(10,-g)/f;g=Math.round(a*
m);f=Math.round(b*m);g/m<a&&++g;f/m>b&&--f;m=-m}else m=Math.pow(10,g)*f,g=Math.round(a/m),f=Math.round(b/m),g*m<a&&++g,f*m>b&&--f;return f<g&&.5<=c&&2>c?Hb(a,b,2*c):[g,f,m]}function kb(a,b,c){b=+b;a=+a;c=+c;if(!(0<c))return[];if(a===b)return[a];var f=b<a;a=f?Hb(b,a,c):Hb(a,b,c);a=t(a,3);var g=a[0],m=a[1];a=a[2];if(!(m>=g))return[];b=m-g+1;c=Array(b);if(f)if(0>a)for(f=0;f<b;++f)c[f]=(m-f)/-a;else for(f=0;f<b;++f)c[f]=(m-f)*a;else if(0>a)for(f=0;f<b;++f)c[f]=(g+f)/-a;else for(f=0;f<b;++f)c[f]=(g+f)*
a;return c}function Ka(a,b,c){return Hb(+a,+b,+c)[2]}function Kb(a,b,c){b=+b;a=+a;c=+c;var f=b<a;a=f?Ka(b,a,c):Ka(a,b,c);return(f?-1:1)*(0>a?1/-a:a)}function ae(a,b,c){for(var f;;){var g=Ka(a,b,c);if(g===f||0===g||!isFinite(g))return[a,b];0<g?(a=Math.floor(a/g)*g,b=Math.ceil(b/g)*g):0>g&&(a=Math.ceil(a*g)/g,b=Math.floor(b*g)/g);f=g}}function be(a){return Math.max(1,Math.ceil(Math.log(Gb(a))/Math.LN2)+1)}function ce(){function a(a){Array.isArray(a)||(a=Array.from(a));var g,p=a.length,d,k,n=Array(p);
for(g=0;g<p;++g)n[g]=b(a[g],g,a);var w=c(n),u=w[0];w=w[1];var F=f(n,u,w);if(!Array.isArray(F)){var G=w;g=+F;c===Ib&&(u=ae(u,w,g),w=t(u,2),u=w[0],w=w[1]);F=kb(u,w,g);F[0]<=u&&(k=Ka(u,w,g));F[F.length-1]>=w&&(G>=w&&c===Ib?(G=Ka(u,w,g),isFinite(G)&&(0<G?w=(Math.floor(w/G)+1)*G:0>G&&(w=(Math.ceil(w*-G)+1)/-G))):F.pop())}G=F.length;g=0;for(var e=G;F[g]<=u;)++g;for(;F[e-1]>w;)--e;if(g||e<G)F=F.slice(g,e),G=e-g;e=Array(G+1);for(g=0;g<=G;++g){var h=e[g]=[];h.x0=0<g?F[g-1]:u;h.x1=g<G?F[g]:w}if(isFinite(k))if(0<
k)for(g=0;g<p;++g)null!=(d=n[g])&&u<=d&&d<=w&&e[Math.min(G,Math.floor((d-u)/k))].push(a[g]);else{if(0>k)for(g=0;g<p;++g)null!=(d=n[g])&&u<=d&&d<=w&&(h=Math.floor((u-d)*k),e[Math.min(G,h+(F[h]<=d))].push(a[g]))}else for(g=0;g<p;++g)null!=(d=n[g])&&u<=d&&d<=w&&e[La(F,d,0,G)].push(a[g]);return e}var b=Ya,c=Ib,f=be;a.value=function(c){return arguments.length?(b="function"===typeof c?c:Ac(c),a):b};a.domain=function(b){return arguments.length?(c="function"===typeof b?b:Ac([b[0],b[1]]),a):c};a.thresholds=
function(b){return arguments.length?(f="function"===typeof b?b:Ac(Array.isArray(b)?Zg.call(b):b),a):f};return a}function Cc(a,b){var c;if(b===l){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(c<g||c===l&&g>=g)&&(c=g)}}catch(A){a.e(A)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var p=m.value;null!=(p=b(p,++f,a))&&(c<p||c===l&&p>=p)&&(c=p)}}catch(A){g.e(A)}finally{g.f()}}return c}function Dc(a,b){var c=-1,f=-1;if(b===l){a=B(a);var g;try{for(a.s();!(g=
a.n()).done;){var m=g.value;++f;if(null!=m&&(p<m||p===l&&m>=m)){var p=m;c=f}}}catch(n){a.e(n)}finally{a.f()}}else{g=B(a);var d;try{for(g.s();!(d=g.n()).done;){var k=d.value;null!=(k=b(k,++f,a))&&(p<k||p===l&&k>=k)&&(p=k,c=f)}}catch(n){g.e(n)}finally{g.f()}}return c}function Lb(a,b){var c;if(b===l){a=B(a);var f;try{for(a.s();!(f=a.n()).done;){var g=f.value;null!=g&&(c>g||c===l&&g>=g)&&(c=g)}}catch(A){a.e(A)}finally{a.f()}}else{f=-1;g=B(a);var m;try{for(g.s();!(m=g.n()).done;){var p=m.value;null!=(p=
b(p,++f,a))&&(c>p||c===l&&p>=p)&&(c=p)}}catch(A){g.e(A)}finally{g.f()}}return c}function Ec(a,b){var c=-1,f=-1;if(b===l){a=B(a);var g;try{for(a.s();!(g=a.n()).done;){var m=g.value;++f;if(null!=m&&(p>m||p===l&&m>=m)){var p=m;c=f}}}catch(n){a.e(n)}finally{a.f()}}else{g=B(a);var d;try{for(g.s();!(d=g.n()).done;){var k=d.value;null!=(k=b(k,++f,a))&&(p>k||p===l&&k>=k)&&(p=k,c=f)}}catch(n){g.e(n)}finally{g.f()}}return c}function Mb(a,b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:0,f=3<arguments.length&&
arguments[3]!==l?arguments[3]:Infinity,g=4<arguments.length?arguments[4]:l;b=Math.floor(b);c=Math.floor(Math.max(0,c));f=Math.floor(Math.min(a.length-1,f));if(!(c<=b&&b<=f))return a;for(g=g===l?ka:sa(g);f>c;){if(600<f-c){var m=f-c+1,p=b-c+1,d=Math.log(m),k=.5*Math.exp(2*d/3);d=.5*Math.sqrt(d*k*(m-k)/m)*(0>p-m/2?-1:1);Mb(a,b,Math.max(c,Math.floor(b-p*k/m+d)),Math.min(f,Math.floor(b+(m-p)*k/m+d)),g)}m=a[b];p=c;k=f;nb(a,c,b);for(0<g(a[f],m)&&nb(a,c,f);p<k;){nb(a,p,k);++p;for(--k;0>g(a[p],m);)++p;for(;0<
g(a[k],m);)--k}0===g(a[c],m)?nb(a,c,k):(++k,nb(a,k,f));k<=b&&(c=k+1);b<=k&&(f=k-1)}return a}function nb(a,b,c){var f=a[b];a[b]=a[c];a[c]=f}function de(a){var b=1<arguments.length&&arguments[1]!==l?arguments[1]:e,c=!1;if(1===b.length){var f=B(a),g;try{for(f.s();!(g=f.n()).done;){var m=g.value,p=b(m);if(c?0<e(p,k):0===e(p,p)){var d=m;var k=p;c=!0}}}catch(w){f.e(w)}finally{f.f()}}else{k=B(a);try{for(k.s();!(f=k.n()).done;){var n=f.value;if(c?0<b(n,d):0===b(n,n))d=n,c=!0}}catch(w){k.e(w)}finally{k.f()}}return d}
function ob(a,b,c){a=Float64Array.from(H(a,c));if((c=a.length)&&!isNaN(b=+b)){if(0>=b||2>c)return Lb(a);if(1<=b)return Cc(a);b*=c-1;c=Math.floor(b);var f=Cc(Mb(a,c).subarray(0,c+1));a=Lb(a.subarray(c+1));return f+(a-f)*(b-c)}}function ee(a,b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:Q;if((f=a.length)&&!isNaN(b=+b)){if(0>=b||2>f)return+c(a[0],0,a);if(1<=b)return+c(a[f-1],f-1,a);var f;f=(f-1)*b;var g=Math.floor(f),m=+c(a[g],g,a);c=+c(a[g+1],g+1,a);return m+(c-m)*(f-g)}}function fe(a,
b){var c=2<arguments.length&&arguments[2]!==l?arguments[2]:Q;if(!isNaN(b=+b)){var f=Float64Array.from(a,function(b,f){return Q(c(a[f],f,a))});if(0>=b)return Ec(f);if(1<=b)return Dc(f);var g=Uint32Array.from(a,function(a,b){return b}),m=f.length-1,p=Math.floor(m*b);Mb(g,p,0,m,function(a,b){return ka(f[a],f[b])});p=de(g.subarray(0,p+1),function(a){return f[a]});return 0<=p?p:-1}}function ge(a){var b,c,f;return Ja().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:b=B(a),g.prev=1,b.s();case 3:if((c=
b.n()).done){g.next=8;break}f=c.value;return g.delegateYield(f,"t0",6);case 6:g.next=3;break;case 8:g.next=13;break;case 10:g.prev=10,g.t1=g["catch"](1),b.e(g.t1);case 13:return g.prev=13,b.f(),g.finish(13);case 16:case "end":return g.stop()}},$g,null,[[1,10,13,16]])}function ah(a,b){return[a,b]}function he(a,b,c){a=+a;b=+b;c=2>(g=arguments.length)?(b=a,a=0,1):3>g?1:+c;for(var f=-1,g=Math.max(0,Math.ceil((b-a)/c))|0,m=Array(g);++f<g;)m[f]=a+f*c;return m}function ie(a){var b=1<arguments.length&&arguments[1]!==
l?arguments[1]:e;if(1===b.length)return Ec(a,b);var c=-1,f=-1,g=B(a),m;try{for(g.s();!(m=g.n()).done;){var p=m.value;++f;if(0>c?0===b(p,p):0>b(p,d)){var d=p;c=f}}}catch(k){g.e(k)}finally{g.f()}return c}function je(a){return function(b){for(var c=1<arguments.length&&arguments[1]!==l?arguments[1]:0,f=(2<arguments.length&&arguments[2]!==l?arguments[2]:b.length)-(c=+c);f;){var g=a()*f--|0,m=b[f+c];b[f+c]=b[g+c];b[g+c]=m}return b}}function ke(a){if(!(m=a.length))return[];for(var b=-1,c=Lb(a,bh),f=Array(c);++b<
c;)for(var g=-1,m,p=f[b]=Array(m);++g<m;)p[g]=a[g][b];return f}function bh(a){return a.length}function ch(a){return a instanceof Ma?a:new Ma(a)}function le(a,b){a=a[Symbol.iterator]();var c=new Set;b=B(b);var f;try{for(b.s();!(f=b.n()).done;){var g=me(f.value);if(!c.has(g))for(var m=void 0,p=void 0;d=a.next(),m=d.value,p=d.done,d;){var d;if(p)return!1;var k=me(m);c.add(k);if(Object.is(g,k))break}}}catch(n){b.e(n)}finally{b.f()}return!0}function me(a){return null!==a&&"object"===Y(a)?a.valueOf():a}
function dh(a){return a}function eh(a){return"translate("+a+",0)"}function fh(a){return"translate(0,"+a+")"}function gh(a){return function(b){return+a(b)}}function hh(a,b){b=Math.max(0,a.bandwidth()-2*b)/2;a.round()&&(b=Math.round(b));return function(c){return+a(c)+b}}function ih(){return!this.__axis}function Nb(a,b){function c(c){var A=null==g?b.ticks?b.ticks.apply(b,f):b.domain():g,e=null==m?b.tickFormat?b.tickFormat.apply(b,f):dh:m,G=Math.max(p,0)+k,h=b.range(),l=+h[0]+n;h=+h[h.length-1]+n;var q=
(b.bandwidth?hh:gh)(b.copy(),n),r=c.selection?c.selection():c,t=r.selectAll(".domain").data([null]);A=r.selectAll(".tick").data(A,b).order();var D=A.exit(),y=A.enter().append("g").attr("class","tick"),v=A.select("line"),Na=A.select("text");t=t.merge(t.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));A=A.merge(y);v=v.merge(y.append("line").attr("stroke","currentColor").attr(u+"2",w*p));Na=Na.merge(y.append("text").attr("fill","currentColor").attr(u,w*G).attr("dy",
1===a?"0em":3===a?"0.71em":"0.32em"));c!==r&&(t=t.transition(c),A=A.transition(c),v=v.transition(c),Na=Na.transition(c),D=D.transition(c).attr("opacity",1E-6).attr("transform",function(a){return isFinite(a=q(a))?F(a+n):this.getAttribute("transform")}),y.attr("opacity",1E-6).attr("transform",function(a){var b=this.parentNode.__axis;return F((b&&isFinite(b=b(a))?b:q(a))+n)}));D.remove();t.attr("d",4===a||2===a?d?"M"+w*d+","+l+"H"+n+"V"+h+"H"+w*d:"M"+n+","+l+"V"+h:d?"M"+l+","+w*d+"V"+n+"H"+h+"V"+w*d:
"M"+l+","+n+"H"+h);A.attr("opacity",1).attr("transform",function(a){return F(q(a)+n)});v.attr(u+"2",w*p);Na.attr(u,w*G).text(e);r.filter(ih).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===a?"start":4===a?"end":"middle");r.each(function(){this.__axis=q})}var f=[],g=null,m=null,p=6,d=6,k=3,n="undefined"!==typeof V&&1<V.devicePixelRatio?0:.5,w=1===a||4===a?-1:1,u=4===a||2===a?"x":"y",F=1===a||3===a?eh:fh;c.scale=function(a){return arguments.length?(b=
a,c):b};c.ticks=function(){return f=Array.from(arguments),c};c.tickArguments=function(a){return arguments.length?(f=null==a?[]:Array.from(a),c):f.slice()};c.tickValues=function(a){return arguments.length?(g=null==a?null:Array.from(a),c):g&&g.slice()};c.tickFormat=function(a){return arguments.length?(m=a,c):m};c.tickSize=function(a){return arguments.length?(p=d=+a,c):p};c.tickSizeInner=function(a){return arguments.length?(p=+a,c):p};c.tickSizeOuter=function(a){return arguments.length?(d=+a,c):d};c.tickPadding=
function(a){return arguments.length?(k=+a,c):k};c.offset=function(a){return arguments.length?(n=+a,c):n};return c}function la(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function wa(a,b){switch(arguments.length){case 0:break;case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function Fc(){function a(a){var m=b.get(a);if(m===
l){if(g!==Gc)return g;b.set(a,m=c.push(a)-1)}return f[m%f.length]}var b=new mb,c=[],f=[],g=Gc;a.domain=function(f){if(!arguments.length)return c.slice();c=[];b=new mb;var g=B(f),m;try{for(g.s();!(m=g.n()).done;){var k=m.value;b.has(k)||b.set(k,c.push(k)-1)}}catch(n){g.e(n)}finally{g.f()}return a};a.range=function(b){return arguments.length?(f=Array.from(b),a):f.slice()};a.unknown=function(b){return arguments.length?(g=b,a):g};a.copy=function(){return Fc(c,f).unknown(g)};la.apply(a,arguments);return a}
function Hc(){function a(){var a=c().length,b=m<g,A=b?m:g,e=b?g:m;p=(e-A)/Math.max(1,a-n+2*w);k&&(p=Math.floor(p));A+=(e-A-p*(a-n))*u;d=p*(1-n);k&&(A=Math.round(A),d=Math.round(d));a=he(a).map(function(a){return A+p*a});return f(b?a.reverse():a)}var b=Fc().unknown(l),c=b.domain,f=b.range,g=0,m=1,p,d,k=!1,n=0,w=0,u=.5;delete b.unknown;b.domain=function(b){return arguments.length?(c(b),a()):c()};b.range=function(b){var c;return arguments.length?(c=t(b,2),g=c[0],m=c[1],g=+g,m=+m,a()):[g,m]};b.rangeRound=
function(b){var c;return c=t(b,2),g=c[0],m=c[1],g=+g,m=+m,k=!0,a()};b.bandwidth=function(){return d};b.step=function(){return p};b.round=function(b){return arguments.length?(k=!!b,a()):k};b.padding=function(b){return arguments.length?(n=Math.min(1,w=+b),a()):n};b.paddingInner=function(b){return arguments.length?(n=Math.min(1,b),a()):n};b.paddingOuter=function(b){return arguments.length?(w=+b,a()):w};b.align=function(b){return arguments.length?(u=Math.max(0,Math.min(1,b)),a()):u};b.copy=function(){return Hc(c(),
[g,m]).round(k).paddingInner(n).paddingOuter(w).align(u)};return la.apply(a(),arguments)}function ne(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return ne(b())};return a}function Ic(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function oe(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function qb(){}function pe(){return this.rgb().formatHex()}function qe(){return this.rgb().formatRgb()}function Oa(a){var b,c;a=(a+
"").trim().toLowerCase();return(b=kh.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?re(b):3===c?new ha(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===c?Ob(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===c?Ob(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=lh.exec(a))?new ha(b[1],b[2],b[3],1):(b=mh.exec(a))?new ha(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=nh.exec(a))?Ob(b[1],b[2],b[3],b[4]):(b=oh.exec(a))?Ob(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=
ph.exec(a))?se(b[1],b[2]/100,b[3]/100,1):(b=qh.exec(a))?se(b[1],b[2]/100,b[3]/100,b[4]):te.hasOwnProperty(a)?re(te[a]):"transparent"===a?new ha(NaN,NaN,NaN,0):null}function re(a){return new ha(a>>16&255,a>>8&255,a&255,1)}function Ob(a,b,c,f){0>=f&&(a=b=c=NaN);return new ha(a,b,c,f)}function Jc(a,b,c,f){if(1===arguments.length){var g=a;g instanceof qb||(g=Oa(g));g?(g=g.rgb(),g=new ha(g.r,g.g,g.b,g.opacity)):g=new ha}else g=new ha(a,b,c,null==f?1:f);return g}function ha(a,b,c,f){this.r=+a;this.g=+b;
this.b=+c;this.opacity=+f}function ue(){return"#".concat(Pa(this.r)).concat(Pa(this.g)).concat(Pa(this.b))}function ve(){var a=Pb(this.opacity);return"".concat(1===a?"rgb(":"rgba(").concat(Qa(this.r),", ").concat(Qa(this.g),", ").concat(Qa(this.b)).concat(1===a?")":", ".concat(a,")"))}function Pb(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function Qa(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function Pa(a){a=Qa(a);return(16>a?"0":"")+a.toString(16)}function se(a,b,c,f){0>=f?a=b=c=NaN:
0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new oa(a,b,c,f)}function we(a){if(a instanceof oa)return new oa(a.h,a.s,a.l,a.opacity);a instanceof qb||(a=Oa(a));if(!a)return new oa;if(a instanceof oa)return a;a=a.rgb();var b=a.r/255,c=a.g/255,f=a.b/255,g=Math.min(b,c,f),m=Math.max(b,c,f),p=NaN,d=m-g,k=(m+g)/2;d?(p=b===m?(c-f)/d+6*(c<f):c===m?(f-b)/d+2:(b-c)/d+4,d/=.5>k?m+g:2-m-g,p*=60):d=0<k&&1>k?0:p;return new oa(p,d,k,a.opacity)}function oa(a,b,c,f){this.h=+a;this.s=+b;this.l=+c;this.opacity=+f}function xe(a){a=
(a||0)%360;return 0>a?a+360:a}function Qb(a){return Math.max(0,Math.min(1,a||0))}function Kc(a,b,c){return 255*(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function rh(a,b){return function(c){return a+c*b}}function sh(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(f){return Math.pow(a+f*b,c)}}function th(a){return 1===(a=+a)?ye:function(b,c){return c-b?sh(b,c,a):Lc(isNaN(b)?c:b)}}function ye(a,b){var c=b-a;return c?rh(a,c):Lc(isNaN(a)?b:a)}function uh(a,b){b||(b=[]);var c=
a?Math.min(b.length,a.length):0,f=b.slice(),g;return function(m){for(g=0;g<c;++g)f[g]=a[g]*(1-m)+b[g]*m;return f}}function vh(a,b){var c=b?b.length:0,f=a?Math.min(c,a.length):0,g=Array(f),m=Array(c),p;for(p=0;p<f;++p)g[p]=$a(a[p],b[p]);for(;p<c;++p)m[p]=b[p];return function(a){for(p=0;p<f;++p)m[p]=g[p](a);return m}}function wh(a,b){var c=new Date;return a=+a,b=+b,function(f){return c.setTime(a*(1-f)+b*f),c}}function pa(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function xh(a,b){var c={},
f={},g;if(null===a||"object"!==Y(a))a={};if(null===b||"object"!==Y(b))b={};for(g in b)g in a?c[g]=$a(a[g],b[g]):f[g]=b[g];return function(a){for(g in c)f[g]=c[g](a);return f}}function yh(a){return function(){return a}}function zh(a){return function(b){return a(b)+""}}function ze(a,b){var c=Mc.lastIndex=Nc.lastIndex=0,f,g,m,p=-1,d=[],k=[];a+="";for(b+="";(f=Mc.exec(a))&&(g=Nc.exec(b));)(m=g.index)>c&&(m=b.slice(c,m),d[p]?d[p]+=m:d[++p]=m),(f=f[0])===(g=g[0])?d[p]?d[p]+=g:d[++p]=g:(d[++p]=null,k.push({i:p,
x:pa(f,g)})),c=Nc.lastIndex;c<b.length&&(m=b.slice(c),d[p]?d[p]+=m:d[++p]=m);return 2>d.length?k[0]?zh(k[0].x):yh(b):(b=k.length,function(a){for(var c=0,f;c<b;++c)d[(f=k[c]).i]=f.x(a);return d.join("")})}function $a(a,b){var c=Y(b);if(null==b||"boolean"===c)a=Lc(b);else{if("number"===c)var f=pa;else"string"===c?c=(f=Oa(b))?(b=f,Rb):ze:(b instanceof Oa?f=Rb:b instanceof Date?f=wh:(f=b,f=!ArrayBuffer.isView(f)||f instanceof DataView?Array.isArray(b)?vh:"function"!==typeof b.valueOf&&"function"!==typeof b.toString||
isNaN(b)?xh:pa:uh),c=f),f=c;a=f(a,b)}return a}function Oc(a,b){return a=+a,b=+b,function(c){return Math.round(a*(1-c)+b*c)}}function Ae(a,b,c,f,g,m){var p,d,k;if(p=Math.sqrt(a*a+b*b))a/=p,b/=p;if(k=a*c+b*f)c-=a*k,f-=b*k;if(d=Math.sqrt(c*c+f*f))c/=d,f/=d,k/=d;a*f<b*c&&(a=-a,b=-b,k=-k,p=-p);return{translateX:g,translateY:m,rotate:Math.atan2(b,a)*Be,skewX:Math.atan(k)*Be,scaleX:p,scaleY:d}}function Ce(a,b,c,f){function g(a){return a.length?a.pop()+" ":""}function m(a,f,k,g,m,p){a!==k||f!==g?(m=m.push("translate(",
null,b,null,c),p.push({i:m-4,x:pa(a,k)},{i:m-2,x:pa(f,g)})):(k||g)&&m.push("translate("+k+b+g+c)}function p(a,b,c,k){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),k.push({i:c.push(g(c)+"rotate(",null,f)-2,x:pa(a,b)})):b&&c.push(g(c)+"rotate("+b+f)}function d(a,b,c,k){a!==b?k.push({i:c.push(g(c)+"skewX(",null,f)-2,x:pa(a,b)}):b&&c.push(g(c)+"skewX("+b+f)}function k(a,b,c,f,k,m){a!==c||b!==f?(k=k.push(g(k)+"scale(",null,",",null,")"),m.push({i:k-4,x:pa(a,c)},{i:k-2,x:pa(b,f)})):1===c&&1===f||k.push(g(k)+
"scale("+c+","+f+")")}return function(b,c){var f=[],g=[];b=a(b);c=a(c);m(b.translateX,b.translateY,c.translateX,c.translateY,f,g);p(b.rotate,c.rotate,f,g);d(b.skewX,c.skewX,f,g);k(b.scaleX,b.scaleY,c.scaleX,c.scaleY,f,g);b=c=null;return function(a){for(var b=-1,c=g.length,k;++b<c;)f[(k=g[b]).i]=k.x(a);return f.join("")}}}function Ah(a,b){b===l&&(b=a,a=$a);for(var c=0,f=b.length-1,g=b[0],m=Array(0>f?0:f);c<f;)m[c]=a(g,g=b[++c]);return function(a){var b=Math.max(0,Math.min(f-1,Math.floor(a*=f)));return m[b](a-
b)}}function Bh(a){return function(){return a}}function Sb(a){return+a}function aa(a){return a}function Pc(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:Bh(isNaN(b)?NaN:.5)}function Ch(a,b){if(a>b){var c=a;a=b;b=c}return function(c){return Math.max(a,Math.min(b,c))}}function Dh(a,b,c){var f=a[0];a=a[1];var g=b[0];b=b[1];a<f?(f=Pc(a,f),g=c(b,g)):(f=Pc(f,a),g=c(g,b));return function(a){return g(f(a))}}function Eh(a,b,c){var f=Math.min(a.length,b.length)-1,g=Array(f),m=Array(f),p=-1;a[f]<a[0]&&(a=
a.slice().reverse(),b=b.slice().reverse());for(;++p<f;)g[p]=Pc(a[p],a[p+1]),m[p]=c(b[p],b[p+1]);return function(b){var c=La(a,b,1,f)-1;return m[c](g[c](b))}}function rb(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function ab(){function a(){var a=Math.min(c.length,f.length);k!==aa&&(k=Ch(c[0],c[a-1]));n=2<a?Eh:Dh;w=u=null;return b}function b(a){return null==a||isNaN(a=+a)?d:(w||(w=n(c.map(m),f,g)))(m(k(a)))}var c=De,f=De,g=$a,
m,p,d,k=aa,n,w,u;b.invert=function(a){return k(p((u||(u=n(f,c.map(m),pa)))(a)))};b.domain=function(b){return arguments.length?(c=Array.from(b,Sb),a()):c.slice()};b.range=function(b){return arguments.length?(f=Array.from(b),a()):f.slice()};b.rangeRound=function(b){return f=Array.from(b),g=Oc,a()};b.clamp=function(b){return arguments.length?(k=b?!0:aa,a()):k!==aa};b.interpolate=function(b){return arguments.length?(g=b,a()):g};b.unknown=function(a){return arguments.length?(d=a,b):d};return function(b,
c){m=b;p=c;return a()}}function Tb(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var c=a.slice(0,b);return[1<c.length?c[0]+c.slice(2):c,+a.slice(b+1)]}function bb(a){return a=Tb(Math.abs(a)),a?a[1]:NaN}function Fh(a,b){return function(c,f){for(var g=c.length,m=[],p=0,d=a[0],k=0;0<g&&0<d;){k+d+1>f&&(d=Math.max(1,f-k));m.push(c.substring(g-=d,g+d));if((k+=d+1)>f)break;d=a[p=(p+1)%a.length]}return m.reverse().join(b)}}function Gh(a){return function(b){return b.replace(/[0-9]/g,
function(b){return a[+b]})}}function sb(a){if(!(b=Hh.exec(a)))throw Error("invalid format: "+a);var b;return new Qc({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function Qc(a){this.fill=a.fill===l?" ":a.fill+"";this.align=a.align===l?"\x3e":a.align+"";this.sign=a.sign===l?"-":a.sign+"";this.symbol=a.symbol===l?"":a.symbol+"";this.zero=!!a.zero;this.width=a.width===l?l:+a.width;this.comma=!!a.comma;this.precision=a.precision===
l?l:+a.precision;this.trim=!!a.trim;this.type=a.type===l?"":a.type+""}function Ee(a,b){b=Tb(a,b);if(!b)return a+"";a=b[0];b=b[1];return 0>b?"0."+Array(-b).join("0")+a:a.length>b+1?a.slice(0,b+1)+"."+a.slice(b+1):a+Array(b-a.length+2).join("0")}function Fe(a){return a}function Ih(a){function b(a){function b(a){var b=x,f=C,g,d;if("c"===v)f=E(a)+f,a="";else{a=+a;var u=0>a||0>1/a;a=isNaN(a)?n:E(Math.abs(a),D);if(y){var F=a.length,G=1,h=-1;a:for(;G<F;++G)switch(a[G]){case ".":h=g=G;break;case "0":0===
h&&(h=G);g=G;break;default:if(!+a[G])break a;0<h&&(h=0)}a=0<h?a.slice(0,h)+a.slice(g+1):a}u&&0===+a&&"+"!==e&&(u=!1);b=(u?"("===e?e:k:"-"===e||"("===e?"":e)+b;f=("s"===v?Ge[8+He/3]:"")+f+(u&&"("===e?")":"");if(Na)for(u=-1,g=a.length;++u<g;)if(d=a.charCodeAt(u),48>d||57<d){f=(46===d?m+a.slice(u+1):a.slice(u))+f;a=a.slice(0,u);break}}t&&!q&&(a=c(a,Infinity));d=b.length+a.length+f.length;u=d<r?Array(r-d+1).join(w):"";t&&q&&(a=c(u+a,u.length?r-f.length:Infinity),u="");switch(A){case "\x3c":a=b+a+f+u;
break;case "\x3d":a=b+u+a+f;break;case "^":a=u.slice(0,d=u.length>>1)+b+a+f+u.slice(d);break;default:a=u+b+a+f}return p(a)}a=sb(a);var w=a.fill,A=a.align,e=a.sign,h=a.symbol,q=a.zero,r=a.width,t=a.comma,D=a.precision,y=a.trim,v=a.type;"n"===v?(t=!0,v="g"):Ie[v]||(D===l&&(D=12),y=!0,v="g");if(q||"0"===w&&"\x3d"===A)q=!0,w="0",A="\x3d";var x="$"===h?f:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",C="$"===h?g:/[%p]/.test(v)?d:"",E=Ie[v],Na=/[defgprs%]/.test(v);D=D===l?6:/[gprs]/.test(v)?Math.max(1,
Math.min(21,D)):Math.max(0,Math.min(20,D));b.toString=function(){return a+""};return b}var c=a.grouping===l||a.thousands===l?Fe:Fh(Je.call(a.grouping,Number),a.thousands+""),f=a.currency===l?"":a.currency[0]+"",g=a.currency===l?"":a.currency[1]+"",m=a.decimal===l?".":a.decimal+"",p=a.numerals===l?Fe:Gh(Je.call(a.numerals,String)),d=a.percent===l?"%":a.percent+"",k=a.minus===l?"−":a.minus+"",n=a.nan===l?"NaN":a.nan+"";return{format:b,formatPrefix:function(a,c){var f=b((a=sb(a),a.type="f",a));a=3*Math.max(-8,
Math.min(8,Math.floor(bb(c)/3)));var k=Math.pow(10,-a),g=Ge[8+a/3];return function(a){return f(k*a)+g}}}}function Ke(a,b,c,f){c=Kb(a,b,c);f=sb(null==f?",f":f);switch(f.type){case "s":a=Math.max(Math.abs(a),Math.abs(b));if(b=null==f.precision){var g=isNaN;c=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bb(a)/3)))-bb(Math.abs(c)));b=!g(g=c)}b&&(f.precision=g);return Le(f,a);case "":case "e":case "g":case "p":case "r":var m;if(m=null==f.precision)g=isNaN,a=Math.max(Math.abs(a),Math.abs(b)),c=Math.abs(c),
a=Math.abs(a)-c,c=Math.max(0,bb(a)-bb(c))+1,m=!g(g=c);m&&(f.precision=g-("e"===f.type));break;case "f":case "%":null!=f.precision||isNaN(g=Math.max(0,-bb(Math.abs(c))))||(f.precision=g-2*("%"===f.type))}return Rc(f)}function Ea(a){var b=a.domain;a.ticks=function(a){var c=b();return kb(c[0],c[c.length-1],null==a?10:a)};a.tickFormat=function(a,f){var c=b();return Ke(c[0],c[c.length-1],null==a?10:a,f)};a.nice=function(c){null==c&&(c=10);var f=b(),g=0,m=f.length-1,d=f[g],A=f[m],k=10;if(A<d){var n=d;d=
A;A=n;n=g;g=m;m=n}for(;0<k--;){n=Ka(d,A,c);if(n===w)return f[g]=d,f[m]=A,b(f);if(0<n)d=Math.floor(d/n)*n,A=Math.ceil(A/n)*n;else if(0>n)d=Math.ceil(d*n)/n,A=Math.floor(A*n)/n;else break;var w=n}return a};return a}function Me(){var a=ab()(aa,aa);a.copy=function(){return rb(a,Me())};la.apply(a,arguments);return Ea(a)}function Ne(a){function b(a){return null==a||isNaN(a=+a)?c:a}var c;b.invert=b;b.domain=b.range=function(c){return arguments.length?(a=Array.from(c,Sb),b):a.slice()};b.unknown=function(a){return arguments.length?
(c=a,b):c};b.copy=function(){return Ne(a).unknown(c)};a=arguments.length?Array.from(a,Sb):[0,1];return Ea(b)}function Oe(a,b){a=a.slice();var c=0,f=a.length-1,g=a[c],m=a[f];if(m<g){var d=c;c=f;f=d;d=g;g=m;m=d}a[c]=b.floor(g);a[f]=b.ceil(m);return a}function Pe(a){return Math.log(a)}function Qe(a){return Math.exp(a)}function Jh(a){return-Math.log(-a)}function Kh(a){return-Math.exp(-a)}function Lh(a){return isFinite(a)?+("1e"+a):0>a?0:a}function Mh(a){return 10===a?Lh:a===Math.E?Math.exp:function(b){return Math.pow(a,
b)}}function Nh(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function Re(a){return function(b,c){return-a(-b,c)}}function Sc(a){function b(){m=Nh(g);d=Mh(g);0>f()[0]?(m=Re(m),d=Re(d),a(Jh,Kh)):a(Pe,Qe);return c}var c=a(Pe,Qe),f=c.domain,g=10,m,d;c.base=function(a){return arguments.length?(g=+a,b()):g};c.domain=function(a){return arguments.length?(f(a),b()):f()};c.ticks=function(a){var b=f(),c=b[0],p=b[b.length-1];if(b=p<c)p=
[p,c],c=p[0],p=p[1];var u=m(c),A=m(p),e=null==a?10:+a,h=[];if(!(g%1)&&A-u<e){u=Math.floor(u);A=Math.ceil(A);if(0<c)for(;u<=A;++u)for(a=1;a<g;++a){var l=0>u?a/d(-u):a*d(u);if(!(l<c)){if(l>p)break;h.push(l)}}else for(;u<=A;++u)for(a=g-1;1<=a;--a)if(l=0<u?a/d(-u):a*d(u),!(l<c)){if(l>p)break;h.push(l)}2*h.length<e&&(h=kb(c,p,e))}else h=kb(u,A,Math.min(A-u,e)).map(d);return b?h.reverse():h};c.tickFormat=function(a,b){null==a&&(a=10);null==b&&(b=10===g?"s":",");"function"!==typeof b&&(g%1||null!=(b=sb(b)).precision||
(b.trim=!0),b=Rc(b));if(Infinity===a)return b;var f=Math.max(1,g*a/c.ticks().length);return function(a){var c=a/d(Math.round(m(a)));c*g<g-.5&&(c*=g);return c<=f?b(a):""}};c.nice=function(){return f(Oe(f(),{floor:function(a){return d(Math.floor(m(a)))},ceil:function(a){return d(Math.ceil(m(a)))}}))};return c}function Se(){var a=Sc(ab()).domain([1,10]);a.copy=function(){return rb(a,Se()).base(a.base())};la.apply(a,arguments);return a}function Te(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/
a))}}function Ue(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function Tc(a){var b=1,c=a(Te(b),Ue(b));c.constant=function(c){return arguments.length?a(Te(b=+c),Ue(b)):b};return Ea(c)}function Ve(){var a=Tc(ab());a.copy=function(){return rb(a,Ve()).constant(a.constant())};return la.apply(a,arguments)}function We(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function Oh(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function Ph(a){return 0>a?-a*a:a*a}function Uc(a){var b=
a(aa,aa),c=1;b.exponent=function(b){return arguments.length?(c=+b,1===c?a(aa,aa):.5===c?a(Oh,Ph):a(We(c),We(1/c))):c};return Ea(b)}function Vc(){var a=Uc(ab());a.copy=function(){return rb(a,Vc()).exponent(a.exponent())};la.apply(a,arguments);return a}function Xe(a){return Math.sign(a)*a*a}function Ye(){function a(a){a=b(a);a=Math.sign(a)*Math.sqrt(Math.abs(a));return isNaN(a)?g:f?Math.round(a):a}var b=ab()(aa,aa),c=[0,1],f=!1,g;a.invert=function(a){return b.invert(Xe(a))};a.domain=function(c){return arguments.length?
(b.domain(c),a):b.domain()};a.range=function(f){return arguments.length?(b.range((c=Array.from(f,Sb)).map(Xe)),a):c.slice()};a.rangeRound=function(b){return a.range(b).round(!0)};a.round=function(b){return arguments.length?(f=!!b,a):f};a.clamp=function(c){return arguments.length?(b.clamp(c),a):b.clamp()};a.unknown=function(b){return arguments.length?(g=b,a):g};a.copy=function(){return Ye(b.domain(),c).round(f).clamp(b.clamp()).unknown(g)};la.apply(a,arguments);return Ea(a)}function Ze(){function a(){var a=
0,m=Math.max(1,f.length);for(g=Array(m-1);++a<m;)g[a-1]=ee(c,a/m);return b}function b(a){return null==a||isNaN(a=+a)?m:f[La(g,a)]}var c=[],f=[],g=[],m;b.invertExtent=function(a){a=f.indexOf(a);return 0>a?[NaN,NaN]:[0<a?g[a-1]:c[0],a<g.length?g[a]:c[c.length-1]]};b.domain=function(b){if(!arguments.length)return c.slice();c=[];var f=B(b),k;try{for(f.s();!(k=f.n()).done;){var g=k.value;null==g||isNaN(g=+g)||c.push(g)}}catch(w){f.e(w)}finally{f.f()}c.sort(e);return a()};b.range=function(b){return arguments.length?
(f=Array.from(b),a()):f.slice()};b.unknown=function(a){return arguments.length?(m=a,b):m};b.quantiles=function(){return g.slice()};b.copy=function(){return Ze().domain(c).range(f).unknown(m)};return la.apply(b,arguments)}function $e(){function a(a){return null!=a&&a<=a?d[La(m,a,0,g)]:e}function b(){var b=-1;for(m=Array(g);++b<g;)m[b]=((b+1)*f-(b-g)*c)/(g+1);return a}var c=0,f=1,g=1,m=[.5],d=[0,1],e;a.domain=function(a){var k;return arguments.length?(k=t(a,2),c=k[0],f=k[1],c=+c,f=+f,b()):[c,f]};a.range=
function(a){return arguments.length?(g=(d=Array.from(a)).length-1,b()):d.slice()};a.invertExtent=function(a){a=d.indexOf(a);return 0>a?[NaN,NaN]:1>a?[c,m[0]]:a>=g?[m[g-1],f]:[m[a-1],m[a]]};a.unknown=function(b){return arguments.length?(e=b,a):a};a.thresholds=function(){return m.slice()};a.copy=function(){return $e().domain([c,f]).range(d).unknown(e)};return la.apply(Ea(a),arguments)}function af(){function a(a){return null!=a&&a<=a?c[La(b,a,0,g)]:f}var b=[.5],c=[0,1],f,g=1;a.domain=function(f){return arguments.length?
(b=Array.from(f),g=Math.min(b.length,c.length-1),a):b.slice()};a.range=function(f){return arguments.length?(c=Array.from(f),g=Math.min(b.length,c.length-1),a):c.slice()};a.invertExtent=function(a){a=c.indexOf(a);return[b[a-1],b[a]]};a.unknown=function(b){return arguments.length?(f=b,a):f};a.copy=function(){return af().domain(b).range(c).unknown(f)};return la.apply(a,arguments)}function ba(a,b,c,f){function g(b){return a(b=0===arguments.length?new Date:new Date(+b)),b}g.floor=function(b){return a(b=
new Date(+b)),b};g.ceil=function(c){return a(c=new Date(c-1)),b(c,1),a(c),c};g.round=function(a){var b=g(a),c=g.ceil(a);return a-b<c-a?b:c};g.offset=function(a,c){return b(a=new Date(+a),null==c?1:Math.floor(c)),a};g.range=function(c,f,d){var k=[];c=g.ceil(c);d=null==d?1:Math.floor(d);if(!(c<f&&0<d))return k;var m;do k.push(m=new Date(+c)),b(c,d),a(c);while(m<c&&c<f);return k};g.filter=function(c){return ba(function(b){if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},function(a,f){if(a>=a)if(0>f)for(;0>=
++f;)for(;b(a,-1),!c(a););else for(;0<=--f;)for(;b(a,1),!c(a););})};c&&(g.count=function(b,f){Wc.setTime(+b);Xc.setTime(+f);a(Wc);a(Xc);return Math.floor(c(Wc,Xc))},g.every=function(a){a=Math.floor(a);return isFinite(a)&&0<a?1<a?g.filter(f?function(b){return 0===f(b)%a}:function(b){return 0===g.count(0,b)%a}):g:null});return g}function Ra(a){return ba(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(a,c){a.setDate(a.getDate()+7*c)},function(a,c){return(c-a-6E4*(c.getTimezoneOffset()-
a.getTimezoneOffset()))/Yc})}function Sa(a){return ba(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(a,c){a.setUTCDate(a.getUTCDate()+7*c)},function(a,c){return(c-a)/Yc})}function bf(a,b,c,f,g,d){function m(b,c,f){var g=Math.abs(c-b)/f,k=y(function(a){return t(a,3)[2]}).right(e,g);if(k===e.length)return a.every(Kb(b/Zc,c/Zc,f));if(0===k)return Ub.every(Math.max(Kb(b,c,f),1));b=t(e[g/e[k-1][2]<e[k][2]/g?k-1:k],2);return b[0].every(b[1])}var e=[[Ta,1,
1E3],[Ta,5,5E3],[Ta,15,15E3],[Ta,30,3E4],[d,1,6E4],[d,5,3E5],[d,15,9E5],[d,30,18E5],[g,1,36E5],[g,3,108E5],[g,6,216E5],[g,12,432E5],[f,1,864E5],[f,2,1728E5],[c,1,Yc],[b,1,cf],[b,3,3*cf],[a,1,Zc]];return[function(a,b,c){var f=b<a;f&&(b=[b,a],a=b[0],b=b[1]);a=(c=c&&"function"===typeof c.range?c:m(a,b,c))?c.range(a,+b+1):[];return f?a.reverse():a},m]}function $c(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}
function ad(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function tb(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}function Qh(a){function b(a,b){return function(c){var f=[],g=-1,k=0,d=a.length,m,n;for(c instanceof Date||(c=new Date(+c));++g<d;)if(37===a.charCodeAt(g)){f.push(a.slice(k,g));null!=(k=df[m=a.charAt(++g)])?m=a.charAt(++g):k="e"===m?" ":"0";if(n=b[m])m=n(c,k);f.push(m);k=g+
1}f.push(a.slice(k,g));return f.join("")}}function c(a,b){return function(c){var g=tb(1900,l,1);if(f(g,a,c+="",0)!=c.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(1E3*g.s+("L"in g?g.L:0));!b||"Z"in g||(g.Z=0);"p"in g&&(g.H=g.H%12+12*g.p);g.m===l&&(g.m="q"in g?g.q:0);if("V"in g){if(1>g.V||53<g.V)return null;"w"in g||(g.w=1);if("Z"in g){c=ad(tb(g.y,0,1));var k=c.getUTCDay();c=4<k||0===k?Vb.ceil(c):Vb(c);c=Wb.offset(c,7*(g.V-1));g.y=c.getUTCFullYear();g.m=c.getUTCMonth();
g.d=c.getUTCDate()+(g.w+6)%7}else c=$c(tb(g.y,0,1)),k=c.getDay(),c=4<k||0===k?Xb.ceil(c):Xb(c),c=ub.offset(c,7*(g.V-1)),g.y=c.getFullYear(),g.m=c.getMonth(),g.d=c.getDate()+(g.w+6)%7}else if("W"in g||"U"in g)"w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),k="Z"in g?ad(tb(g.y,0,1)).getUTCDay():$c(tb(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+7*g.W-(k+5)%7:g.w+7*g.U-(k+6)%7;return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,ad(g)):$c(g)}}function f(a,b,c,f){for(var g=0,k=b.length,d=c.length,m;g<k;){if(f>=d)return-1;
m=b.charCodeAt(g++);if(37===m){if(m=b.charAt(g++),m=E[m in df?b.charAt(g++):m],!m||0>(f=m(a,c,f)))return-1}else if(m!=c.charCodeAt(f++))return-1}return f}var g=a.dateTime,d=a.date,p=a.time,e=a.periods,k=a.days,n=a.shortDays,w=a.months,u=a.shortMonths,F=vb(e),h=wb(e),q=vb(k),Z=wb(k),r=vb(n),t=wb(n),na=vb(w),D=wb(w),v=vb(u),y=wb(u),x={a:function(a){return n[a.getDay()]},A:function(a){return k[a.getDay()]},b:function(a){return u[a.getMonth()]},B:function(a){return w[a.getMonth()]},c:null,d:ef,e:ef,f:Rh,
g:Sh,G:Th,H:Uh,I:Vh,j:Wh,L:ff,m:Xh,M:Yh,p:function(a){return e[+(12<=a.getHours())]},q:function(a){return 1+~~(a.getMonth()/3)},Q:gf,s:hf,S:Zh,u:$h,U:ai,V:bi,w:ci,W:di,x:null,X:null,y:ei,Y:fi,Z:gi,"%":jf},C={a:function(a){return n[a.getUTCDay()]},A:function(a){return k[a.getUTCDay()]},b:function(a){return u[a.getUTCMonth()]},B:function(a){return w[a.getUTCMonth()]},c:null,d:kf,e:kf,f:hi,g:ii,G:ji,H:ki,I:li,j:mi,L:lf,m:ni,M:oi,p:function(a){return e[+(12<=a.getUTCHours())]},q:function(a){return 1+
~~(a.getUTCMonth()/3)},Q:gf,s:hf,S:pi,u:qi,U:ri,V:si,w:ti,W:ui,x:null,X:null,y:vi,Y:wi,Z:xi,"%":jf},E={a:function(a,b,c){return(b=r.exec(b.slice(c)))?(a.w=t.get(b[0].toLowerCase()),c+b[0].length):-1},A:function(a,b,c){return(b=q.exec(b.slice(c)))?(a.w=Z.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){return(b=v.exec(b.slice(c)))?(a.m=y.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){return(b=na.exec(b.slice(c)))?(a.m=D.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,
b,c){return f(a,g,b,c)},d:mf,e:mf,f:yi,g:nf,G:of,H:pf,I:pf,j:zi,L:Ai,m:Bi,M:Ci,p:function(a,b,c){return(b=F.exec(b.slice(c)))?(a.p=h.get(b[0].toLowerCase()),c+b[0].length):-1},q:Di,Q:Ei,s:Fi,S:Gi,u:Hi,U:Ii,V:Ji,w:Ki,W:Li,x:function(a,b,c){return f(a,d,b,c)},X:function(a,b,c){return f(a,p,b,c)},y:nf,Y:of,Z:Mi,"%":Ni};x.x=b(d,x);x.X=b(p,x);x.c=b(g,x);C.x=b(d,C);C.X=b(p,C);C.c=b(g,C);return{format:function(a){var c=b(a+="",x);c.toString=function(){return a};return c},parse:function(a){var b=c(a+="",
!1);b.toString=function(){return a};return b},utcFormat:function(a){var c=b(a+="",C);c.toString=function(){return a};return c},utcParse:function(a){var b=c(a+="",!0);b.toString=function(){return a};return b}}}function P(a,b,c){var f=0>a?"-":"";a=(f?-a:a)+"";var g=a.length;return f+(g<c?Array(c-g+1).join(b)+a:a)}function Oi(a){return a.replace(Pi,"\\$\x26")}function vb(a){return new RegExp("^(?:"+a.map(Oi).join("|")+")","i")}function wb(a){return new Map(a.map(function(a,c){return[a.toLowerCase(),
c]}))}function Ki(a,b,c){return(b=ca.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Hi(a,b,c){return(b=ca.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function Ii(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function Ji(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function Li(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function of(a,b,c){return(b=ca.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function nf(a,
b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function Mi(a,b,c){return(b=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function Di(a,b,c){return(b=ca.exec(b.slice(c,c+1)))?(a.q=3*b[0]-3,c+b[0].length):-1}function Bi(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function mf(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function zi(a,b,c){return(b=ca.exec(b.slice(c,
c+3)))?(a.m=0,a.d=+b[0],c+b[0].length):-1}function pf(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Ci(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function Gi(a,b,c){return(b=ca.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Ai(a,b,c){return(b=ca.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function yi(a,b,c){return(b=ca.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function Ni(a,b,c){return(a=Qi.exec(b.slice(c,
c+1)))?c+a[0].length:-1}function Ei(a,b,c){return(b=ca.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):-1}function Fi(a,b,c){return(b=ca.exec(b.slice(c)))?(a.s=+b[0],c+b[0].length):-1}function ef(a,b){return P(a.getDate(),b,2)}function Uh(a,b){return P(a.getHours(),b,2)}function Vh(a,b){return P(a.getHours()%12||12,b,2)}function Wh(a,b){return P(1+ub.count(xa(a),a),b,3)}function ff(a,b){return P(a.getMilliseconds(),b,3)}function Rh(a,b){return ff(a,b)+"000"}function Xh(a,b){return P(a.getMonth()+1,b,
2)}function Yh(a,b){return P(a.getMinutes(),b,2)}function Zh(a,b){return P(a.getSeconds(),b,2)}function $h(a){a=a.getDay();return 0===a?7:a}function ai(a,b){return P(Yb.count(xa(a)-1,a),b,2)}function qf(a){var b=a.getDay();return 4<=b||0===b?cb(a):cb.ceil(a)}function bi(a,b){a=qf(a);return P(cb.count(xa(a),a)+(4===xa(a).getDay()),b,2)}function ci(a){return a.getDay()}function di(a,b){return P(Xb.count(xa(a)-1,a),b,2)}function ei(a,b){return P(a.getFullYear()%100,b,2)}function Sh(a,b){a=qf(a);return P(a.getFullYear()%
100,b,2)}function fi(a,b){return P(a.getFullYear()%1E4,b,4)}function Th(a,b){var c=a.getDay();a=4<=c||0===c?cb(a):cb.ceil(a);return P(a.getFullYear()%1E4,b,4)}function gi(a){a=a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+P(a/60|0,"0",2)+P(a%60,"0",2)}function kf(a,b){return P(a.getUTCDate(),b,2)}function ki(a,b){return P(a.getUTCHours(),b,2)}function li(a,b){return P(a.getUTCHours()%12||12,b,2)}function mi(a,b){return P(1+Wb.count(ya(a),a),b,3)}function lf(a,b){return P(a.getUTCMilliseconds(),
b,3)}function hi(a,b){return lf(a,b)+"000"}function ni(a,b){return P(a.getUTCMonth()+1,b,2)}function oi(a,b){return P(a.getUTCMinutes(),b,2)}function pi(a,b){return P(a.getUTCSeconds(),b,2)}function qi(a){a=a.getUTCDay();return 0===a?7:a}function ri(a,b){return P(Zb.count(ya(a)-1,a),b,2)}function rf(a){var b=a.getUTCDay();return 4<=b||0===b?db(a):db.ceil(a)}function si(a,b){a=rf(a);return P(db.count(ya(a),a)+(4===ya(a).getUTCDay()),b,2)}function ti(a){return a.getUTCDay()}function ui(a,b){return P(Vb.count(ya(a)-
1,a),b,2)}function vi(a,b){return P(a.getUTCFullYear()%100,b,2)}function ii(a,b){a=rf(a);return P(a.getUTCFullYear()%100,b,2)}function wi(a,b){return P(a.getUTCFullYear()%1E4,b,4)}function ji(a,b){var c=a.getUTCDay();a=4<=c||0===c?db(a):db.ceil(a);return P(a.getUTCFullYear()%1E4,b,4)}function xi(){return"+0000"}function jf(){return"%"}function gf(a){return+a}function hf(a){return Math.floor(+a/1E3)}function Ri(a){return new Date(a)}function Si(a){return a instanceof Date?+a:+new Date(+a)}function bd(a,
b,c,f,g,d,p,e,k,n){function m(a){return(k(a)<a?l:e(a)<a?q:p(a)<a?r:d(a)<a?t:f(a)<a?g(a)<a?na:D:c(a)<a?v:y)(a)}var u=ab()(aa,aa),A=u.invert,h=u.domain,l=n(".%L"),q=n(":%S"),r=n("%I:%M"),t=n("%I %p"),na=n("%a %d"),D=n("%b %d"),v=n("%B"),y=n("%Y");u.invert=function(a){return new Date(A(a))};u.domain=function(a){return arguments.length?h(Array.from(a,Si)):h().map(Ri)};u.ticks=function(b){var c=h();return a(c[0],c[c.length-1],null==b?10:b)};u.tickFormat=function(a,b){return null==b?m:n(b)};u.nice=function(a){var c=
h();a&&"function"===typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a));return a?h(Oe(c,a)):u};u.copy=function(){return rb(u,bd(a,b,c,f,g,d,p,e,k,n))};return u}function $b(){function a(a){return null==a||isNaN(a=+a)?w:k(0===p?.5:(a=(e(a)-g)*p,n?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var f,g,d;return arguments.length?(f=t(c,2),g=f[0],d=f[1],k=b(g,d),a):[k(0),k(1)]}}var c=0,f=1,g,d,p,e,k=aa,n=!1,w;a.domain=function(b){var k;return arguments.length?(k=t(b,2),c=k[0],f=k[1],
g=e(c=+c),d=e(f=+f),p=g===d?0:1/(d-g),a):[c,f]};a.clamp=function(b){return arguments.length?(n=!!b,a):n};a.interpolator=function(b){return arguments.length?(k=b,a):k};a.range=b($a);a.rangeRound=b(Oc);a.unknown=function(b){return arguments.length?(w=b,a):w};return function(b){e=b;g=b(c);d=b(f);p=g===d?0:1/(d-g);return a}}function Fa(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function sf(){var a=Ea($b()(aa));a.copy=function(){return Fa(a,sf())};
return wa.apply(a,arguments)}function tf(){var a=Sc($b()).domain([1,10]);a.copy=function(){return Fa(a,tf()).base(a.base())};return wa.apply(a,arguments)}function uf(){var a=Tc($b());a.copy=function(){return Fa(a,uf()).constant(a.constant())};return wa.apply(a,arguments)}function cd(){var a=Uc($b());a.copy=function(){return Fa(a,cd()).exponent(a.exponent())};return wa.apply(a,arguments)}function vf(){function a(a){if(null!=a&&!isNaN(a=+a))return c((La(b,a,1)-1)/(b.length-1))}var b=[],c=aa;a.domain=
function(c){if(!arguments.length)return b.slice();b=[];var f=B(c),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;null==p||isNaN(p=+p)||b.push(p)}}catch(A){f.e(A)}finally{f.f()}b.sort(e);return a};a.interpolator=function(b){return arguments.length?(c=b,a):c};a.range=function(){return b.map(function(a,g){return c(g/(b.length-1))})};a.quantiles=function(a){return Array.from({length:a+1},function(c,f){return ob(b,f/a)})};a.copy=function(){return vf(c).domain(b)};return wa.apply(a,arguments)}function ac(){function a(a){return isNaN(a=
+a)?l:(a=.5+((a=+F(a))-e)*(d*a<d*e?n:w),u(h?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){var f,g,k,d;return arguments.length?(f=t(c,3),g=f[0],k=f[1],d=f[2],u=Ah(b,[g,k,d]),a):[u(0),u(.5),u(1)]}}var c=0,f=.5,g=1,d=1,p,e,k,n,w,u=aa,F,h=!1,l;a.domain=function(b){var m;return arguments.length?(m=t(b,3),c=m[0],f=m[1],g=m[2],p=F(c=+c),e=F(f=+f),k=F(g=+g),n=p===e?0:.5/(e-p),w=e===k?0:.5/(k-e),d=e<p?-1:1,a):[c,f,g]};a.clamp=function(b){return arguments.length?(h=!!b,a):h};a.interpolator=
function(b){return arguments.length?(u=b,a):u};a.range=b($a);a.rangeRound=b(Oc);a.unknown=function(b){return arguments.length?(l=b,a):l};return function(b){F=b;p=b(c);e=b(f);k=b(g);n=p===e?0:.5/(e-p);w=e===k?0:.5/(k-e);d=e<p?-1:1;return a}}function wf(){var a=Ea(ac()(aa));a.copy=function(){return Fa(a,wf())};return wa.apply(a,arguments)}function xf(){var a=Sc(ac()).domain([.1,1,10]);a.copy=function(){return Fa(a,xf()).base(a.base())};return wa.apply(a,arguments)}function yf(){var a=Tc(ac());a.copy=
function(){return Fa(a,yf()).constant(a.constant())};return wa.apply(a,arguments)}function dd(){var a=Uc(ac());a.copy=function(){return Fa(a,dd()).exponent(a.exponent())};return wa.apply(a,arguments)}function xb(a){var b=a+="",c=b.indexOf(":");0<=c&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1));return ed.hasOwnProperty(b)?{space:ed[b],local:a}:a}function Ti(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return"http://www.w3.org/1999/xhtml"===c&&"http://www.w3.org/1999/xhtml"===b.documentElement.namespaceURI?
b.createElement(a):b.createElementNS(c,a)}}function Ui(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function bc(a){a=xb(a);return(a.local?Ui:Ti)(a)}function Vi(){}function cc(a){return null==a?Vi:function(){return this.querySelector(a)}}function zf(a){return null==a?[]:Array.isArray(a)?a:Array.from(a)}function Wi(){return[]}function fd(a){return null==a?Wi:function(){return this.querySelectorAll(a)}}function Xi(a){return function(){return zf(a.apply(this,arguments))}}
function gd(a){return function(){return this.matches(a)}}function Af(a){return function(b){return b.matches(a)}}function Yi(a){return function(){return Zi.call(this.children,a)}}function $i(){return this.firstElementChild}function aj(){return Array.from(this.children)}function bj(a){return function(){return cj.call(this.children,a)}}function Bf(a){return Array(a.length)}function dc(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=
b}function dj(a){return function(){return a}}function ej(a,b,c,f,g,d){for(var m=0,e,k=b.length,n=d.length;m<n;++m)(e=b[m])?(e.__data__=d[m],f[m]=e):c[m]=new dc(a,d[m]);for(;m<k;++m)if(e=b[m])g[m]=e}function fj(a,b,c,f,g,d,p){var m,k,n=new Map,w=b.length,u=d.length,e=Array(w),h;for(m=0;m<w;++m)if(k=b[m])e[m]=h=p.call(k,k.__data__,m,b)+"",n.has(h)?g[m]=k:n.set(h,k);for(m=0;m<u;++m)h=p.call(a,d[m],m,d)+"",(k=n.get(h))?(f[m]=k,k.__data__=d[m],n["delete"](h)):c[m]=new dc(a,d[m]);for(m=0;m<w;++m)(k=b[m])&&
n.get(e[m])===k&&(g[m]=k)}function gj(a){return a.__data__}function hj(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function ij(a){return function(){this.removeAttribute(a)}}function jj(a){return function(){this.removeAttributeNS(a.space,a.local)}}function kj(a,b){return function(){this.setAttribute(a,b)}}function lj(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function mj(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function nj(a,
b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function hd(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function oj(a){return function(){this.style.removeProperty(a)}}function pj(a,b,c){return function(){this.style.setProperty(a,b,c)}}function qj(a,b,c){return function(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,c)}}
function Ua(a,b){return a.style.getPropertyValue(b)||hd(a).getComputedStyle(a,null).getPropertyValue(b)}function rj(a){return function(){delete this[a]}}function sj(a,b){return function(){this[a]=b}}function tj(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function id(a){return a.classList||new Cf(a)}function Cf(a){this._node=a;this._names=(a.getAttribute("class")||"").trim().split(/^|\s+/)}function Df(a,b){a=id(a);for(var c=-1,f=b.length;++c<f;)a.add(b[c])}
function Ef(a,b){a=id(a);for(var c=-1,f=b.length;++c<f;)a.remove(b[c])}function uj(a){return function(){Df(this,a)}}function vj(a){return function(){Ef(this,a)}}function wj(a,b){return function(){(b.apply(this,arguments)?Df:Ef)(this,a)}}function xj(){this.textContent=""}function yj(a){return function(){this.textContent=a}}function zj(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function Aj(){this.innerHTML=""}function Bj(a){return function(){this.innerHTML=a}}
function Cj(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function Dj(){this.nextSibling&&this.parentNode.appendChild(this)}function Ej(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fj(){return null}function Gj(){var a=this.parentNode;a&&a.removeChild(this)}function Hj(){var a=this.cloneNode(!1),b=this.parentNode;return b?b.insertBefore(a,this.nextSibling):a}function Ij(){var a=this.cloneNode(!0),b=this.parentNode;
return b?b.insertBefore(a,this.nextSibling):a}function Jj(a){return function(b){a.call(this,b,this.__data__)}}function Kj(a){return a.trim().split(/^|\s+/).map(function(a){var b="",f=a.indexOf(".");0<=f&&(b=a.slice(f+1),a=a.slice(0,f));return{type:a,name:b}})}function Lj(a){return function(){var b=this.__on;if(b){for(var c=0,f=-1,g=b.length,d;c<g;++c)(d=b[c],a.type&&d.type!==a.type||d.name!==a.name)?b[++f]=d:this.removeEventListener(d.type,d.listener,d.options);++f?b.length=f:delete this.__on}}}function Mj(a,
b,c){return function(){var f=this.__on,g,d=Jj(b);if(f)for(var p=0,e=f.length;p<e;++p)if((g=f[p]).type===a.type&&g.name===a.name){this.removeEventListener(g.type,g.listener,g.options);this.addEventListener(g.type,g.listener=d,g.options=c);g.value=b;return}this.addEventListener(a.type,d,c);g={type:a.type,name:a.name,value:b,listener:d,options:c};f?f.push(g):this.__on=[g]}}function Ff(a,b,c){var f=hd(a),g=f.CustomEvent;"function"===typeof g?g=new g(b,c):(g=f.document.createEvent("Event"),c?(g.initEvent(b,
c.bubbles,c.cancelable),g.detail=c.detail):g.initEvent(b,!1,!1));a.dispatchEvent(g)}function Nj(a,b){return function(){return Ff(this,a,b)}}function Oj(a,b){return function(){return Ff(this,a,b.apply(this,arguments))}}function Gf(){var a,b,c,f,g,d,p;return Ja().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:a=this._groups,b=0,c=a.length;case 1:if(!(b<c)){m.next=13;break}f=a[b];g=0;d=f.length;case 3:if(!(g<d)){m.next=10;break}if(!(p=f[g])){m.next=7;break}m.next=7;return p;case 7:++g;m.next=3;
break;case 10:++b;m.next=1;break;case 13:case "end":return m.stop()}},Pj,this)}function fa(a,b){this._groups=a;this._parents=b}function Va(){return new fa([[document.documentElement]],jd)}function Hf(a){return"string"===typeof a?new fa([[document.querySelector(a)]],[document.documentElement]):new fa([[a]],jd)}function If(){return new kd}function kd(){this._="@"+(++Qj).toString(36)}function Jf(a){for(var b;b=a.sourceEvent;)a=b;return a}function Kf(a,b){a=Jf(a);b===l&&(b=a.currentTarget);if(b){var c=
b.ownerSVGElement||b;if(c.createSVGPoint)return c=c.createSVGPoint(),c.x=a.clientX,c.y=a.clientY,c=c.matrixTransform(b.getScreenCTM().inverse()),[c.x,c.y];if(b.getBoundingClientRect)return c=b.getBoundingClientRect(),[a.clientX-c.left-b.clientLeft,a.clientY-c.top-b.clientTop]}return[a.pageX,a.pageY]}function L(a){return function(){return a}}function Lf(a){return 1<=a?ec:-1>=a?-ec:Math.asin(a)}function Mf(a){this._+=a[0];for(var b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}function Rj(a){var b=
Math.floor(a);if(!(0<=b))throw Error("invalid digits: ".concat(a));if(15<b)return Mf;var c=Math.pow(10,b);return function(a){this._+=a[0];for(var b=1,f=a.length;b<f;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}function yb(a){var b=3;a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{var f=Math.floor(c);if(!(0<=f))throw new RangeError("invalid digits: ".concat(c));b=f}return a};return function(){return new Sj(b)}}function Tj(a){return a.innerRadius}function Uj(a){return a.outerRadius}
function Vj(a){return a.startAngle}function Wj(a){return a.endAngle}function Xj(a){return a&&a.padAngle}function fc(a,b,c,f,g,d,p){var m=a-c,k=b-f;p=(p?d:-d)/W(m*m+k*k);k*=p;m*=-p;var n=a+k,w=b+m,u=c+k,e=f+m;c=(n+u)/2;f=(w+e)/2;b=u-n;a=e-w;p=b*b+a*a;d=g-d;e=n*e-u*w;var h=(0>a?-1:1)*W(Yj(0,d*d*p-e*e));n=(e*a-b*h)/p;w=(-e*b-a*h)/p;u=(e*a+b*h)/p;b=(-e*b+a*h)/p;a=n-c;p=w-f;c=u-c;f=b-f;a*a+p*p>c*c+f*f&&(n=u,w=b);return{cx:n,cy:w,x01:-k,y01:-m,x11:n*(g/d-1),y11:w*(g/d-1)}}function gc(a){return"object"===
Y(a)&&"length"in a?a:Array.from(a)}function Nf(a){this._context=a}function hc(a){return new Nf(a)}function ld(a){return a[0]}function md(a){return a[1]}function nd(a,b){function c(c){var k,m=(c=gc(c)).length,u,h=!1,A;null==g&&(p=d(A=e()));for(k=0;k<=m;++k)!(k<m&&f(u=c[k],k,c))===h&&((h=!h)?p.lineStart():p.lineEnd()),h&&p.point(+a(u,k,c),+b(u,k,c));if(A)return p=null,A+""||null}var f=L(!0),g=null,d=hc,p=null,e=yb(c);a="function"===typeof a?a:a===l?ld:L(a);b="function"===typeof b?b:b===l?md:L(b);c.x=
function(b){return arguments.length?(a="function"===typeof b?b:L(+b),c):a};c.y=function(a){return arguments.length?(b="function"===typeof a?a:L(+a),c):b};c.defined=function(a){return arguments.length?(f="function"===typeof a?a:L(!!a),c):f};c.curve=function(a){return arguments.length?(d=a,null!=g&&(p=d(g)),c):d};c.context=function(a){return arguments.length?(null==a?g=p=null:p=d(g=a),c):g};return c}function Of(a,b,c){function f(f){var g,m,u=(f=gc(f)).length,h,A=!1,l,q=Array(u),r=Array(u);null==e&&
(n=k(l=w()));for(g=0;g<=u;++g){if(!(g<u&&p(h=f[g],g,f))===A)if(A=!A){var t=g;n.areaStart();n.lineStart()}else{n.lineEnd();n.lineStart();for(m=g-1;m>=t;--m)n.point(q[m],r[m]);n.lineEnd();n.areaEnd()}A&&(q[g]=+a(h,g,f),r[g]=+b(h,g,f),n.point(d?+d(h,g,f):q[g],c?+c(h,g,f):r[g]))}if(l)return n=null,l+""||null}function g(){return nd().defined(p).curve(k).context(e)}var d=null,p=L(!0),e=null,k=hc,n=null,w=yb(f);a="function"===typeof a?a:a===l?ld:L(+a);b="function"===typeof b?b:b===l?L(0):L(+b);c="function"===
typeof c?c:c===l?md:L(+c);f.x=function(b){return arguments.length?(a="function"===typeof b?b:L(+b),d=null,f):a};f.x0=function(b){return arguments.length?(a="function"===typeof b?b:L(+b),f):a};f.x1=function(a){return arguments.length?(d=null==a?null:"function"===typeof a?a:L(+a),f):d};f.y=function(a){return arguments.length?(b="function"===typeof a?a:L(+a),c=null,f):b};f.y0=function(a){return arguments.length?(b="function"===typeof a?a:L(+a),f):b};f.y1=function(a){return arguments.length?(c=null==
a?null:"function"===typeof a?a:L(+a),f):c};f.lineX0=f.lineY0=function(){return g().x(a).y(b)};f.lineY1=function(){return g().x(a).y(c)};f.lineX1=function(){return g().x(d).y(b)};f.defined=function(a){return arguments.length?(p="function"===typeof a?a:L(!!a),f):p};f.curve=function(a){return arguments.length?(k=a,null!=e&&(n=k(e)),f):k};f.context=function(a){return arguments.length?(null==a?e=n=null:n=k(e=a),f):e};return f}function Zj(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function ak(a){return a}function Pf(a){this._curve=
a}function od(a){function b(b){return new Pf(a(b))}b._curve=a;return b}function zb(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(a){return arguments.length?b(od(a)):b()._curve};return a}function Qf(){return zb(nd().curve(Rf))}function Sf(){var a=Of().curve(Rf),b=a.curve,c=a.lineX0,f=a.lineX1,g=a.lineY0,d=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;
delete a.y1;a.lineStartAngle=function(){return zb(c())};delete a.lineX0;a.lineEndAngle=function(){return zb(f())};delete a.lineX1;a.lineInnerRadius=function(){return zb(g())};delete a.lineY0;a.lineOuterRadius=function(){return zb(d())};delete a.lineY1;a.curve=function(a){return arguments.length?b(od(a)):b()._curve};return a}function Ab(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function Tf(a){return new Uf(a,!0)}function Vf(a){return new Uf(a,!1)}function bk(a){return new ck(a)}function dk(a){return a.source}
function ek(a){return a.target}function ic(a){function b(){var b,m=fk.call(arguments),u=c.apply(this,m),h=f.apply(this,m);null==p&&(e=a(b=k()));e.lineStart();m[0]=u;e.point(+g.apply(this,m),+d.apply(this,m));m[0]=h;e.point(+g.apply(this,m),+d.apply(this,m));e.lineEnd();if(b)return e=null,b+""||null}var c=dk,f=ek,g=ld,d=md,p=null,e=null,k=yb(b);b.source=function(a){return arguments.length?(c=a,b):c};b.target=function(a){return arguments.length?(f=a,b):f};b.x=function(a){return arguments.length?(g=
"function"===typeof a?a:L(+a),b):g};b.y=function(a){return arguments.length?(d="function"===typeof a?a:L(+a),b):d};b.context=function(c){return arguments.length?(null==c?p=e=null:e=a(p=c),b):p};return b}function Ga(){}function jc(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function kc(a){this._context=a}function Wf(a){this._context=a}function Xf(a){this._context=a}function Yf(a,b){this._basis=new kc(a);
this._beta=b}function lc(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function pd(a,b){this._context=a;this._k=(1-b)/6}function qd(a,b){this._context=a;this._k=(1-b)/6}function rd(a,b){this._context=a;this._k=(1-b)/6}function sd(a,b,c){var f=a._x1,g=a._y1,d=a._x2,p=a._y2;if(1E-12<a._l01_a){var e=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,k=3*a._l01_a*(a._l01_a+a._l12_a);f=(f*e-a._x0*a._l12_2a+a._x2*a._l01_2a)/
k;g=(g*e-a._y0*a._l12_2a+a._y2*a._l01_2a)/k}1E-12<a._l23_a&&(e=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,k=3*a._l23_a*(a._l23_a+a._l12_a),d=(d*e+a._x1*a._l23_2a-b*a._l12_2a)/k,p=(p*e+a._y1*a._l23_2a-c*a._l12_2a)/k);a._context.bezierCurveTo(f,g,d,p,a._x2,a._y2)}function Zf(a,b){this._context=a;this._alpha=b}function $f(a,b){this._context=a;this._alpha=b}function ag(a,b){this._context=a;this._alpha=b}function bg(a){this._context=a}function cg(a,b,c){var f=a._x1-a._x0;b-=a._x1;var g=(a._y1-a._y0)/(f||
0>b&&-0);a=(c-a._y1)/(b||0>f&&-0);return((0>g?-1:1)+(0>a?-1:1))*Math.min(Math.abs(g),Math.abs(a),.5*Math.abs((g*b+a*f)/(f+b)))||0}function dg(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function td(a,b,c){var f=a._x0,g=a._x1,d=a._y1,p=(g-f)/3;a._context.bezierCurveTo(f+p,a._y0+p*b,g-p,d-p*c,g,d)}function mc(a){this._context=a}function eg(a){this._context=new fg(a)}function fg(a){this._context=a}function gg(a){this._context=a}function hg(a){var b,c=a.length-1,f=Array(c),g=Array(c),d=
Array(c);f[0]=0;g[0]=2;d[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)f[b]=1,g[b]=4,d[b]=4*a[b]+2*a[b+1];f[c-1]=2;g[c-1]=7;d[c-1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var p=f[b]/g[b-1];g[b]-=p;d[b]-=p*d[b-1]}f[c-1]=d[c-1]/g[c-1];for(b=c-2;0<=b;--b)f[b]=(d[b]-f[b+1])/g[b];g[c-1]=(a[c]+f[c-1])/2;for(b=0;b<c-1;++b)g[b]=2*a[b+1]-f[b+1];return[f,g]}function nc(a,b){this._context=a;this._t=b}function eb(a,b){if(1<(p=a.length))for(var c=1,f,g,d=a[b[0]],p,e=d.length;c<p;++c)for(g=d,d=a[b[c]],f=0;f<e;++f)d[f][1]+=d[f][0]=isNaN(g[f][1])?
g[f][0]:g[f][1]}function fb(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function gk(a,b){return a[b]}function hk(a){var b=[];b.key=a;return b}function ig(a){var b=a.map(ik);return fb(a).sort(function(a,f){return b[a]-b[f]})}function ik(a){for(var b=-1,c=0,f=a.length,g,d=-Infinity;++b<f;)(g=+a[b][1])>d&&(d=g,c=b);return c}function jg(a){var b=a.map(kg);return fb(a).sort(function(a,f){return b[a]-b[f]})}function kg(a){for(var b=0,c=-1,f=a.length,g;++c<f;)if(g=+a[c][1])b+=g;return b}function lg(){for(var a=
0,b=arguments.length,c={},f;a<b;++a){if(!(f=arguments[a]+"")||f in c||/[\s.]/.test(f))throw Error("illegal type: "+f);c[f]=[]}return new oc(c)}function oc(a){this._=a}function jk(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",g=a.indexOf(".");0<=g&&(c=a.slice(g+1),a=a.slice(0,g));if(a&&!b.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:c}})}function mg(a,b,c){for(var f=0,g=a.length;f<g;++f)if(a[f].name===b){a[f]=kk;a=a.slice(0,f).concat(a.slice(f+1));break}null!=
c&&a.push({name:b,value:c});return a}function ud(){return Wa||(ng(lk),Wa=Bb.now()+pc)}function lk(){Wa=0}function qc(){this._call=this._time=this._next=null}function og(a,b,c){var f=new qc;f.restart(a,b,c);return f}function pg(){Wa=(rc=Bb.now())+pc;gb=Cb=0;try{ud();++gb;for(var a=sc,b;a;)0<=(b=Wa-a._time)&&a._call.call(l,b),a=a._next;--gb}finally{gb=0;a=sc;for(var c=Infinity;a;)if(a._call){c>a._time&&(c=a._time);var f=a;a=a._next}else b=a._next,a._next=null,a=f?f._next=b:sc=b;Db=f;vd(c);Wa=0}}function mk(){var a=
Bb.now(),b=a-rc;1E3<b&&(pc-=b,rc=a)}function vd(a){gb||(Cb&&(Cb=clearTimeout(Cb)),24<a-Wa?(Infinity>a&&(Cb=setTimeout(pg,a-Bb.now()-pc)),Eb&&(Eb=clearInterval(Eb))):(Eb||(rc=Bb.now(),Eb=setInterval(mk,1E3)),gb=1,ng(pg)))}function qg(a,b,c){var f=new qc;b=null==b?0:+b;f.restart(function(c){f.stop();a(c+b)},b,c);return f}function tc(a,b,c,f,g,d){var m=a.__transition;if(!m)a.__transition={};else if(c in m)return;nk(a,c,{name:b,index:f,group:g,on:ok,tween:pk,time:d.time,delay:d.delay,duration:d.duration,
ease:d.ease,timer:null,state:0})}function wd(a,b){a=qa(a,b);if(0<a.state)throw Error("too late; already scheduled");return a}function ta(a,b){a=qa(a,b);if(3<a.state)throw Error("too late; already running");return a}function qa(a,b){a=a.__transition;if(!a||!(a=a[b]))throw Error("transition not found");return a}function nk(a,b,c){function f(k){var m,w;if(1!==c.state)return d();for(h in p){var u=p[h];if(u.name===c.name){if(3===u.state)return qg(f);4===u.state?(u.state=6,u.timer.stop(),u.on.call("interrupt",
a,a.__data__,u.index,u.group),delete p[h]):+h<b&&(u.state=6,u.timer.stop(),u.on.call("cancel",a,a.__data__,u.index,u.group),delete p[h])}}qg(function(){3===c.state&&(c.state=4,c.timer.restart(g,c.delay,c.time),g(k))});c.state=2;c.on.call("start",a,a.__data__,c.index,c.group);if(2===c.state){c.state=3;e=Array(w=c.tween.length);var h=0;for(m=-1;h<w;++h)if(u=c.tween[h].value.call(a,a.__data__,c.index,c.group))e[++m]=u;e.length=m+1}}function g(b){b=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(d),
c.state=5,1);for(var f=-1,g=e.length;++f<g;)e[f].call(a,b);5===c.state&&(c.on.call("end",a,a.__data__,c.index,c.group),d())}function d(){c.state=6;c.timer.stop();delete p[b];for(var f in p)return;delete a.__transition}var p=a.__transition,e;p[b]=c;c.timer=og(function(a){c.state=1;c.timer.restart(f,c.delay,c.time);c.delay<=a&&f(a-c.delay)},0,c.time)}function rg(a,b){var c=a.__transition,f,g=!0,d;if(c){b=null==b?null:b+"";for(d in c)if((f=c[d]).name!==b)g=!1;else{var p=2<f.state&&5>f.state;f.state=
6;f.timer.stop();f.on.call(p?"interrupt":"cancel",a,a.__data__,f.index,f.group);delete c[d]}g&&delete a.__transition}}function qk(a,b){var c,f;return function(){var g=ta(this,a),d=g.tween;if(d!==c){f=c=d;d=0;for(var p=f.length;d<p;++d)if(f[d].name===b){f=f.slice();f.splice(d,1);break}}g.tween=f}}function rk(a,b,c){var f,g;if("function"!==typeof c)throw Error();return function(){var d=ta(this,a),p=d.tween;if(p!==f){g=(f=p).slice();p={name:b,value:c};for(var e=0,k=g.length;e<k;++e)if(g[e].name===b){g[e]=
p;break}e===k&&g.push(p)}d.tween=g}}function xd(a,b,c){var f=a._id;a.each(function(){var a=ta(this,f);(a.value||(a.value={}))[b]=c.apply(this,arguments)});return function(a){return qa(a,f).value[b]}}function sg(a,b){var c;return("number"===typeof b?pa:b instanceof Oa?Rb:(c=Oa(b))?(b=c,Rb):ze)(a,b)}function sk(a){return function(){this.removeAttribute(a)}}function tk(a){return function(){this.removeAttributeNS(a.space,a.local)}}function uk(a,b,c){var f,g=c+"",d;return function(){var m=this.getAttribute(a);
return m===g?null:m===f?d:d=b(f=m,c)}}function vk(a,b,c){var f,g=c+"",d;return function(){var m=this.getAttributeNS(a.space,a.local);return m===g?null:m===f?d:d=b(f=m,c)}}function wk(a,b,c){var f,g,d;return function(){var m=c(this);if(null==m)return void this.removeAttribute(a);var e=this.getAttribute(a);var k=m+"";return e===k?null:e===f&&k===g?d:(g=k,d=b(f=e,m))}}function xk(a,b,c){var f,g,d;return function(){var m=c(this);if(null==m)return void this.removeAttributeNS(a.space,a.local);var e=this.getAttributeNS(a.space,
a.local);var k=m+"";return e===k?null:e===f&&k===g?d:(g=k,d=b(f=e,m))}}function yk(a,b){return function(c){this.setAttribute(a,b.call(this,c))}}function zk(a,b){return function(c){this.setAttributeNS(a.space,a.local,b.call(this,c))}}function Ak(a,b){function c(){var c=b.apply(this,arguments);c!==g&&(f=(g=c)&&zk(a,c));return f}var f,g;c._value=b;return c}function Bk(a,b){function c(){var c=b.apply(this,arguments);c!==g&&(f=(g=c)&&yk(a,c));return f}var f,g;c._value=b;return c}function Ck(a,b){return function(){wd(this,
a).delay=+b.apply(this,arguments)}}function Dk(a,b){return b=+b,function(){wd(this,a).delay=b}}function Ek(a,b){return function(){ta(this,a).duration=+b.apply(this,arguments)}}function Fk(a,b){return b=+b,function(){ta(this,a).duration=b}}function Gk(a,b){if("function"!==typeof b)throw Error();return function(){ta(this,a).ease=b}}function Hk(a,b){return function(){var c=b.apply(this,arguments);if("function"!==typeof c)throw Error();ta(this,a).ease=c}}function Ik(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=
a.indexOf(".");0<=b&&(a=a.slice(0,b));return!a||"start"===a})}function Jk(a,b,c){var f,g,d=Ik(b)?wd:ta;return function(){var m=d(this,a),e=m.on;if(e!==f)(g=(f=e).copy()).on(b,c);m.on=g}}function Kk(a){return function(){var b=this.parentNode,c;for(c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function Lk(a,b){var c,f,g;return function(){var d=Ua(this,a),e=(this.style.removeProperty(a),Ua(this,a));return d===e?null:d===c&&e===f?g:g=b(c=d,f=e)}}function tg(a){return function(){this.style.removeProperty(a)}}
function Mk(a,b,c){var f,g=c+"",d;return function(){var m=Ua(this,a);return m===g?null:m===f?d:d=b(f=m,c)}}function Nk(a,b,c){var f,g,d;return function(){var m=Ua(this,a),e=c(this),k=e+"";null==e&&(k=e=(this.style.removeProperty(a),Ua(this,a)));return m===k?null:m===f&&k===g?d:(g=k,d=b(f=m,e))}}function Ok(a,b){var c,f,g,d="style."+b,e="end."+d,h;return function(){var k=ta(this,a),m=k.on,p=null==k.value[d]?h||(h=tg(b)):l;if(m!==c||g!==p)(f=(c=m).copy()).on(e,g=p);k.on=f}}function Pk(a,b,c){return function(f){this.style.setProperty(a,
b.call(this,f),c)}}function Qk(a,b,c){function f(){var f=b.apply(this,arguments);f!==d&&(g=(d=f)&&Pk(a,f,c));return g}var g,d;f._value=b;return f}function Rk(a){return function(){this.textContent=a}}function Sk(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function Tk(a){return function(b){this.textContent=a.call(this,b)}}function Uk(a){function b(){var b=a.apply(this,arguments);b!==f&&(c=(f=b)&&Tk(b));return c}var c,f;b._value=a;return b}function ua(a,b,c,f){this._groups=a;this._parents=
b;this._name=c;this._id=f}function ug(a){return Va().transition(a)}var Vg=Ja().mark(H),$g=Ja().mark(ge),Pj=Ja().mark(Gf),vg=y(e),wg=vg.right,Vk=vg.left,Wk=y(Q).center,La=wg,Xk=da(va),Yk=da(function(a){var b=va(a);return function(a,f,g,d,e){g<<=2;d<<=2;e<<=2;b(a,f,g+0,d+0,e);b(a,f,g+1,d+1,e);b(a,f,g+2,d+2,e);b(a,f,g+3,d+3,e)}}),yd=function(){function a(){X(this,a);this._partials=new Float64Array(32);this._n=0}K(a,[{key:"add",value:function(a){for(var b=this._partials,f=0,g=0;g<this._n&&32>g;g++){var d=
b[g],e=a+d;(a=Math.abs(a)<Math.abs(d)?a-(e-d):d-(e-a))&&(b[f++]=a);a=e}b[f]=a;this._n=f+1;return this}},{key:"valueOf",value:function(){var a=this._partials,c=this._n,f=0;if(0<c){for(f=a[--c];0<c;){var g=f;var d=a[--c];f=g+d;if(g=d-(f-g))break}0<c&&(0>g&&0>a[c-1]||0<g&&0<a[c-1])&&(d=2*g,g=f+d,d==g-f&&(f=g))}return f}}]);return a}(),mb=function(a){function b(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:Od;X(this,b);var g=z(this,b);Object.defineProperties(ja(g),{_intern:{value:new Map},
_key:{value:c}});if(null!=a){c=B(a);var d;try{for(c.s();!(d=c.n()).done;){var e=t(d.value,2);g.set(e[0],e[1])}}catch(A){c.e(A)}finally{c.f()}}return g}C(b,a);K(b,[{key:"get",value:function(a){return J(S(b.prototype),"get",this).call(this,Bc(this,a))}},{key:"has",value:function(a){return J(S(b.prototype),"has",this).call(this,Bc(this,a))}},{key:"set",value:function(a,f){return J(S(b.prototype),"set",this).call(this,Sd(this,a),f)}},{key:"delete",value:function(a){return J(S(b.prototype),"delete",this).call(this,
Td(this,a))}}]);return b}(O(Map)),Ma=function(a){function b(a){var c=1<arguments.length&&arguments[1]!==l?arguments[1]:Od;X(this,b);var g=z(this,b);Object.defineProperties(ja(g),{_intern:{value:new Map},_key:{value:c}});if(null!=a){c=B(a);var d;try{for(c.s();!(d=c.n()).done;)g.add(d.value)}catch(p){c.e(p)}finally{c.f()}}return g}C(b,a);K(b,[{key:"has",value:function(a){return J(S(b.prototype),"has",this).call(this,Bc(this,a))}},{key:"add",value:function(a){return J(S(b.prototype),"add",this).call(this,
Sd(this,a))}},{key:"delete",value:function(a){return J(S(b.prototype),"delete",this).call(this,Td(this,a))}}]);return b}(O(Set)),Zg=Array.prototype.slice,Wg=Math.sqrt(50),Xg=Math.sqrt(10),Yg=Math.sqrt(2),Zk=je(Math.random),Gc=Symbol("implicit"),uc=1/.7,kh=/^#([0-9a-f]{3,8})$/,lh=new RegExp("^rgb\\(".concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*","\\)$")),mh=new RegExp("^rgb\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*","\\)$")),nh=new RegExp("^rgba\\(".concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?\\d+)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*","\\)$")),oh=new RegExp("^rgba\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
"\\)$")),ph=new RegExp("^hsl\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*","\\)$")),qh=new RegExp("^hsla\\(".concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",",").concat("\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",
"\\)$")),te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,
teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ic(qb,Oa,{copy:function(a){return h(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:pe,formatHex:pe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return we(this).formatHsl()},formatRgb:qe,toString:qe});Ic(ha,Jc,oe(qb,{brighter:function(a){a=null==a?uc:Math.pow(uc,
a);return new ha(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new ha(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},clamp:function(){return new ha(Qa(this.r),Qa(this.g),Qa(this.b),Pb(this.opacity))},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:ue,formatHex:ue,formatHex8:function(){return"#".concat(Pa(this.r)).concat(Pa(this.g)).concat(Pa(this.b)).concat(Pa(255*
(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ve,toString:ve}));Ic(oa,function(a,b,c,f){return 1===arguments.length?we(a):new oa(a,b,c,null==f?1:f)},oe(qb,{brighter:function(a){a=null==a?uc:Math.pow(uc,a);return new oa(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new oa(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l;b=c+(.5>c?c:1-c)*b;c=2*c-b;return new ha(Kc(240<=a?
a-240:a+120,c,b),Kc(a,c,b),Kc(120>a?a+240:a-120,c,b),this.opacity)},clamp:function(){return new oa(xe(this.h),Qb(this.s),Qb(this.l),Pb(this.opacity))},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=Pb(this.opacity);return"".concat(1===a?"hsl(":"hsla(").concat(xe(this.h),", ").concat(100*Qb(this.s),"%, ").concat(100*Qb(this.l),"%").concat(1===a?")":", ".concat(a,")"))}}));var Lc=function(a){return function(){return a}},
Rb=function c(b){function f(b,c){var f=g((b=Jc(b)).r,(c=Jc(c)).r),k=g(b.g,c.g),d=g(b.b,c.b),m=ye(b.opacity,c.opacity);return function(c){b.r=f(c);b.g=k(c);b.b=d(c);b.opacity=m(c);return b+""}}var g=th(b);f.gamma=c;return f}(1),Mc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nc=new RegExp(Mc.source,"g"),Be=180/Math.PI,zd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},vc,$k=Ce(function(b){b=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(b+"");return b.isIdentity?zd:Ae(b.a,
b.b,b.c,b.d,b.e,b.f)},"px, ","px)","deg)"),al=Ce(function(b){if(null==b)return zd;vc||(vc=document.createElementNS("http://www.w3.org/2000/svg","g"));vc.setAttribute("transform",b);if(!(b=vc.transform.baseVal.consolidate()))return zd;b=b.matrix;return Ae(b.a,b.b,b.c,b.d,b.e,b.f)},", ",")",")"),De=[0,1],Hh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;sb.prototype=Qc.prototype;Qc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?
"0":"")+(this.width===l?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===l?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var He,Ie={"%":function(b,c){return(100*b).toFixed(c)},b:function(b){return Math.round(b).toString(2)},c:function(b){return b+""},d:function(b){return 1E21<=Math.abs(b=Math.round(b))?b.toLocaleString("en").replace(/,/g,""):b.toString(10)},e:function(b,c){return b.toExponential(c)},f:function(b,c){return b.toFixed(c)},g:function(b,c){return b.toPrecision(c)},
o:function(b){return Math.round(b).toString(8)},p:function(b,c){return Ee(100*b,c)},r:Ee,s:function(b,c){var f=Tb(b,c);if(!f)return b+"";var g=f[0];f=f[1];f=f-(He=3*Math.max(-8,Math.min(8,Math.floor(f/3))))+1;var d=g.length;return f===d?g:f>d?g+Array(f-d+1).join("0"):0<f?g.slice(0,f)+"."+g.slice(f):"0."+Array(1-f).join("0")+Tb(b,Math.max(0,c+f-1))[0]},X:function(b){return Math.round(b).toString(16).toUpperCase()},x:function(b){return Math.round(b).toString(16)}},Je=Array.prototype.map,Ge="y z a f p n µ m  k M G T P E Z Y".split(" "),
wc,Rc,Le;(function(b){wc=Ih(b);Rc=wc.format;Le=wc.formatPrefix;return wc})({thousands:",",grouping:[3],currency:["$",""]});var Wc=new Date,Xc=new Date,Ub=ba(function(){},function(b,c){b.setTime(+b+c)},function(b,c){return c-b});Ub.every=function(b){b=Math.floor(b);return isFinite(b)&&0<b?1<b?ba(function(c){c.setTime(Math.floor(c/b)*b)},function(c,f){c.setTime(+c+f*b)},function(c,f){return(f-c)/b}):Ub:null};Ub.range;var Yc=6048E5,cf=2592E6,Zc=31536E6,Ta=ba(function(b){b.setTime(b-b.getMilliseconds())},
function(b,c){b.setTime(+b+1E3*c)},function(b,c){return(c-b)/1E3},function(b){return b.getUTCSeconds()});Ta.range;var Ad=ba(function(b){b.setTime(b-b.getMilliseconds()-1E3*b.getSeconds())},function(b,c){b.setTime(+b+6E4*c)},function(b,c){return(c-b)/6E4},function(b){return b.getMinutes()});Ad.range;var Bd=ba(function(b){b.setUTCSeconds(0,0)},function(b,c){b.setTime(+b+6E4*c)},function(b,c){return(c-b)/6E4},function(b){return b.getUTCMinutes()});Bd.range;var Cd=ba(function(b){b.setTime(b-b.getMilliseconds()-
1E3*b.getSeconds()-6E4*b.getMinutes())},function(b,c){b.setTime(+b+36E5*c)},function(b,c){return(c-b)/36E5},function(b){return b.getHours()});Cd.range;var Dd=ba(function(b){b.setUTCMinutes(0,0,0)},function(b,c){b.setTime(+b+36E5*c)},function(b,c){return(c-b)/36E5},function(b){return b.getUTCHours()});Dd.range;var ub=ba(function(b){return b.setHours(0,0,0,0)},function(b,c){return b.setDate(b.getDate()+c)},function(b,c){return(c-b-6E4*(c.getTimezoneOffset()-b.getTimezoneOffset()))/864E5},function(b){return b.getDate()-
1});ub.range;var Wb=ba(function(b){b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+c)},function(b,c){return(c-b)/864E5},function(b){return b.getUTCDate()-1});Wb.range;var xg=ba(function(b){b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCDate(b.getUTCDate()+c)},function(b,c){return(c-b)/864E5},function(b){return Math.floor(b/864E5)});xg.range;var Yb=Ra(0),Xb=Ra(1),bl=Ra(2),cl=Ra(3),cb=Ra(4),dl=Ra(5),el=Ra(6);Yb.range;Xb.range;bl.range;cl.range;cb.range;dl.range;el.range;var Zb=Sa(0),
Vb=Sa(1),fl=Sa(2),gl=Sa(3),db=Sa(4),hl=Sa(5),il=Sa(6);Zb.range;Vb.range;fl.range;gl.range;db.range;hl.range;il.range;var Ed=ba(function(b){b.setDate(1);b.setHours(0,0,0,0)},function(b,c){b.setMonth(b.getMonth()+c)},function(b,c){return c.getMonth()-b.getMonth()+12*(c.getFullYear()-b.getFullYear())},function(b){return b.getMonth()});Ed.range;var Fd=ba(function(b){b.setUTCDate(1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCMonth(b.getUTCMonth()+c)},function(b,c){return c.getUTCMonth()-b.getUTCMonth()+
12*(c.getUTCFullYear()-b.getUTCFullYear())},function(b){return b.getUTCMonth()});Fd.range;var xa=ba(function(b){b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c)},function(b,c){return c.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});xa.every=function(b){return isFinite(b=Math.floor(b))&&0<b?ba(function(c){c.setFullYear(Math.floor(c.getFullYear()/b)*b);c.setMonth(0,1);c.setHours(0,0,0,0)},function(c,f){c.setFullYear(c.getFullYear()+f*b)}):null};
xa.range;var ya=ba(function(b){b.setUTCMonth(0,1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c)},function(b,c){return c.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});ya.every=function(b){return isFinite(b=Math.floor(b))&&0<b?ba(function(c){c.setUTCFullYear(Math.floor(c.getUTCFullYear()/b)*b);c.setUTCMonth(0,1);c.setUTCHours(0,0,0,0)},function(c,f){c.setUTCFullYear(c.getUTCFullYear()+f*b)}):null};ya.range;var jl=bf(ya,Fd,Zb,xg,Dd,Bd),yg=
t(jl,2),kl=yg[0],ll=yg[1],ml=bf(xa,Ed,Yb,ub,Cd,Ad),zg=t(ml,2),nl=zg[0],ol=zg[1],df={"-":"",_:" ",0:"0"},ca=/^\s*\d+/,Qi=/^%/,Pi=/[\\^$*+?|[\]().{}]/g,hb,Ag,Bg;(function(b){hb=Qh(b);Ag=hb.format;hb.parse;Bg=hb.utcFormat;hb.utcParse;return hb})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var ed={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zi=Array.prototype.find,cj=Array.prototype.filter;dc.prototype={constructor:dc,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,c){return this._parent.insertBefore(b,c)},querySelector:function(b){return this._parent.querySelector(b)},
querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};Cf.prototype={add:function(b){0>this._names.indexOf(b)&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){b=this._names.indexOf(b);0<=b&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return 0<=this._names.indexOf(b)}};var jd=[null];fa.prototype=Va.prototype=r({constructor:fa,select:function(b){"function"!==typeof b&&(b=cc(b));
for(var c=this._groups,f=c.length,g=Array(f),d=0;d<f;++d)for(var e=c[d],h=e.length,k=g[d]=Array(h),n,w,u=0;u<h;++u)(n=e[u])&&(w=b.call(n,n.__data__,u,e))&&("__data__"in n&&(w.__data__=n.__data__),k[u]=w);return new fa(g,this._parents)},selectAll:function(b){b="function"===typeof b?Xi(b):fd(b);for(var c=this._groups,f=c.length,g=[],d=[],e=0;e<f;++e)for(var h=c[e],k=h.length,n,w=0;w<k;++w)if(n=h[w])g.push(b.call(n,n.__data__,w,h)),d.push(n);return new fa(g,d)},selectChild:function(b){return this.select(null==
b?$i:Yi("function"===typeof b?b:Af(b)))},selectChildren:function(b){return this.selectAll(null==b?aj:bj("function"===typeof b?b:Af(b)))},filter:function(b){"function"!==typeof b&&(b=gd(b));for(var c=this._groups,f=c.length,g=Array(f),d=0;d<f;++d)for(var e=c[d],h=e.length,k=g[d]=[],n,w=0;w<h;++w)(n=e[w])&&b.call(n,n.__data__,w,e)&&k.push(n);return new fa(g,this._parents)},data:function(b,c){if(!arguments.length)return Array.from(this,gj);var f=c?fj:ej,g=this._parents,d=this._groups;"function"!==typeof b&&
(b=dj(b));for(var e=d.length,h=Array(e),k=Array(e),n=Array(e),w=0;w<e;++w){var u=g[w],F=d[w],G=F.length,l=b.call(u,u&&u.__data__,w,g);var q="object"===Y(l)&&"length"in l?l:Array.from(l);l=q.length;var r=k[w]=Array(l),t=h[w]=Array(l);G=n[w]=Array(G);f(u,F,r,t,G,q,c);for(F=u=0;u<l;++u)if(G=r[u]){for(u>=F&&(F=u+1);!(q=t[F])&&++F<l;);G._next=q||null}}h=new fa(h,g);h._enter=k;h._exit=n;return h},enter:function(){return new fa(this._enter||this._groups.map(Bf),this._parents)},exit:function(){return new fa(this._exit||
this._groups.map(Bf),this._parents)},join:function(b,c,f){var g=this.enter(),d=this,e=this.exit();"function"===typeof b?(g=b(g))&&(g=g.selection()):g=g.append(b+"");null!=c&&(d=c(d))&&(d=d.selection());null==f?e.remove():f(e);return g&&d?g.merge(d).order():d},merge:function(b){var c=b.selection?b.selection():b;b=this._groups;c=c._groups;for(var f=b.length,g=Math.min(f,c.length),d=Array(f),e=0;e<g;++e)for(var h=b[e],k=c[e],n=h.length,w=d[e]=Array(n),u,F=0;F<n;++F)if(u=h[F]||k[F])w[F]=u;for(;e<f;++e)d[e]=
b[e];return new fa(d,this._parents)},selection:function(){return this},order:function(){for(var b=this._groups,c=-1,f=b.length;++c<f;)for(var g=b[c],d=g.length-1,e=g[d],h;0<=--d;)if(h=g[d])e&&h.compareDocumentPosition(e)^4&&e.parentNode.insertBefore(h,e),e=h;return this},sort:function(b){function c(c,f){return c&&f?b(c.__data__,f.__data__):!c-!f}b||(b=hj);for(var f=this._groups,g=f.length,d=Array(g),e=0;e<g;++e){for(var h=f[e],k=h.length,n=d[e]=Array(k),w,u=0;u<k;++u)if(w=h[u])n[u]=w;n.sort(c)}return(new fa(d,
this._parents)).order()},call:function(){var b=arguments[0];arguments[0]=this;b.apply(null,arguments);return this},nodes:function(){return Array.from(this)},node:function(){for(var b=this._groups,c=0,f=b.length;c<f;++c)for(var g=b[c],d=0,e=g.length;d<e;++d){var h=g[d];if(h)return h}return null},size:function(){var b=0,c=B(this);try{for(c.s();!c.n().done;)++b}catch(f){c.e(f)}finally{c.f()}return b},empty:function(){return!this.node()},each:function(b){for(var c=this._groups,f=0,g=c.length;f<g;++f)for(var d=
c[f],e=0,h=d.length,k;e<h;++e)(k=d[e])&&b.call(k,k.__data__,e,d);return this},attr:function(b,c){var f=xb(b);if(2>arguments.length){var g=this.node();return f.local?g.getAttributeNS(f.space,f.local):g.getAttribute(f)}return this.each((null==c?f.local?jj:ij:"function"===typeof c?f.local?nj:mj:f.local?lj:kj)(f,c))},style:function(b,c,f){return 1<arguments.length?this.each((null==c?oj:"function"===typeof c?qj:pj)(b,c,null==f?"":f)):Ua(this.node(),b)},property:function(b,c){return 1<arguments.length?
this.each((null==c?rj:"function"===typeof c?tj:sj)(b,c)):this.node()[b]},classed:function(b,c){var f=(b+"").trim().split(/^|\s+/);if(2>arguments.length){for(var g=id(this.node()),d=-1,e=f.length;++d<e;)if(!g.contains(f[d]))return!1;return!0}return this.each(("function"===typeof c?wj:c?uj:vj)(f,c))},text:function(b){return arguments.length?this.each(null==b?xj:("function"===typeof b?zj:yj)(b)):this.node().textContent},html:function(b){return arguments.length?this.each(null==b?Aj:("function"===typeof b?
Cj:Bj)(b)):this.node().innerHTML},raise:function(){return this.each(Dj)},lower:function(){return this.each(Ej)},append:function(b){var c="function"===typeof b?b:bc(b);return this.select(function(){return this.appendChild(c.apply(this,arguments))})},insert:function(b,c){var f="function"===typeof b?b:bc(b),g=null==c?Fj:"function"===typeof c?c:cc(c);return this.select(function(){return this.insertBefore(f.apply(this,arguments),g.apply(this,arguments)||null)})},remove:function(){return this.each(Gj)},
clone:function(b){return this.select(b?Ij:Hj)},datum:function(b){return arguments.length?this.property("__data__",b):this.node().__data__},on:function(b,c,f){var g=Kj(b+""),d=g.length,e;if(2>arguments.length){var h=this.node().__on;if(h)for(var k=0,n=h.length,w;k<n;++k){var u=0;for(w=h[k];u<d;++u)if((e=g[u]).type===w.type&&e.name===w.name)return w.value}}else{h=c?Mj:Lj;for(u=0;u<d;++u)this.each(h(g[u],c,f));return this}},dispatch:function(b,c){return this.each(("function"===typeof c?Oj:Nj)(b,c))}},
Symbol.iterator,Gf);var Qj=0;kd.prototype=If.prototype={constructor:kd,get:function(b){for(var c=this._;!(c in b);)if(!(b=b.parentNode))return;return b[c]},set:function(b,c){return b[this._]=c},remove:function(b){return this._ in b&&delete b[this._]},toString:function(){return this._}};var Cg=Math.abs,ea=Math.atan2,za=Math.cos,Yj=Math.max,ib=Math.min,ia=Math.sin,W=Math.sqrt,Ha=Math.PI,ec=Ha/2,Ia=2*Ha,Gd=Math.PI,Hd=2*Gd,pl=Hd-1E-6,Sj=function(){function b(c){X(this,b);this._x0=this._y0=this._x1=this._y1=
null;this._="";this._append=null==c?Mf:Rj(c)}K(b,[{key:"moveTo",value:function(b,f){this._append(x||(x=v(["M",",",""])),this._x0=this._x1=+b,this._y0=this._y1=+f)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(D||(D=v(["Z"]))))}},{key:"lineTo",value:function(b,f){this._append(U||(U=v(["L",",",""])),this._x1=+b,this._y1=+f)}},{key:"quadraticCurveTo",value:function(b,f,g,d){this._append(I||(I=v(["Q",",",",",",",""])),+b,+f,this._x1=+g,this._y1=
+d)}},{key:"bezierCurveTo",value:function(b,f,g,d,e,h){this._append(Da||(Da=v("C , , , , , ".split(" "))),+b,+f,+g,+d,this._x1=+e,this._y1=+h)}},{key:"arcTo",value:function(b,f,g,d,e){b=+b;f=+f;g=+g;d=+d;e=+e;if(0>e)throw Error("negative radius: ".concat(e));var c=this._x1,k=this._y1,n=g-b,m=d-f,u=c-b,h=k-f,p=u*u+h*h;if(null===this._x1)this._append(M||(M=v(["M",",",""])),this._x1=b,this._y1=f);else if(1E-6<p)if(1E-6<Math.abs(h*n-m*u)&&e){g-=c;d-=k;var l=n*n+m*m;k=Math.sqrt(l);c=Math.sqrt(p);p=e*Math.tan((Gd-
Math.acos((l+p-(g*g+d*d))/(2*k*c)))/2);c=p/c;p/=k;1E-6<Math.abs(c-1)&&this._append(lb||(lb=v(["L",",",""])),b+c*u,f+c*h);this._append(Wd||(Wd=v("A , ,0,0, , , ".split(" "))),e,e,+(h*g>u*d),this._x1=b+p*n,this._y1=f+p*m)}else this._append(Za||(Za=v(["L",",",""])),this._x1=b,this._y1=f)}},{key:"arc",value:function(b,f,g,d,e,h){b=+b;f=+f;g=+g;h=!!h;if(0>g)throw Error("negative radius: ".concat(g));var c=g*Math.cos(d),n=g*Math.sin(d),m=b+c,u=f+n,p=1^h;d=h?d-e:e-d;null===this._x1?this._append(Jb||(Jb=
v(["M",",",""])),m,u):(1E-6<Math.abs(this._x1-m)||1E-6<Math.abs(this._y1-u))&&this._append(Xd||(Xd=v(["L",",",""])),m,u);g&&(0>d&&(d=d%Hd+Hd),d>pl?this._append(Yd||(Yd=v("A , ,0,1, , , A , ,0,1, , , ".split(" "))),g,g,p,b-c,f-n,g,g,p,this._x1=m,this._y1=u):1E-6<d&&this._append(Zd||(Zd=v("A , ,0, , , , ".split(" "))),g,g,+(d>=Gd),p,this._x1=b+g*Math.cos(e),this._y1=f+g*Math.sin(e)))}},{key:"rect",value:function(b,f,g,d){this._append($d||($d=v("M,hvhZ".split(""))),this._x0=this._x1=+b,this._y0=this._y1=
+f,g=+g,+d,-g)}},{key:"toString",value:function(){return this._}}]);return b}(),fk=Array.prototype.slice;Nf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,c):this._context.moveTo(b,c);break;case 1:this._point=
2;default:this._context.lineTo(b,c)}}};var Rf=od(hc);Pf.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(b,c){this._curve.point(c*Math.sin(b),c*-Math.cos(b))}};var Uf=function(){function b(c,f){X(this,b);this._context=c;this._x=f}K(b,[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",
value:function(){this._point=0}},{key:"lineEnd",value:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line}},{key:"point",value:function(b,f){b=+b;f=+f;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,f):this._context.moveTo(b,f);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+b)/2,this._y0,this._x0,f,b,f):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+f)/2,b,this._y0,
b,f)}this._x0=b;this._y0=f}}]);return b}(),ck=function(){function b(c){X(this,b);this._context=c}K(b,[{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){}},{key:"point",value:function(b,f){b=+b;f=+f;if(0===this._point)this._point=1;else{var c,d,e=Ab(this._x0,this._y0),h=Ab(this._x0,this._y0=(this._y0+f)/2),k=Ab(b,this._y0),n=Ab(b,f);(c=this._context).moveTo.apply(c,Ba(e));(d=this._context).bezierCurveTo.apply(d,Ba(h).concat(Ba(k),Ba(n)))}this._x0=b;this._y0=f}}]);return b}(),
ql=W(3),Dg={draw:function(b,c){c=.59436*W(c+ib(c/28,.75));var f=c/2,g=f*ql;b.moveTo(0,c);b.lineTo(0,-c);b.moveTo(-g,-f);b.lineTo(g,f);b.moveTo(-g,f);b.lineTo(g,-f)}},xc={draw:function(b,c){c=W(c/Ha);b.moveTo(c,0);b.arc(0,0,c,0,Ia)}},Eg={draw:function(b,c){c=W(c/5)/2;b.moveTo(-3*c,-c);b.lineTo(-c,-c);b.lineTo(-c,-3*c);b.lineTo(c,-3*c);b.lineTo(c,-c);b.lineTo(3*c,-c);b.lineTo(3*c,c);b.lineTo(c,c);b.lineTo(c,3*c);b.lineTo(-c,3*c);b.lineTo(-c,c);b.lineTo(-3*c,c);b.closePath()}},Fg=W(1/3),rl=2*Fg,Gg={draw:function(b,
c){c=W(c/rl);var f=c*Fg;b.moveTo(0,-c);b.lineTo(f,0);b.lineTo(0,c);b.lineTo(-f,0);b.closePath()}},Hg={draw:function(b,c){c=.62625*W(c);b.moveTo(0,-c);b.lineTo(c,0);b.lineTo(0,c);b.lineTo(-c,0);b.closePath()}},Ig={draw:function(b,c){c=.87559*W(c-ib(c/7,2));b.moveTo(-c,0);b.lineTo(c,0);b.moveTo(0,c);b.lineTo(0,-c)}},Jg={draw:function(b,c){c=W(c);var f=-c/2;b.rect(f,f,c,c)}},Kg={draw:function(b,c){c=.4431*W(c);b.moveTo(c,c);b.lineTo(c,-c);b.lineTo(-c,-c);b.lineTo(-c,c);b.closePath()}},Lg=ia(Ha/10)/ia(7*
Ha/10),sl=ia(Ia/10)*Lg,tl=-za(Ia/10)*Lg,Mg={draw:function(b,c){c=W(.8908130915292852*c);var f=sl*c,g=tl*c;b.moveTo(0,-c);b.lineTo(f,g);for(var d=1;5>d;++d){var e=Ia*d/5,h=za(e);e=ia(e);b.lineTo(e*c,-h*c);b.lineTo(h*f-e*g,e*f+h*g)}b.closePath()}},Id=W(3),Ng={draw:function(b,c){c=-W(c/(3*Id));b.moveTo(0,2*c);b.lineTo(-Id*c,-c);b.lineTo(Id*c,-c);b.closePath()}},ul=W(3),Og={draw:function(b,c){c=.6824*W(c);var f=c/2,g=c*ul/2;b.moveTo(0,-c);b.lineTo(g,f);b.lineTo(-g,f);b.closePath()}},ma=W(3)/2,Jd=1/W(12),
vl=3*(Jd/2+1),Pg={draw:function(b,c){var f=W(c/vl);c=f/2;var g=f*Jd;f=f*Jd+f;var d=-c;b.moveTo(c,g);b.lineTo(c,f);b.lineTo(d,f);b.lineTo(-.5*c-ma*g,ma*c+-.5*g);b.lineTo(-.5*c-ma*f,ma*c+-.5*f);b.lineTo(-.5*d-ma*f,ma*d+-.5*f);b.lineTo(-.5*c+ma*g,-.5*g-ma*c);b.lineTo(-.5*c+ma*f,-.5*f-ma*c);b.lineTo(-.5*d+ma*f,-.5*f-ma*d);b.closePath()}},Kd={draw:function(b,c){c=.6189*W(c-ib(c/6,1.7));b.moveTo(-c,-c);b.lineTo(c,c);b.moveTo(-c,c);b.lineTo(c,-c)}},Qg=[xc,Eg,Gg,Jg,Mg,Ng,Pg],wl=[xc,Ig,Kd,Og,Dg,Kg,Hg];kc.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:jc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(b,c):this._context.moveTo(b,c);break;
case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Wf.prototype={areaStart:Ga,areaEnd:Ga,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+
2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;this._x2=b;this._y2=c;break;case 1:this._point=2;this._x3=b;this._y3=c;break;case 2:this._point=3;this._x4=b;this._y4=c;this._context.moveTo((this._x0+4*this._x1+b)/6,(this._y0+4*this._y1+c)/
6);break;default:jc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(b,c){b=+b;c=+c;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var f=(this._x0+
4*this._x1+b)/6,g=(this._y0+4*this._y1+c)/6;this._line?this._context.lineTo(f,g):this._context.moveTo(f,g);break;case 3:this._point=4;default:jc(this,b,c)}this._x0=this._x1;this._x1=b;this._y0=this._y1;this._y1=c}};Yf.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var b=this._x,c=this._y,f=b.length-1;if(0<f)for(var g=b[0],d=c[0],e=b[f]-g,h=c[f]-d,k=-1,n;++k<=f;)n=k/f,this._basis.point(this._beta*b[k]+(1-this._beta)*(g+n*e),this._beta*c[k]+(1-this._beta)*
(d+n*h));this._x=this._y=null;this._basis.lineEnd()},point:function(b,c){this._x.push(+b);this._y.push(+c)}};var xl=function f(c){function g(f){return 1===c?new kc(f):new Yf(f,c)}g.beta=function(c){return f(+c)};return g}(.85);pd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:lc(this,
this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(c,f){c=+c;f=+f;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(c,f):this._context.moveTo(c,f);break;case 1:this._point=2;this._x1=c;this._y1=f;break;case 2:this._point=3;default:lc(this,c,f)}this._x0=this._x1;this._x1=this._x2;this._x2=c;this._y0=this._y1;this._y1=this._y2;this._y2=f}};var yl=function g(f){function d(g){return new pd(g,f)}d.tension=
function(f){return g(+f)};return d}(0);qd.prototype={areaStart:Ga,areaEnd:Ga,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,
this._y5)}},point:function(f,g){f=+f;g=+g;switch(this._point){case 0:this._point=1;this._x3=f;this._y3=g;break;case 1:this._point=2;this._context.moveTo(this._x4=f,this._y4=g);break;case 2:this._point=3;this._x5=f;this._y5=g;break;default:lc(this,f,g)}this._x0=this._x1;this._x1=this._x2;this._x2=f;this._y0=this._y1;this._y1=this._y2;this._y2=g}};var zl=function m(g){function d(d){return new qd(d,g)}d.tension=function(g){return m(+g)};return d}(0);rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(g,d){g=+g;d=+d;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lc(this,g,d)}this._x0=this._x1;this._x1=
this._x2;this._x2=g;this._y0=this._y1;this._y1=this._y2;this._y2=d}};var Al=function p(d){function e(k){return new rd(k,d)}e.tension=function(d){return p(+d)};return e}(0);Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,e){d=+d;e=+e;if(this._point){var m=this._x2-d,k=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(m*m+k*k,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;break;case 2:this._point=3;default:sd(this,d,e)}this._l01_a=this._l12_a;this._l12_a=
this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Bl=function A(d){function k(k){return d?new Zf(k,d):new pd(k,0)}k.alpha=function(d){return A(+d)};return k}(.5);$f.prototype={areaStart:Ga,areaEnd:Ga,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=
this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,e){d=+d;e=+e;if(this._point){var k=this._x2-d,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(k*k+n*n,this._alpha))}switch(this._point){case 0:this._point=
1;this._x3=d;this._y3=e;break;case 1:this._point=2;this._context.moveTo(this._x4=d,this._y4=e);break;case 2:this._point=3;this._x5=d;this._y5=e;break;default:sd(this,d,e)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=e}};var Cl=function k(d){function e(k){return d?new $f(k,d):new qd(k,0)}e.alpha=function(d){return k(+d)};return e}(.5);ag.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,k){d=+d;k=+k;if(this._point){var e=this._x2-d,w=this._y2-k;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+w*w,this._alpha))}switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sd(this,d,k)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=d;this._y0=this._y1;this._y1=this._y2;this._y2=k}};var Dl=function n(d){function k(k){return d?new ag(k,d):new rd(k,0)}k.alpha=function(d){return n(+d)};return k}(.5);
bg.prototype={areaStart:Ga,areaEnd:Ga,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(d,e){d=+d;e=+e;this._point?this._context.lineTo(d,e):(this._point=1,this._context.moveTo(d,e))}};mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;
case 3:td(this,this._t0,dg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(d,e){var k=NaN;d=+d;e=+e;if(d!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;break;case 2:this._point=3;td(this,dg(this,k=cg(this,d,e)),k);break;default:td(this,this._t0,k=cg(this,d,e))}this._x0=this._x1;this._x1=d;this._y0=this._y1;this._y1=
e;this._t0=k}}};(eg.prototype=Object.create(mc.prototype)).point=function(d,e){mc.prototype.point.call(this,e,d)};fg.prototype={moveTo:function(d,e){this._context.moveTo(e,d)},closePath:function(){this._context.closePath()},lineTo:function(d,e){this._context.lineTo(e,d)},bezierCurveTo:function(d,e,w,u,h,l){this._context.bezierCurveTo(e,d,u,w,l,h)}};gg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var d=
this._x,e=this._y,h=d.length;if(h)if(this._line?this._context.lineTo(d[0],e[0]):this._context.moveTo(d[0],e[0]),2===h)this._context.lineTo(d[1],e[1]);else for(var u=hg(d),F=hg(e),l=0,q=1;q<h;++l,++q)this._context.bezierCurveTo(u[0][l],F[0][l],u[1][l],F[1][l],d[q],e[q]);(this._line||0!==this._line&&1===h)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(d,e){this._x.push(+d);this._y.push(+e)}};nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=
NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(d,e){d=+d;e=+e;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(d,e):this._context.moveTo(d,e);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,
e),this._context.lineTo(d,e);else{var k=this._x*(1-this._t)+d*this._t;this._context.lineTo(k,this._y);this._context.lineTo(k,e)}}this._x=d;this._y=e}};var kk={value:function(){}};oc.prototype=lg.prototype={constructor:oc,on:function(d,e){var k=this._,n=jk(d+"",k),h,l=-1,q=n.length;if(2>arguments.length)for(;++l<q;){var r;if(r=h=(d=n[l]).type){a:{r=k[h];for(var t=0,D=r.length;t<D;++t)if((h=r[t]).name===d.name){h=h.value;break a}h=void 0}r=h}if(r)return h}else{if(null!=e&&"function"!==typeof e)throw Error("invalid callback: "+
e);for(;++l<q;)if(h=(d=n[l]).type)k[h]=mg(k[h],d.name,e);else if(null==e)for(h in k)k[h]=mg(k[h],d.name,null);return this}},copy:function(){var d={},e=this._,h;for(h in e)d[h]=e[h].slice();return new oc(d)},call:function(d,e){if(0<(h=arguments.length-2))for(var k=Array(h),n=0,h,l;n<h;++n)k[n]=arguments[n+2];if(!this._.hasOwnProperty(d))throw Error("unknown type: "+d);l=this._[d];n=0;for(h=l.length;n<h;++n)l[n].value.apply(e,k)},apply:function(d,e,h){if(!this._.hasOwnProperty(d))throw Error("unknown type: "+
d);d=this._[d];for(var k=0,n=d.length;k<n;++k)d[k].value.apply(e,h)}};var gb=0,Cb=0,Eb=0,sc,Db,rc=0,Wa=0,pc=0,Bb="object"===("undefined"===typeof performance?"undefined":Y(performance))&&performance.now?performance:Date,ng="object"===("undefined"===typeof V?"undefined":Y(V))&&V.requestAnimationFrame?V.requestAnimationFrame.bind(V):function(d){setTimeout(d,17)};qc.prototype=og.prototype={constructor:qc,restart:function(d,e,h){if("function"!==typeof d)throw new TypeError("callback is not a function");
h=(null==h?ud():+h)+(null==e?0:+e);this._next||Db===this||(Db?Db._next=this:sc=this,Db=this);this._call=d;this._time=h;vd()},stop:function(){this._call&&(this._call=null,this._time=Infinity,vd())}};var ok=lg("start","end","cancel","interrupt"),pk=[],El=Va.prototype.constructor,Rg=0,Aa=Va.prototype;ua.prototype=ug.prototype=r({constructor:ua,select:function(d){var k=this._name,e=this._id;"function"!==typeof d&&(d=cc(d));for(var h=this._groups,l=h.length,G=Array(l),q=0;q<l;++q)for(var r=h[q],t=r.length,
D=G[q]=Array(t),v,y,x=0;x<t;++x)(v=r[x])&&(y=d.call(v,v.__data__,x,r))&&("__data__"in v&&(y.__data__=v.__data__),D[x]=y,tc(D[x],k,e,x,D,qa(v,e)));return new ua(G,this._parents,k,e)},selectAll:function(d){var k=this._name,e=this._id;"function"!==typeof d&&(d=fd(d));for(var h=this._groups,l=h.length,q=[],r=[],t=0;t<l;++t)for(var T=h[t],D=T.length,v,y=0;y<D;++y)if(v=T[y]){for(var x=d.call(v,v.__data__,y,T),C,E=qa(v,e),U=0,z=x.length;U<z;++U)(C=x[U])&&tc(C,k,e,U,x,E);q.push(x);r.push(v)}return new ua(q,
r,k,e)},selectChild:Aa.selectChild,selectChildren:Aa.selectChildren,filter:function(d){"function"!==typeof d&&(d=gd(d));for(var k=this._groups,e=k.length,h=Array(e),l=0;l<e;++l)for(var q=k[l],r=q.length,t=h[l]=[],T,v=0;v<r;++v)(T=q[v])&&d.call(T,T.__data__,v,q)&&t.push(T);return new ua(h,this._parents,this._name,this._id)},merge:function(d){if(d._id!==this._id)throw Error();var k=this._groups;d=d._groups;for(var e=k.length,h=Math.min(e,d.length),l=Array(e),q=0;q<h;++q)for(var r=k[q],t=d[q],T=r.length,
v=l[q]=Array(T),D,y=0;y<T;++y)if(D=r[y]||t[y])v[y]=D;for(;q<e;++q)l[q]=k[q];return new ua(l,this._parents,this._name,this._id)},selection:function(){return new El(this._groups,this._parents)},transition:function(){for(var d=this._name,e=this._id,h=++Rg,u=this._groups,l=u.length,q=0;q<l;++q)for(var r=u[q],t=r.length,v,D=0;D<t;++D)if(v=r[D]){var y=qa(v,e);tc(v,d,h,D,r,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new ua(u,this._parents,d,h)},call:Aa.call,nodes:Aa.nodes,
node:Aa.node,size:Aa.size,empty:Aa.empty,each:Aa.each,on:function(d,e){var k=this._id;return 2>arguments.length?qa(this.node(),k).on.on(d):this.each(Jk(k,d,e))},attr:function(d,e){var k=xb(d),h="transform"===k?al:sg;return this.attrTween(d,"function"===typeof e?(k.local?xk:wk)(k,h,xd(this,"attr."+d,e)):null==e?(k.local?tk:sk)(k):(k.local?vk:uk)(k,h,e))},attrTween:function(d,e){var k="attr."+d;if(2>arguments.length)return(k=this.tween(k))&&k._value;if(null==e)return this.tween(k,null);if("function"!==
typeof e)throw Error();var h=xb(d);return this.tween(k,(h.local?Ak:Bk)(h,e))},style:function(d,e,h){var k="transform"===(d+="")?$k:sg;return null==e?this.styleTween(d,Lk(d,k)).on("end.style."+d,tg(d)):"function"===typeof e?this.styleTween(d,Nk(d,k,xd(this,"style."+d,e))).each(Ok(this._id,d)):this.styleTween(d,Mk(d,k,e),h).on("end.style."+d,null)},styleTween:function(d,e,h){var k="style."+(d+="");if(2>arguments.length)return(k=this.tween(k))&&k._value;if(null==e)return this.tween(k,null);if("function"!==
typeof e)throw Error();return this.tween(k,Qk(d,e,null==h?"":h))},text:function(d){return this.tween("text","function"===typeof d?Sk(xd(this,"text",d)):Rk(null==d?"":d+""))},textTween:function(d){var k="text";if(1>arguments.length)return(k=this.tween(k))&&k._value;if(null==d)return this.tween(k,null);if("function"!==typeof d)throw Error();return this.tween(k,Uk(d))},remove:function(){return this.on("end.remove",Kk(this._id))},tween:function(d,e){var k=this._id;d+="";if(2>arguments.length){k=qa(this.node(),
k).tween;for(var h=0,n=k.length,l;h<n;++h)if((l=k[h]).name===d)return l.value;return null}return this.each((null==e?qk:rk)(k,d,e))},delay:function(d){var k=this._id;return arguments.length?this.each(("function"===typeof d?Ck:Dk)(k,d)):qa(this.node(),k).delay},duration:function(d){var k=this._id;return arguments.length?this.each(("function"===typeof d?Ek:Fk)(k,d)):qa(this.node(),k).duration},ease:function(d){var k=this._id;return arguments.length?this.each(Gk(k,d)):qa(this.node(),k).ease},easeVarying:function(d){if("function"!==
typeof d)throw Error();return this.each(Hk(this._id,d))},end:function(){var d,e,h=this,u=h._id,l=h.size();return new Promise(function(k,n){var w={value:n},q={value:function(){0===--l&&k()}};h.each(function(){var k=ta(this,u),h=k.on;h!==d&&(e=(d=h).copy(),e._.cancel.push(w),e._.interrupt.push(w),e._.end.push(q));k.on=e});0===l&&k()})}},Symbol.iterator,Aa[Symbol.iterator]);var Fl={time:null,delay:0,duration:250,ease:function(d){return(1>=(d*=2)?d*d*d:(d-=2)*d*d+2)/2}};Va.prototype.interrupt=function(d){return this.each(function(){rg(this,
d)})};Va.prototype.transition=function(d){var k;if(d instanceof ua){var e=d._id;d=d._name}else e=++Rg,(k=Fl).time=ud(),d=null==d?null:d+"";for(var h=this._groups,l=h.length,q=0;q<l;++q)for(var r=h[q],t=r.length,v,D=0;D<t;++D)if(v=r[D]){var y=v,x=d,C=e,E=D,U=r,z;if(!(z=k)){z=void 0;for(var B=e;!(z=v.__transition)||!(z=z[B]);)if(!(v=v.parentNode))throw Error("transition ".concat(B," not found"));}tc(y,x,C,E,U,z)}return new ua(h,this._parents,d,e)};var Gl=[null];d.Adder=yd;d.InternMap=mb;d.InternSet=
Ma;d.active=function(d,e){var k=d.__transition,h,n;if(k)for(n in e=null==e?null:e+"",k)if(1<(h=k[n]).state&&h.name===e)return new ua([[d]],Gl,e,+n);return null};d.arc=function(){function d(){var d,k=+e.apply(this,arguments),n=+h.apply(this,arguments),w=q.apply(this,arguments)-ec,F=r.apply(this,arguments)-ec,G=Cg(F-w),y=F>w;v||(v=d=D());if(n<k){var Z=n;n=k;k=Z}if(1E-12<n)if(G>Ia-1E-12)v.moveTo(n*za(w),n*ia(w)),v.arc(0,0,n,w,F,!y),1E-12<k&&(v.moveTo(k*za(F),k*ia(F)),v.arc(0,0,k,F,w,y));else{var x=w,
R=F;Z=w;var C=F,E=G,T=G,z=t.apply(this,arguments)/2,U=1E-12<z&&(l?+l.apply(this,arguments):W(k*k+n*n)),B=ib(Cg(n-k)/2,+u.apply(this,arguments)),I=B,M=B;if(1E-12<U){var S=Lf(U/k*ia(z));z=Lf(U/n*ia(z));1E-12<(E-=2*S)?(S*=y?1:-1,Z+=S,C-=S):(E=0,Z=C=(w+F)/2);1E-12<(T-=2*z)?(z*=y?1:-1,x+=z,R-=z):(T=0,x=R=(w+F)/2)}w=n*za(x);F=n*ia(x);S=k*za(C);z=k*ia(C);if(1E-12<B){var J=n*za(R),O=n*ia(R),L=k*za(Z),Da=k*ia(Z);if(G<Ha){I=L-w;M=Da-F;G=S-J;U=z-O;var K=U*I-G*M;1E-12>K*K?I=void 0:(K=(G*(F-O)-U*(w-J))/K,I=[w+
K*I,F+K*M]);I?(M=w-I[0],G=F-I[1],U=J-I[0],K=O-I[1],M=(M*U+G*K)/(W(M*M+G*G)*W(U*U+K*K)),M=1/ia((1<M?0:-1>M?Ha:Math.acos(M))/2),G=W(I[0]*I[0]+I[1]*I[1]),I=ib(B,(k-G)/(M-1)),M=ib(B,(n-G)/(M+1))):I=M=0}}1E-12<T?1E-12<M?(x=fc(L,Da,w,F,n,M,y),R=fc(J,O,S,z,n,M,y),v.moveTo(x.cx+x.x01,x.cy+x.y01),M<B?v.arc(x.cx,x.cy,M,ea(x.y01,x.x01),ea(R.y01,R.x01),!y):(v.arc(x.cx,x.cy,M,ea(x.y01,x.x01),ea(x.y11,x.x11),!y),v.arc(0,0,n,ea(x.cy+x.y11,x.cx+x.x11),ea(R.cy+R.y11,R.cx+R.x11),!y),v.arc(R.cx,R.cy,M,ea(R.y11,R.x11),
ea(R.y01,R.x01),!y))):(v.moveTo(w,F),v.arc(0,0,n,x,R,!y)):v.moveTo(w,F);1E-12<k&&1E-12<E?1E-12<I?(x=fc(S,z,J,O,k,-I,y),R=fc(w,F,L,Da,k,-I,y),v.lineTo(x.cx+x.x01,x.cy+x.y01),I<B?v.arc(x.cx,x.cy,I,ea(x.y01,x.x01),ea(R.y01,R.x01),!y):(v.arc(x.cx,x.cy,I,ea(x.y01,x.x01),ea(x.y11,x.x11),!y),v.arc(0,0,k,ea(x.cy+x.y11,x.cx+x.x11),ea(R.cy+R.y11,R.cx+R.x11),y),v.arc(R.cx,R.cy,I,ea(R.y11,R.x11),ea(R.y01,R.x01),!y))):v.arc(0,0,k,C,Z,y):v.lineTo(S,z)}else v.moveTo(0,0);v.closePath();if(d)return v=null,d+""||null}
var e=Tj,h=Uj,u=L(0),l=null,q=Vj,r=Wj,t=Xj,v=null,D=yb(d);d.centroid=function(){var d=(+e.apply(this,arguments)+ +h.apply(this,arguments))/2,k=(+q.apply(this,arguments)+ +r.apply(this,arguments))/2-Ha/2;return[za(k)*d,ia(k)*d]};d.innerRadius=function(k){return arguments.length?(e="function"===typeof k?k:L(+k),d):e};d.outerRadius=function(k){return arguments.length?(h="function"===typeof k?k:L(+k),d):h};d.cornerRadius=function(k){return arguments.length?(u="function"===typeof k?k:L(+k),d):u};d.padRadius=
function(k){return arguments.length?(l=null==k?null:"function"===typeof k?k:L(+k),d):l};d.startAngle=function(k){return arguments.length?(q="function"===typeof k?k:L(+k),d):q};d.endAngle=function(k){return arguments.length?(r="function"===typeof k?k:L(+k),d):r};d.padAngle=function(k){return arguments.length?(t="function"===typeof k?k:L(+k),d):t};d.context=function(k){return arguments.length?(v=null==k?null:k,d):v};return d};d.area=Of;d.areaRadial=Sf;d.ascending=e;d.axisBottom=function(d){return Nb(3,
d)};d.axisLeft=function(d){return Nb(4,d)};d.axisRight=function(d){return Nb(2,d)};d.axisTop=function(d){return Nb(1,d)};d.bin=ce;d.bisect=La;d.bisectCenter=Wk;d.bisectLeft=Vk;d.bisectRight=wg;d.bisector=y;d.blur=function(d,e){if(!(0<=(e=+e)))throw new RangeError("invalid r");var k=d.length;if(!(0<=(k=Math.floor(k))))throw new RangeError("invalid length");if(!k||!e)return d;e=va(e);var h=d.slice();e(d,h,0,k,1);e(h,d,0,k,1);e(d,h,0,k,1);return d};d.blur2=Xk;d.blurImage=Yk;d.count=Gb;d.create=function(d){return Hf(bc(d).call(document.documentElement))};
d.creator=bc;d.cross=function(){for(var d=arguments.length,e=Array(d),h=0;h<d;h++)e[h]=arguments[h];d="function"===typeof e[e.length-1]&&Ug(e.pop());e=e.map(Tg);h=e.map(zc);var u=e.length-1,l=Array(u+1).fill(0),q=[];if(0>u||h.some(Sg))return q;for(;;){q.push(l.map(function(d,k){return e[k][d]}));for(var r=u;++l[r]===h[r];){if(0===r)return d?q.map(d):q;l[r--]=0}}};d.cumsum=function(d,e){var k=0,h=0;return Float64Array.from(d,e===l?function(d){return k+=+d||0}:function(n){return k+=+e(n,h++,d)||0})};
d.curveBasis=function(d){return new kc(d)};d.curveBasisClosed=function(d){return new Wf(d)};d.curveBasisOpen=function(d){return new Xf(d)};d.curveBumpX=Tf;d.curveBumpY=Vf;d.curveBundle=xl;d.curveCardinal=yl;d.curveCardinalClosed=zl;d.curveCardinalOpen=Al;d.curveCatmullRom=Bl;d.curveCatmullRomClosed=Cl;d.curveCatmullRomOpen=Dl;d.curveLinear=hc;d.curveLinearClosed=function(d){return new bg(d)};d.curveMonotoneX=function(d){return new mc(d)};d.curveMonotoneY=function(d){return new eg(d)};d.curveNatural=
function(d){return new gg(d)};d.curveStep=function(d){return new nc(d,.5)};d.curveStepAfter=function(d){return new nc(d,1)};d.curveStepBefore=function(d){return new nc(d,0)};d.descending=q;d.deviation=Md;d.difference=function(d){d=new Ma(d);for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];for(k=0;k<e.length;k++){h=B(e[k]);var l;try{for(h.s();!(l=h.n()).done;)d["delete"](l.value)}catch(G){h.e(G)}finally{h.f()}}return d};d.disjoint=function(d,e){e=e[Symbol.iterator]();var k=
new Ma;d=B(d);var h;try{for(d.s();!(h=d.n()).done;){var n=h.value;if(k.has(n))return!1;for(var l=void 0,q=void 0;r=e.next(),l=r.value,q=r.done,r;){var r;if(q)break;if(Object.is(n,l))return!1;k.add(l)}}}catch(T){d.e(T)}finally{d.f()}return!0};d.every=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=-1,h=B(d),n;try{for(h.s();!(n=h.n()).done;)if(!e(n.value,++k,d))return!1}catch(G){h.e(G)}finally{h.f()}return!0};d.extent=Ib;d.fcumsum=function(d,e){var k=new yd,
h=-1;return Float64Array.from(d,e===l?function(d){return k.add(+d||0)}:function(n){return k.add(+e(n,++h,d)||0)})};d.filter=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=[],h=-1,n=B(d),l;try{for(n.s();!(l=n.n()).done;){var q=l.value;e(q,++h,d)&&k.push(q)}}catch(Z){n.e(Z)}finally{n.f()}return k};d.flatGroup=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return Rd(Qd.apply(void 0,[d].concat(e)),e)};d.flatRollup=
function(d,e){for(var k=arguments.length,h=Array(2<k?k-2:0),n=2;n<k;n++)h[n-2]=arguments[n];return Rd(Vd.apply(void 0,[d,e].concat(h)),h)};d.fsum=function(d,e){var k=new yd;if(e===l){d=B(d);var h;try{for(d.s();!(h=d.n()).done;){var n=h.value;(n=+n)&&k.add(n)}}catch(Z){d.e(Z)}finally{d.f()}}else{h=-1;n=B(d);var q;try{for(n.s();!(q=n.n()).done;){var r=q.value;(r=+e(r,++h,d))&&k.add(r)}}catch(Z){n.e(Z)}finally{n.f()}}return+k};d.greatest=de;d.greatestIndex=function(d){var k=1<arguments.length&&arguments[1]!==
l?arguments[1]:e;if(1===k.length)return Dc(d,k);var h=-1,u=-1,q=B(d),r;try{for(q.s();!(r=q.n()).done;){var t=r.value;++u;if(0>h?0===k(t,t):0<k(t,v)){var v=t;h=u}}}catch(T){q.e(T)}finally{q.f()}return h};d.group=Pd;d.groupSort=function(d,h,l){return(2!==h.length?jb(Ud(d,h,l),function(d,k){var h=t(d,2);d=h[0];h=h[1];k=t(k,2);var n=k[0];return e(h,k[1])||e(d,n)}):jb(Pd(d,l),function(d,k){var n=t(d,2);d=n[0];n=n[1];k=t(k,2);var u=k[0];return h(n,k[1])||e(d,u)})).map(function(d){return t(d,1)[0]})};d.groups=
Qd;d.histogram=ce;d.index=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return ra(d,Ya,Ca,e)};d.indexes=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];return ra(d,Array.from,Ca,e)};d.interrupt=rg;d.intersection=function(d){for(var k=arguments.length,e=Array(1<k?k-1:0),h=1;h<k;h++)e[h-1]=arguments[h];d=new Ma(d);e=e.map(ch);k=B(d);var l;try{a:for(k.s();!(l=k.n()).done;){var q=l.value,r=B(e),t;try{for(r.s();!(t=r.n()).done;)if(!t.value.has(q)){d["delete"](q);
continue a}}catch(T){r.e(T)}finally{r.f()}}}catch(T){k.e(T)}finally{k.f()}return d};d.least=function(d){var k=1<arguments.length&&arguments[1]!==l?arguments[1]:e,h=!1;if(1===k.length){var u=B(d),q;try{for(u.s();!(q=u.n()).done;){var r=q.value,t=k(r);if(h?0>e(t,x):0===e(t,t)){var v=r;var x=t;h=!0}}}catch(na){u.e(na)}finally{u.f()}}else{x=B(d);try{for(x.s();!(u=x.n()).done;){var y=u.value;if(h?0>k(y,v):0===k(y,y))v=y,h=!0}}catch(na){x.e(na)}finally{x.f()}}return v};d.leastIndex=ie;d.line=nd;d.lineRadial=
Qf;d.link=ic;d.linkHorizontal=function(){return ic(Tf)};d.linkRadial=function(){var d=ic(bk);d.angle=d.x;delete d.x;d.radius=d.y;delete d.y;return d};d.linkVertical=function(){return ic(Vf)};d.local=If;d.map=function(d,e){if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof e)throw new TypeError("mapper is not a function");return Array.from(d,function(k,h){return e(k,h,d)})};d.matcher=gd;d.max=Cc;d.maxIndex=Dc;d.mean=function(d,e){var k=0,
h=0;if(e===l){d=B(d);var n;try{for(d.s();!(n=d.n()).done;){var q=n.value;null!=q&&(q=+q)>=q&&(++k,h+=q)}}catch(T){d.e(T)}finally{d.f()}}else{n=-1;q=B(d);var r;try{for(q.s();!(r=q.n()).done;){var t=r.value;null!=(t=e(t,++n,d))&&(t=+t)>=t&&(++k,h+=t)}}catch(T){q.e(T)}finally{q.f()}}if(k)return h/k};d.median=function(d,e){return ob(d,.5,e)};d.medianIndex=function(d,e){return fe(d,.5,e)};d.merge=function(d){return Array.from(ge(d))};d.min=Lb;d.minIndex=Ec;d.mode=function(d,e){var k=new mb;if(e===l){d=
B(d);var h;try{for(d.s();!(h=d.n()).done;){var n=h.value;null!=n&&n>=n&&k.set(n,(k.get(n)||0)+1)}}catch(pb){d.e(pb)}finally{d.f()}}else{h=-1;n=B(d);var q;try{for(n.s();!(q=n.n()).done;){var r=q.value;null!=(r=e(r,++h,d))&&r>=r&&k.set(r,(k.get(r)||0)+1)}}catch(pb){n.e(pb)}finally{n.f()}}d=0;k=B(k);var v;try{for(k.s();!(v=k.n()).done;){var x=t(v.value,2),y=x[0],D=x[1];if(D>d){d=D;var C=y}}}catch(pb){k.e(pb)}finally{k.f()}return C};d.namespace=xb;d.namespaces=ed;d.nice=ae;d.pairs=function(d){var e=1<
arguments.length&&arguments[1]!==l?arguments[1]:ah,k=[],h=!1,q=B(d),r;try{for(q.s();!(r=q.n()).done;){var t=r.value;h&&k.push(e(v,t));var v=t;h=!0}}catch(T){q.e(T)}finally{q.f()}return k};d.permute=Ld;d.pie=function(){function d(d){var k,n=(d=gc(d)).length;var u=0;var w=Array(n),v=Array(n),x=+q.apply(this,arguments);var y=Math.min(Ia,Math.max(-Ia,r.apply(this,arguments)-x));var G=Math.min(Math.abs(y)/n,t.apply(this,arguments)),D=G*(0>y?-1:1),F;for(k=0;k<n;++k)0<(F=v[w[k]=k]=+e(d[k],k,d))&&(u+=F);
null!=h?w.sort(function(d,e){return h(v[d],v[e])}):null!=l&&w.sort(function(e,k){return l(d[e],d[k])});k=0;for(y=u?(y-n*D)/u:0;k<n;++k,x=C){u=w[k];F=v[u];var C=x+(0<F?F*y:0)+D;v[u]={data:d[u],index:k,value:F,startAngle:x,endAngle:C,padAngle:G}}return v}var e=ak,h=Zj,l=null,q=L(0),r=L(Ia),t=L(0);d.value=function(k){return arguments.length?(e="function"===typeof k?k:L(+k),d):e};d.sortValues=function(e){return arguments.length?(h=e,l=null,d):h};d.sort=function(e){return arguments.length?(l=e,h=null,
d):l};d.startAngle=function(e){return arguments.length?(q="function"===typeof e?e:L(+e),d):q};d.endAngle=function(e){return arguments.length?(r="function"===typeof e?e:L(+e),d):r};d.padAngle=function(e){return arguments.length?(t="function"===typeof e?e:L(+e),d):t};return d};d.pointRadial=Ab;d.pointer=Kf;d.pointers=function(d,e){d.target&&(d=Jf(d),e===l&&(e=d.currentTarget),d=d.touches||[d]);return Array.from(d,function(d){return Kf(d,e)})};d.quantile=ob;d.quantileIndex=fe;d.quantileSorted=ee;d.quickselect=
Mb;d.radialArea=Sf;d.radialLine=Qf;d.range=he;d.rank=function(d){var k=1<arguments.length&&arguments[1]!==l?arguments[1]:e;if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");var h=Array.from(d),u=new Float64Array(h.length);2!==k.length&&(h=h.map(k),k=e);var q=function(d,e){return k(h[d],h[e])},r,t;d=Uint32Array.from(h,function(d,e){return e});d.sort(k===e?function(d,e){return ka(h[d],h[e])}:sa(q));d.forEach(function(d,e){var k=q(d,r===l?d:r);if(0<=k){if(r===l||
0<k)r=d,t=e;u[d]=t}else u[d]=NaN});return u};d.reduce=function(d,e,h){if("function"!==typeof e)throw new TypeError("reducer is not a function");var k=d[Symbol.iterator](),n=-1;if(3>arguments.length){var l=k.next();var q=l.done;h=l.value;if(q)return;++n}for(;r=k.next(),q=r.done,l=r.value,!q;){var r;h=e(h,l,++n,d)}return h};d.reverse=function(d){if("function"!==typeof d[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(d).reverse()};d.rollup=Ud;d.rollups=Vd;d.scaleBand=
Hc;d.scaleDiverging=wf;d.scaleDivergingLog=xf;d.scaleDivergingPow=dd;d.scaleDivergingSqrt=function(){return dd.apply(null,arguments).exponent(.5)};d.scaleDivergingSymlog=yf;d.scaleIdentity=Ne;d.scaleImplicit=Gc;d.scaleLinear=Me;d.scaleLog=Se;d.scaleOrdinal=Fc;d.scalePoint=function(){return ne(Hc.apply(null,arguments).paddingInner(1))};d.scalePow=Vc;d.scaleQuantile=Ze;d.scaleQuantize=$e;d.scaleRadial=Ye;d.scaleSequential=sf;d.scaleSequentialLog=tf;d.scaleSequentialPow=cd;d.scaleSequentialQuantile=
vf;d.scaleSequentialSqrt=function(){return cd.apply(null,arguments).exponent(.5)};d.scaleSequentialSymlog=uf;d.scaleSqrt=function(){return Vc.apply(null,arguments).exponent(.5)};d.scaleSymlog=Ve;d.scaleThreshold=af;d.scaleTime=function(){return la.apply(bd(nl,ol,xa,Ed,Yb,ub,Cd,Ad,Ta,Ag).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};d.scaleUtc=function(){return la.apply(bd(kl,ll,ya,Fd,Zb,Wb,Dd,Bd,Ta,Bg).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};d.scan=function(d,e){d=ie(d,
e);return 0>d?l:d};d.select=Hf;d.selectAll=function(d){return"string"===typeof d?new fa([document.querySelectorAll(d)],[document.documentElement]):new fa([zf(d)],jd)};d.selection=Va;d.selector=cc;d.selectorAll=fd;d.shuffle=Zk;d.shuffler=je;d.some=function(d,e){if("function"!==typeof e)throw new TypeError("test is not a function");var k=-1,h=B(d),n;try{for(h.s();!(n=h.n()).done;)if(e(n.value,++k,d))return!0}catch(G){h.e(G)}finally{h.f()}return!1};d.sort=jb;d.stack=function(){function d(d){var k=Array.from(e.apply(this,
arguments),hk),n=k.length,u=-1,r=B(d),w;try{for(r.s();!(w=r.n()).done;){var t=w.value;var v=0;for(++u;v<n;++v)(k[v][u]=[0,+q(t,k[v].key,u,d)]).data=t}}catch(jh){r.e(jh)}finally{r.f()}v=0;for(u=gc(h(k));v<n;++v)k[u[v]].index=v;l(k,u);return k}var e=L([]),h=fb,l=eb,q=gk;d.keys=function(k){return arguments.length?(e="function"===typeof k?k:L(Array.from(k)),d):e};d.value=function(e){return arguments.length?(q="function"===typeof e?e:L(+e),d):q};d.order=function(e){return arguments.length?(h=null==e?fb:
"function"===typeof e?e:L(Array.from(e)),d):h};d.offset=function(e){return arguments.length?(l=null==e?eb:e,d):l};return d};d.stackOffsetDiverging=function(d,e){if(0<(t=d.length))for(var k,h=0,n,l,q,r,t,v=d[e[0]].length;h<v;++h)for(k=q=r=0;k<t;++k)0<(l=(n=d[e[k]][h])[1]-n[0])?(n[0]=q,n[1]=q+=l):0>l?(n[1]=r,n[0]=r+=l):(n[0]=0,n[1]=l)};d.stackOffsetExpand=function(d,e){if(0<(h=d.length)){for(var k,h,n=0,l=d[0].length,q;n<l;++n){for(q=k=0;k<h;++k)q+=d[k][n][1]||0;if(q)for(k=0;k<h;++k)d[k][n][1]/=q}eb(d,
e)}};d.stackOffsetNone=eb;d.stackOffsetSilhouette=function(d,e){if(0<(n=d.length)){for(var k=0,h=d[e[0]],n,l=h.length;k<l;++k){for(var q=0,r=0;q<n;++q)r+=d[q][k][1]||0;h[k][1]+=h[k][0]=-r/2}eb(d,e)}};d.stackOffsetWiggle=function(d,e){if(0<(q=d.length)&&0<(l=(n=d[e[0]]).length)){for(var k=0,h=1,n,l,q;h<l;++h){for(var r=0,t=0,v=0;r<q;++r){var x=d[e[r]],y=x[h][1]||0;x=(y-(x[h-1][1]||0))/2;for(var D=0;D<r;++D){var C=d[e[D]];x+=(C[h][1]||0)-(C[h-1][1]||0)}t+=y;v+=x*y}n[h-1][1]+=n[h-1][0]=k;t&&(k-=v/t)}n[h-
1][1]+=n[h-1][0]=k;eb(d,e)}};d.stackOrderAppearance=ig;d.stackOrderAscending=jg;d.stackOrderDescending=function(d){return jg(d).reverse()};d.stackOrderInsideOut=function(d){var e=d.length,k=d.map(kg),h=ig(d),l=0,q=0,r=[],t=[];for(d=0;d<e;++d){var v=h[d];l<q?(l+=k[v],r.push(v)):(q+=k[v],t.push(v))}return t.reverse().concat(r)};d.stackOrderNone=fb;d.stackOrderReverse=function(d){return fb(d).reverse()};d.style=Ua;d.subset=function(d,e){return le(e,d)};d.sum=function(d,e){var k=0;if(e===l){d=B(d);var h;
try{for(d.s();!(h=d.n()).done;){var n=h.value;if(n=+n)k+=n}}catch(Z){d.e(Z)}finally{d.f()}}else{h=-1;n=B(d);var q;try{for(n.s();!(q=n.n()).done;){var r=q.value;if(r=+e(r,++h,d))k+=r}}catch(Z){n.e(Z)}finally{n.f()}}return k};d.superset=le;d.symbol=function(d,e){function k(){var k;h||(h=k=n());d.apply(this,arguments).draw(h,+e.apply(this,arguments));if(k)return h=null,k+""||null}var h=null,n=yb(k);d="function"===typeof d?d:L(d||xc);e="function"===typeof e?e:L(e===l?64:+e);k.type=function(e){return arguments.length?
(d="function"===typeof e?e:L(e),k):d};k.size=function(d){return arguments.length?(e="function"===typeof d?d:L(+d),k):e};k.context=function(d){return arguments.length?(h=null==d?null:d,k):h};return k};d.symbolAsterisk=Dg;d.symbolCircle=xc;d.symbolCross=Eg;d.symbolDiamond=Gg;d.symbolDiamond2=Hg;d.symbolPlus=Ig;d.symbolSquare=Jg;d.symbolSquare2=Kg;d.symbolStar=Mg;d.symbolTimes=Kd;d.symbolTriangle=Ng;d.symbolTriangle2=Og;d.symbolWye=Pg;d.symbolX=Kd;d.symbols=Qg;d.symbolsFill=Qg;d.symbolsStroke=wl;d.thresholdFreedmanDiaconis=
function(d,e,h){var k=Gb(d);d=ob(d,.75)-ob(d,.25);return k&&d?Math.ceil((h-e)/(2*d*Math.pow(k,-1/3))):1};d.thresholdScott=function(d,e,h){var k=Gb(d);d=Md(d);return k&&d?Math.ceil((h-e)*Math.cbrt(k)/(3.49*d)):1};d.thresholdSturges=be;d.tickFormat=Ke;d.tickIncrement=Ka;d.tickStep=Kb;d.ticks=kb;d.transition=ug;d.transpose=ke;d.union=function(){for(var d=new Ma,e=arguments.length,h=Array(e),l=0;l<e;l++)h[l]=arguments[l];for(e=0;e<h.length;e++){l=B(h[e]);var q;try{for(l.s();!(q=l.n()).done;)d.add(q.value)}catch(G){l.e(G)}finally{l.f()}}return d};
d.variance=Nd;d.window=hd;d.zip=function(){return ke(arguments)};return d}({})}),H.register("price-tracker-constants",function(){return{PRICE_TRACKER_MODAL_NAME:"price-tracker",PRICE_TRACKER_DATA_STRATEGY:"preload",PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_DESKTOP:75,PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_DESKTOP:.3,PRICE_TRACKER_MOBILE_STYLE:"price-tracker-style",PRICE_TRACKER_BOTTOM_SHEET_NAME:"price-tracker",PRICE_TRACKER_PRELOAD_DOM_ID:"price-tracker",PRICE_TRACKER_PRELOAD_DOM_PARENT_ID:"price-tracker-parent",
PRICE_TRACKER_BOTTOM_SHEET_INITIAL_HEIGHT:100,PRICE_TRACKER_BOTTOM_SHEET_CLOSE_TYPE:"icon",PRICE_TRACKER_MOBILE_HEADER_ID:"price-tracker-header-mobile",PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_MOBILE:95,PRICE_TRACKER_GRAPH_DIALOG_HEIGHT_LANDSCAPE_MOBILE:140,PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_MOBILE:.5,PRICE_TRACKER_CLICK_ACTION_NAME:"show-price-tracker",PRICE_TRACKER_HIDDEN_AOK:"aok-hidden",PRICE_TRACKER_DEFAULT_RANGE:"30",PRICE_TRACKER_ASSETS_LOADED_STATE:"priceTracker:assetsLoaded",PRICE_TRACKER_MOBILE_MINIMUM_VIEWPORT_SIZE_OF_THE_SHORTEST_SIDE:450,
CURRENCY_SYMBOL:{USD:"$",CAD:"$",MXN:"$",BRL:"R$",CLP:"$",COP:"$",EUR:"€",INR:"₹",GBP:"£",SGD:"$",AED:"AED",SAR:"SAR",SEK:"kr",PLN:"zł",EGP:"EGP",TRY:"₺",ZAR:"R",NGN:"₦",JPY:"¥",AUD:"$",NZD:"$",CNY:"¥"},PRICE_TRACKER_IS_LOADED_EVENT_NAME:"priceTrackerIsLoaded",PRICE_TRACKER_GRID_SHOWN_EVENT_NAME:"gridIsShown",PRICE_TRACKER_GRID_ID:"price-tracker-grid",PRICE_TRACKER_FAILURE_ID:"price-tracker-failure",PRICE_TRACKER_SPINNER_ID:"price-tracker-spinner",PRICE_TRACKER_DESCRIPTION_ID:"price-tracker-description",
PRICE_TRACKER_LEGEND_COMPONENT_ID:"price-tracker-event-markers-component",PRICE_TRACKER_LEGEND_ID:"price-tracker-legend",PRICE_TRACKER_LEGEND_SVG_ID:"price-tracker-legend-svg",PRICE_TRACKER_GRAPH_ID:"price-tracker-graph-svg",PRICE_TRACKER_CONTENT_ID:"price-tracker-content",PRICE_TRACKER_X_AXIS_ID:"price-tracker-x-axis",PRICE_TRACKER_Y_AXIS_ID:"price-tracker-y-axis",PRICE_TRACKER_TOOLTIP_ID:"price-tracker-tooltip",PRICE_TRACKER_TOOLTIP_RECT_ID:"price-tracker-tooltip-rect",PRICE_TRACKER_TOOLTIP_TEXT_ID:"price-tracker-tooltip-text",
PRICE_TRACKER_TOOLTIP_LINE_ID:"price-tracker-tooltip-line",PRICE_TRACKER_LEGEND_PRICE_LINE_ID:"price-tracker-legend-price-line",PRICE_TRACKER_LEGEND_NO_DATA_LINE_ID:"price-tracker-legend-no-data-line",PRICE_TRACKER_LEGEND_PRICE_LABEL_CLASS:"price-tracker-legend-price-label-style",PRICE_TRACKER_LEGEND_NO_DATA_LABEL_CLASS:"price-tracker-legend-no-data-label-style",PRICE_TRACKER_EVENT_SYMBOL_RADIUS:"4",PRICE_TRACKER_EVENT_SYMBOL_RADIUS_HIGHLIGHTED:"6",PRICE_TRACKER_SYMBOL_LEGEND_CX:"10",PRICE_TRACKER_SYMBOL_LEGEND_CY:"10",
PRICE_TRACKER_LEGEND_NO_DATA_DASHARRAY:"2,4",PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS:10,PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL:4,PRICE_TRACKER_LABEL_FROM_SYMBOL_Y_SHIFT:5,PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH:10,PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH:15,PRICE_TRACKER_EVENT_SYMBOL_CLASS:"price-tracker-event-symbol",PRICE_TRACKER_EVENT_CIRCLE:"circle",PRICE_TRACKER_EVENT_TYPE_MAP:{DEAL:{LABEL_CLASS:"price-tracker-deal-event-label-style",CSS_CLASS:"price-tracker-event-symbol pt-circle-deal",
SYMBOL_ID:"price-tracker-deal-event-symbol",GRID_ID:"price-tracker-deal-event-legend-style",LINE_STYLE:"price-tracker-deal-line"},PRIME:{LABEL_CLASS:"price-tracker-prime-event-label-style",CSS_CLASS:"price-tracker-event-symbol pt-circle-prime",SYMBOL_ID:"price-tracker-prime-event-symbol",GRID_ID:"price-tracker-prime-event-legend-style",LINE_STYLE:"price-tracker-prime-line"}},PRICE_TRACKER_GRAPH_DIALOG_MAX_WIDTH:600,PRICE_TRACKER_GRAPH_DIALOG_MIN_WIDTH:320,PRICE_TRACKER_GRAPH_WINDOW_PADDING_TOP:0,
PRICE_TRACKER_GRAPH_WINDOW_PADDING_LEFT:10,PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT:20,PRICE_TRACKER_GRAPH_WINDOW_PADDING_BOTTOM:30,PRICE_TRACKER_TOOLTIP_TEXT_LEFT_PADDING:10,PRICE_TRACKER_TOOLTIP_TEXT_TOP_PADDING:20,PRICE_TRACKER_TOOLTIP_TOP_OFFSET:5,PRICE_TRACKER_TOOLTIP_SHADOW_X_OFFSET:4,PRICE_TRACKER_TOOLTIP_VERTICAL_LINE_TOP_OFFSET:10,PRICE_TRACKER_X_AXIS_TEXT_OFFSET:10,PRICE_TRACKER_ANIMATION_DURATION:100,PRICE_TRACKER_TREND_LINE_STYLE:"price-tracker-trend-line",PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE:"price-tracker-no-data-line",
PRICE_TRACKER_TICK_TEXT:"tick text",PRICE_TRACKER_TICK_LINE:"tick line",PRICE_TRACKER_X_AXIS_TICK_TEXT_CLASS:"pt-xaxis-ticks-text",PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS:"pt-yaxis-ticks-text",PRICE_TRACKER_Y_AXIS_TICK_LINE_CLASS:"pt-yaxis-ticks-line",PRICE_TRACKER_PATH:"path",PRICE_TRACKER_TOUCHABLE_AREA_CLASS:"pt-blank-touchable-area",PRICE_TRACKER_TOOLTIP_STYLE_CLASS:"price-tracker-tooltip-style",PRICE_TRACKER_TOOLTIP_LINE_STYLE_CLASS:"price-tracker-tooltip-line-style",PRICE_TRACKER_TOOLTIP_RECT_STYLE_CLASS:"price-tracker-tooltip-rect-style",
PRICE_TRACKER_TOOLTIP_TEXT_STYLE_CLASS:"price-tracker-tooltip-text-style",PRICE_TRACKER_X_AXIS_STYLE_CLASS:"price-tracker-x-axis-style",PRICE_TRACKER_Y_AXIS_STYLE_CLASS:"price-tracker-y-axis-style"}}),H.when("A","jQuery","price-tracker-d3","price-tracker-constants").register("price-tracker-helper",function(v,r,h,t){function z(h){return r("#"+h)}function H(h){var e=(Math.round(100*h)/100).toFixed(2);isNaN(e)&&(e=h);return e}function J(h){var e="";if(h.text)e=h.text;else if(h.money){e=h.money.currencyCode;
var q=t.CURRENCY_SYMBOL[e];q===l&&(q=e);e=q+H(h.money.amount)}return e}function C(h){var e="";Array.isArray(h)&&v.each(h,function(h,l){e+=J(h)});return e}function O(h){return z(null!=E?h+"-"+E:h)}var E=void 0;return{getElementBasedOnID:z,parseRichContent:function(h){var e="";h&&(e=h.paragraph?C(h.paragraph.fragments):h.fragments?C(h.fragments):J(h));return e},buildRichContentFromText:function(h){var e=[];e.push({text:h});return{fragments:e}},parseAmount:H,formatEvents:function(h){return h.events.flat().map(function(e){e.type=
h.type;return e})},checkIfPointBelongsToEvent:function(h,e){return 0<h.filter(function(h){return h.startDateTick<=e.dateTick&&h.finishDateTick>=e.dateTick}).length},tooltipTransform:function(h,e,l){h.x=Math.max(e,h.x);h.x=Math.min(l-h.width,h.x);return"translate("+h.x+","+h.y+")"},clamp:function(h,e,l){return Math.min(Math.max(h,e),l)},showFailureMessage:function(){O(t.PRICE_TRACKER_FAILURE_ID).show()},hideFailureMessage:function(){O(t.PRICE_TRACKER_FAILURE_ID).hide()},hideSpinner:function(){O(t.PRICE_TRACKER_SPINNER_ID).hide()},
updateBuyingOptionIndex:function(h){E=h},getDynamicID:function(h){return null!=E?h+"-"+E:h},getElementBasedOnDynamicID:O,getD3ElementBasedOnDynamicID:function(l){return h.select("#"+(null!=E?l+"-"+E:l))},getD3ChildrenElementsBasedOnClass:function(h,e){return h.selectAll("."+e)},registerEvent:function(h,e){if(!v.isListening(h))v.on(h,e)},logError:function(h){var e=1<arguments.length&&arguments[1]!==l?arguments[1]:null;if(V.ueLogError){var q={logLevel:"ERROR",attribution:"detail_page_price_tracker_assets",
message:h+" "};e||(e=Error("No exception is thrown."));V.ueLogError(e,q)}}}}),H.register("price-tracker-data-helper",function(){var l={};return{setPriceTrackerIngressData:function(r){l=r},getNoDataLegendLabel:function(){return l?l.priceTrackerNoDataLegendLabel:null},getPriceLegendLabel:function(){return l?l.priceTrackerPriceLegendLabel:null},getNoDataTooltipLabel:function(){return l?l.priceTrackerNoDataTooltip:null},getRange:function(){return l&&l.priceTrackerRanges&&l.priceTrackerRanges[0]?l.priceTrackerRanges[0]:
null}}}),H.register("price-tracker-metrics",function(){return{logCountMetric:function(l){V.ue&&V.ue.count&&V.ue.count(l,1)},logData:function(l,r,h){V.ue&&V.ue.event&&V.ue.event(l,r,h)},startTimer:function(l){uet&&uet("bb",l,{wb:1})},stopTimer:function(l){uex&&uex("ld",l,{wb:1})},reportCriticalFeature:function(l){uet&&uet("cf",l,{wb:1})},METRIC_AJAX_CALL:"priceTracker:ajax:call",METRIC_AJAX_SUCCESS:"priceTracker:ajax:success",METRIC_AJAX_STATUS_CODE_2XX:"priceTracker:ajax:statusCode:2XX",METRIC_AJAX_STATUS_CODE_4XX:"priceTracker:ajax:statusCode:4XX",
METRIC_AJAX_STATUS_CODE_5XX:"priceTracker:ajax:statusCode:5XX",METRIC_RESPONSE_EMPTY:"priceTracker:response:empty",METRIC_DATA_RECEIVED:"priceTracker:data:received",METRIC_DATA_INVALID:"priceTracker:data:invalid",METRIC_DATA_TITLE_EMPTY:"priceTracker:data:title:empty",METRIC_DATA_CHART_EMPTY:"priceTracker:data:chart:empty",METRIC_DATA_XAXIS_EMPTY:"priceTracker:data:xAxis:empty",METRIC_DATA_YAXIS_EMPTY:"priceTracker:data:yAxis:empty",METRIC_DATA_PRICE_EMPTY:"priceTracker:data:price:empty",METRIC_DATA_EVENTS_EMPTY:"priceTracker:data:events:empty",
METRIC_DATA_XAXIS_INVALID:"priceTracker:data:xAxis:invalid",METRIC_DATA_YAXIS_INVALID:"priceTracker:data:yAxis:invalid",METRIC_DATA_PRICE_INVALID:"priceTracker:data:price:invalid",METRIC_DATA_EVENTS_INVALID:"priceTracker:data:events:invalid",METRIC_A11Y_INGRESS_DATA_INCOMPLETE:"priceTracker:a11y:ingress:data:incomplete",METRIC_MOBILE:"priceTracker:mobile",METRIC_DESKTOP:"priceTracker:desktop",METRIC_MOBILE_LANDSCAPE:"priceTracker:mobile:landscape",METRIC_MOBILE_FATAL:"priceTracker:mobile:fatal",METRIC_DESKTOP_FATAL:"priceTracker:desktop:fatal",
METRIC_LATENCY_AJAX:"priceTrackerWidgetAjax",METRIC_LATENCY_WIDGET:"priceTrackerWidget",METRIC_MOBILE_CHANGE_HEIGHT_FATAL:"priceTracker:mobile:changeHeight:fatal",METRIC_NULL_BUYING_OPTION:"priceTracker:buyingOption:null",NEXUS_PRODUCER_ID:"pricetracker",NEXUS_SCHEMA_ID:"pricetracker.PriceTracker.12"}}),H.when("price-tracker-constants","price-tracker-metrics").register("price-tracker-validator",function(l,r){function h(e,h){return E(e.max,"number")&&E(e.min,"number")?t(e.labels,h):null}function t(e,
h){return E(e,"object")&&0!==e.length?(e=e.filter(function(e){return h(e)}),0!==e.length?e:null):null}function v(e){return E(e.dateTick,"number")&&E(e.label,"object")&&E(e.value,"number")}function H(e){return E(e.dateTick,"number")&&E(e.label,"string")}function J(e){return E(e.label,"object")&&E(e.value,"number")}function C(e){return E(e.label,"string")&&E(e.type,"string")&&E(e.events,"object")}function O(e){return E(e.startDateTick,"number")&&E(e.finishDateTick,"number")&&E(e.value,"number")}function E(e,
h){switch(h){case "string":return null!==e&&("undefined"===typeof e?"undefined":N(e))===h&&0!==e.trim().length;case "object":return null!==e&&("undefined"===typeof e?"undefined":N(e))===h&&"{}"!==JSON.stringify(e);default:return null!==e&&("undefined"===typeof e?"undefined":N(e))===h}}function q(e){if(e){var h=function(){var h=[],q;for(q in l.PRICE_TRACKER_EVENT_TYPE_MAP)h.push(q);return{v:e.filter(function(e){for(var l in h)if(e.type===h[l])return e})}}();if("object"===("undefined"===typeof h?"undefined":
N(h)))return h.v}}return{validate:function(e){r.logCountMetric(r.METRIC_DATA_RECEIVED);if(E(e,"object")&&!e.code){a:{var l=e.title,z=e.chart;l||r.logCountMetric(r.METRIC_DATA_TITLE_EMPTY);z||r.logCountMetric(r.METRIC_DATA_CHART_EMPTY);if(E(l,"string")&&E(z,"object")){l=z.xAxis;var X=z.yAxis;l||r.logCountMetric(r.METRIC_DATA_XAXIS_EMPTY);X||r.logCountMetric(r.METRIC_DATA_YAXIS_EMPTY);z.series||r.logCountMetric(r.METRIC_DATA_PRICE_EMPTY);if(E(l,"object")&&E(X,"object")&&E(z.series,"object")){var Q=
h(l,H),K=h(X,J);b:{var ja=z.series;if(E(ja,"object")&&0!==ja.length){for(N in ja){var V=ja[N].points,Y=t(V,v);if(!Y||Y.length!==V.length){var N=null;break b}}N=ja}else N=null}Q||r.logCountMetric(r.METRIC_DATA_XAXIS_INVALID);K||r.logCountMetric(r.METRIC_DATA_YAXIS_INVALID);N||r.logCountMetric(r.METRIC_DATA_PRICE_INVALID);if(Q&&K&&N){l.labels=Q;X.labels=K;z.series=N;break a}}}e=null}if(e){z=e.description;if(X=e.chart.eventSeries){l=e.chart;a:if(X=t(X,C)){for(B in X)if(Q=X[B].events,K=t(Q,O),!K||K.length!==
Q.length){var B=null;break a}B=q(X);B=0!==B.length?B:null}else B=null;l.eventSeries=B;e.chart.eventSeries||r.logCountMetric(r.METRIC_DATA_EVENTS_INVALID)}else r.logCountMetric(r.METRIC_DATA_EVENTS_EMPTY);E(z,"object")||(e.description=null);return e}}r.logCountMetric(r.METRIC_DATA_INVALID);return null}}}),H.when("A","price-tracker-constants","price-tracker-data-helper").register("price-tracker-events-legend-element-helper",function(l,r,h){return{addDynamicLegendElements:function(t,v,H,J,C,O){var z=
0,q=0;l.each(O.chart.series,function(e){z+=e.points.length});l.each(O.chart.eventSeries,function(e){r.PRICE_TRACKER_EVENT_TYPE_MAP.hasOwnProperty(e.type)&&l.each(e.events,function(e){q+=e.finishDateTick-e.startDateTick+1})});(C=h.getPriceLegendLabel())&&z>q&&(t.append("line").attr("id",r.PRICE_TRACKER_LEGEND_PRICE_LINE_ID).attr("class",r.PRICE_TRACKER_TREND_LINE_STYLE).attr("x1",v).attr("y1",H).attr("x2",v+r.PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH).attr("y2",H),v+=r.PRICE_TRACKER_LEGEND_PRICE_LINE_LENGTH+
r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL,t.append("text").attr("class",r.PRICE_TRACKER_LEGEND_PRICE_LABEL_CLASS).text(C).attr("x",v).attr("y",J),v+=r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS*C.length);O=O.chart.series.map(function(e){return e.points}).flat().map(function(e){return e.dateTick});O=Math.min.apply(null,O);(C=h.getNoDataLegendLabel())&&z+O-1!==h.getRange()&&(t.append("line").attr("id",r.PRICE_TRACKER_LEGEND_NO_DATA_LINE_ID).attr("class",r.PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE).attr("x1",
v).attr("y1",H).attr("x2",v+r.PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH).attr("y2",H).attr("stroke-dasharray",r.PRICE_TRACKER_LEGEND_NO_DATA_DASHARRAY),v+=r.PRICE_TRACKER_LEGEND_NO_DATA_LINE_LENGTH+r.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL,t.append("text").attr("class",r.PRICE_TRACKER_LEGEND_NO_DATA_LABEL_CLASS).text(C).attr("x",v).attr("y",J))}}}),H.when("A","jQuery","price-tracker-constants","price-tracker-helper").register("price-tracker-ui-helper",function(l,r,h,t){function v(){return t.clamp(Math.round(V.innerWidth/
100*h.PRICE_TRACKER_GRAPH_DIALOG_WIDTH_PERCENTAGE_DESKTOP),h.PRICE_TRACKER_GRAPH_DIALOG_MIN_WIDTH,h.PRICE_TRACKER_GRAPH_DIALOG_MAX_WIDTH)}return{getDialogWidth:v,getDialogHeight:function(){return Math.round(v()*h.PRICE_TRACKER_GRAPH_HEIGHT_TO_WIDTH_RATIO_DESKTOP)},isMobile:function(){return!1}}}),H.when("A","jQuery","a-modal","price-tracker-helper","price-tracker-constants").register("price-tracker-header-render",function(l,r,h,t,z){return{renderHeader:function(l){h.get(t.getDynamicID(z.PRICE_TRACKER_MODAL_NAME)).update({header:l})},
clearHeader:function(){h.get(t.getDynamicID(z.PRICE_TRACKER_MODAL_NAME)).update({header:""})}}}),H.when("A","jQuery","price-tracker-content-render","price-tracker-helper","price-tracker-metrics").register("price-tracker-content-handler",function(l,r,h,t,z){function v(){t.hideSpinner();t.showFailureMessage()}return{onHttpSuccess:function(l){z.logCountMetric(z.METRIC_AJAX_SUCCESS);t.hideSpinner();if(l&&l.entity&&Array.isArray(l.entity.buyingOptions)&&0<l.entity.buyingOptions.length){if((l=l.entity.buyingOptions[0].priceTracker)&&
l.metadata){var r=l.metadata["x-amzn-metrics-id"],v=V.opts;r&&v&&z.logData({metricsId:r,customerId:v.customerId,asin:v.asin,marketId:v.marketId},z.NEXUS_PRODUCER_ID,z.NEXUS_SCHEMA_ID)}h.renderContent(l.entity)}else z.logCountMetric(z.METRIC_RESPONSE_EMPTY),t.showFailureMessage()},onHttpError:function(h,l,r){t.logError("An HTTP error occurred while fetching price data.",r);v()},onFailure:v}}),H.when("A","price-tracker-content-handler","price-tracker-constants","price-tracker-helper","price-tracker-metrics",
"price-tracker-data-helper").register("price-tracker-content-loader",function(l,r,h,t,z,H){function v(h){h&&h.http&&h.http.status&&(h=h.http.status,400<=h&&500>h?z.logCountMetric(z.METRIC_AJAX_STATUS_CODE_4XX):500<=h&&600>h?z.logCountMetric(z.METRIC_AJAX_STATUS_CODE_5XX):200<=h&&300>h&&z.logCountMetric(z.METRIC_AJAX_STATUS_CODE_2XX))}return{loadPriceTracker:function(t){z.logCountMetric(z.METRIC_AJAX_CALL);if(t&&t.data&&t.data.priceTrackerAjaxURL){z.startTimer(z.METRIC_LATENCY_AJAX);H.setPriceTrackerIngressData(t.data);
var C=h.PRICE_TRACKER_DEFAULT_RANGE;t.data.priceTrackerRanges&&t.data.priceTrackerRanges[0]&&(C=t.data.priceTrackerRanges[0]);C="https://"+t.data.priceTrackerAjaxURL+C;t={Accept:'application/vnd.com.amazon.api+json; type\x3d"product/v2"; expand\x3d"buyingOptions[].priceTracker(product.price-tracker/v1)"',"Accept-Language":t.data.priceTrackerLocale,"x-api-csrf-token":t.data.priceTrackerCSRFToken,"x-cc-currency-of-preference":t.data.priceTrackerCurrencyOfPreference,"X-Requested-With":null};var E=document.querySelector('meta[name\x3d"encrypted-slate-token"]');
E&&(t["x-amzn-encrypted-slate-token"]=E.content);l.ajax(C,{type:"GET",timeout:1E4,contentType:"application/x-www-form-urlencoded;charset\x3dutf-8",headers:t,withCredentials:!0,success:function(q){z.stopTimer(z.METRIC_LATENCY_AJAX);v(q);r.onHttpSuccess(q);l.trigger(h.PRICE_TRACKER_IS_LOADED_EVENT_NAME)},error:function(q){z.stopTimer(z.METRIC_LATENCY_AJAX);v(q);r.onHttpError(q);l.trigger(h.PRICE_TRACKER_IS_LOADED_EVENT_NAME)}})}else r.onFailure(),l.trigger(h.PRICE_TRACKER_IS_LOADED_EVENT_NAME)}}}),
H.when("A","jQuery","price-tracker-graph-render","price-tracker-events-legend-render","price-tracker-header-render","price-tracker-description-render","price-tracker-helper","price-tracker-ui-helper","price-tracker-validator","price-tracker-constants","price-tracker-metrics").register("price-tracker-content-render",function(l,r,h,t,z,H,J,C,O,E,q){function e(e){try{v=e;var r=C.getDialogWidth(),y=C.getDialogHeight();C.isMobile()&&C.isLandscapeMode()&&!C.isTablet()&&q.logCountMetric(q.METRIC_MOBILE_LANDSCAPE);
var K=O.validate(e);if(K){var S=K.chart.eventSeries;z.renderHeader(K.title);H.renderDescription(K.description);t.renderLegend(K);h.renderChart(K.chart,S,r,y);J.getElementBasedOnDynamicID(E.PRICE_TRACKER_GRID_ID).show();l.trigger(E.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME)}else J.showFailureMessage(),J.logError("Price Tracker data is not valid.")}catch(Ba){C.isMobile()?q.logCountMetric(q.METRIC_MOBILE_FATAL):q.logCountMetric(q.METRIC_DESKTOP_FATAL),J.showFailureMessage(),J.logError("An error occurred while rendering Price Tracker.",
Ba)}}var v=void 0;return{renderContent:e,rerenderContent:function(){v&&e(v)},clearContent:function(){z.clearHeader();H.clearDescription();t.clearLegend();J.getElementBasedOnDynamicID(E.PRICE_TRACKER_GRID_ID).hide();J.hideFailureMessage();h.clearGraph()}}}),H.when("A","jQuery","price-tracker-helper","price-tracker-constants").register("price-tracker-description-render",function(l,r,h,t){return{renderDescription:function(l){l&&(l=h.parseRichContent(l))&&h.getElementBasedOnDynamicID(t.PRICE_TRACKER_DESCRIPTION_ID).text(l)},
clearDescription:function(){h.getElementBasedOnDynamicID(t.PRICE_TRACKER_DESCRIPTION_ID).text("")}}}),H.when("A","price-tracker-helper","price-tracker-constants","price-tracker-d3","price-tracker-data-helper").register("price-tracker-graph-render",function(l,r,h,t,z){function v(e,l){return r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_GRAPH_ID).attr("width",e).attr("height",l)}function H(e,l){var q=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_CONTENT_ID);q.empty()&&(q=e.append("g").attr("id",r.getDynamicID(h.PRICE_TRACKER_CONTENT_ID)));
return q.attr("transform","translate("+l.left+","+l.top+")")}function C(e,l){l&&(l=r.parseRichContent(l),r.getElementBasedOnDynamicID(h.PRICE_TRACKER_GRAPH_ID).attr("aria-label",l));e.attr("aria-hidden",!0)}function O(e){var h={};l.each(e,function(e){h[e.dateTick]=e});return h}function E(e){var h={};l.each(e.labels,function(e){h[e.dateTick]=e.label});return{values:h,tickValues:Object.keys(h),min:e.min,max:e.max}}function q(e){var h={};l.each(e.labels,function(e){h[e.value]=r.parseRichContent(e.label)});
return{values:h,tickValues:Object.keys(h),min:e.min,max:e.max}}function e(e){var h={};e&&l.each(e,function(e){h[e.type]=r.formatEvents(e)});return h}function y(e,l,q,v,y,z,B){l=t.scaleLinear().domain([v,y]).range([0,l]).clamp(!0);v=t.axisBottom(l);v.tickSize(0);y=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_X_AXIS_ID);y.empty()&&(y=e.append("g").attr("id",r.getDynamicID(h.PRICE_TRACKER_X_AXIS_ID)).attr("class",h.PRICE_TRACKER_X_AXIS_STYLE_CLASS));y=y.attr("transform","translate(0,"+q+")").call(v.ticks(B.length).tickValues(B).tickFormat(function(e){return z[e]}));
r.getD3ChildrenElementsBasedOnClass(y,h.PRICE_TRACKER_TICK_TEXT).attr("class",h.PRICE_TRACKER_X_AXIS_TICK_TEXT_CLASS).attr("y",h.PRICE_TRACKER_X_AXIS_TEXT_OFFSET);return l}function S(e,l,q,v,y,z,B){q=t.scaleLinear().domain([v,y]).range([q,0]);v=t.axisLeft(q);v.tickSize(-l);l=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_Y_AXIS_ID);l.empty()&&(l=e.append("g").attr("id",r.getDynamicID(h.PRICE_TRACKER_Y_AXIS_ID)).attr("class",h.PRICE_TRACKER_Y_AXIS_STYLE_CLASS));l=l.call(v.ticks(B.length).tickValues(B).tickFormat(function(e){return z[e]}));
r.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_TICK_LINE).attr("class",h.PRICE_TRACKER_Y_AXIS_TICK_LINE_CLASS);r.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_TICK_TEXT).attr("class",h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS);return q}function X(e,h){return t.line().x(function(h){return e(h.dateTick)}).y(function(e){return h(e.value)})}function Q(e,h,l){return t.line().x(function(h){return e(h.dateTick)}).y(function(e){return h(e.value)}).defined(function(e){return r.checkIfPointBelongsToEvent(l,
e)})}function K(e,l,q,t){r.getD3ChildrenElementsBasedOnClass(l,t).data(e).join(h.PRICE_TRACKER_PATH).attr("class",t).attr("d",q)}function N(e,l,q,t,v){r.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_TOUCHABLE_AREA_CLASS).data(e).join("rect").attr("class",h.PRICE_TRACKER_TOUCHABLE_AREA_CLASS).attr("x",function(e){return q(e.tick-.5)}).attr("width",function(){return q(1)}).attr("height",t).on("touchstart",function(e){return e.preventDefault()}).on("pointermove pointerdown",v.showAction).on("pointerup mouseout",
v.hideAction)}function V(e,l,q,v,y){var x=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_ID);x.empty()&&(x=q.append("g").attr("id",r.getDynamicID(h.PRICE_TRACKER_TOOLTIP_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_STYLE_CLASS));x=x.attr("opacity",0);var z=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_RECT_ID);z.empty()&&(z=x.append("rect").attr("id",r.getDynamicID(h.PRICE_TRACKER_TOOLTIP_RECT_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_RECT_STYLE_CLASS));var D=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_TEXT_ID);
D.empty()&&(D=x.append("text").attr("id",r.getDynamicID(h.PRICE_TRACKER_TOOLTIP_TEXT_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_TEXT_STYLE_CLASS));var B=r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_TOOLTIP_LINE_ID);B.empty()&&(B=q.append("line").attr("id",r.getDynamicID(h.PRICE_TRACKER_TOOLTIP_LINE_ID)).attr("class",h.PRICE_TRACKER_TOOLTIP_LINE_STYLE_CLASS));B=B.attr("opacity",0);return{tooltip:x,tooltipRect:z,tooltipText:D,tooltipLine:B,showAction:function(E,C){q.node().append(x.node());E=t.pointer(E)[0];
E=y.invert(E);var M=Object.keys(v);C=t.bisector(function(d){return d}).left;var I=C(M,E,1);C=M[I-1];I=M[I];I=E-C>I-E?I:C;E=y(I);C=Math.min.apply(null,M);M=Math.max.apply(null,M);I=v[r.clamp(I,C,M)];I=r.parseRichContent(I.label);if(0<I.length){D.text(I);var H=D.node().getComputedTextLength()+2*h.PRICE_TRACKER_TOOLTIP_TEXT_LEFT_PADDING;I=h.PRICE_TRACKER_TOOLTIP_VERTICAL_LINE_TOP_OFFSET;H={x:E-H/2,y:h.PRICE_TRACKER_TOOLTIP_TOP_OFFSET,width:H,height:l};D.attr("width",H.width).attr("y",h.PRICE_TRACKER_TOOLTIP_TEXT_TOP_PADDING).attr("x",
H.width/2);z.attr("width",H.width);t.select(this).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("r",h.PRICE_TRACKER_EVENT_SYMBOL_RADIUS_HIGHLIGHTED);x.attr("transform",r.tooltipTransform(H,-h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT,e+h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT-h.PRICE_TRACKER_TOOLTIP_SHADOW_X_OFFSET)).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",1);E=r.clamp(E,y(C),y(M));B.attr("x1",E).attr("y1",I).attr("x2",E).attr("y2",l).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",
1)}},hideAction:function(e,l){t.select(this).transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("r",h.PRICE_TRACKER_EVENT_SYMBOL_RADIUS);x.transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",0);B.transition().duration(h.PRICE_TRACKER_ANIMATION_DURATION).attr("opacity",0)}}}function Y(e,l,q,r,t,v){var x=[],y;for(y in e)if(e.hasOwnProperty(y)){var z=e[y],B=Q(r,t,z);K(q,l,B,h.PRICE_TRACKER_EVENT_TYPE_MAP[y].LINE_STYLE);x=x.concat(z)}da(x,l,r,t,v)}function da(e,l,q,t,
v){e=e.map(function(e){return{tick:e.startDateTick,value:e.value,type:e.type}});r.getD3ChildrenElementsBasedOnClass(l,h.PRICE_TRACKER_EVENT_SYMBOL_CLASS).data(e).join(h.PRICE_TRACKER_EVENT_CIRCLE).attr("class",function(e){return h.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].CSS_CLASS}).attr("cx",function(e){return q(e.tick)}).attr("cy",function(e){return t(e.value)}).attr("r",h.PRICE_TRACKER_EVENT_SYMBOL_RADIUS).on("touchstart",function(e){return e.preventDefault()}).on("pointermove",v.showAction).on("pointerup mouseout",
v.hideAction)}function B(e,l,q,r,t){var v=[];if(1<e.length)for(var x=0;x<e.length-1;x++){var y=e[x].reduce(function(e,h){return e.dateTick>h.dateTick?e:h}),z=e[x+1].reduce(function(e,h){return e.dateTick<h.dateTick?e:h});v.push(zc(y,z,r,t))}K(v,l,q,h.PRICE_TRACKER_NO_DATA_TREND_LINE_STYLE)}function zc(e,h,l,q){var t=r.buildRichContentFromText(z.getNoDataTooltipLabel()),v=(h.value-e.value)/(h.dateTick-e.dateTick),y=e.value,x=[e];for(e=e.dateTick+1;e<h.dateTick;++e){y+=v;var B={dateTick:e,label:t,value:y};
x.push(B);l.push({tick:e,value:y});q[e]=B}x.push(h);return x}function va(e){var q=t.select("body").append("svg").attr("width",0).attr("height",0).style("position","absolute"),r=0;l.each(e,function(e){q.append("text").attr("x",0).attr("y",0).attr("class",h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).text(e);e=q.select("."+h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).node().getComputedTextLength();e>r&&(r=e);q.select("."+h.PRICE_TRACKER_Y_AXIS_TICK_TEXT_CLASS).remove()});q.remove();return r}return{renderChart:function(l,
r,t,z){var x=E(l.xAxis),D=q(l.yAxis),I=va(D.values),J={top:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_TOP,right:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_RIGHT,bottom:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_BOTTOM,left:h.PRICE_TRACKER_GRAPH_WINDOW_PADDING_LEFT+I},Q=t-J.left-J.right;I=z-J.top-J.bottom;t=v(t,z);t=H(t,J);z=l.series.map(function(e){return e.points});if(0<z.length){var U=z.flat().sort(function(e,h){return e.dateTick-h.dateTick});J=O(U);U=U.map(function(e){return{tick:e.dateTick,value:e.value}});r=e(r);
x=y(t,Q,I,x.min,x.max,x.values,x.tickValues);D=S(t,Q,I,D.min,D.max,D.values,D.tickValues);var da=X(x,D);K(z,t,da,h.PRICE_TRACKER_TREND_LINE_STYLE);B(z,t,da,U,J);Q=V(Q,I,t,J,x);Y(r,t,z,x,D,Q);N(U,t,x,I,Q)}C(t,l.textualRepresentation)},clearGraph:function(){r.getD3ElementBasedOnDynamicID(h.PRICE_TRACKER_GRAPH_ID).selectAll("*").remove()}}}),H.when("A","jQuery","price-tracker-helper","price-tracker-constants","price-tracker-d3","price-tracker-events-legend-element-helper").register("price-tracker-events-legend-render",
function(l,r,h,t,z,H){function v(h,l){h.append(t.PRICE_TRACKER_EVENT_CIRCLE).attr("id",function(e){return t.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].SYMBOL_ID}).attr("class",function(e){return t.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].CSS_CLASS}).attr("r",t.PRICE_TRACKER_EVENT_SYMBOL_RADIUS).attr("cx",t.PRICE_TRACKER_SYMBOL_LEGEND_CX).attr("cy",t.PRICE_TRACKER_SYMBOL_LEGEND_CY).attr("x",l);return l+=parseInt(t.PRICE_TRACKER_SYMBOL_LEGEND_CX)+parseInt(t.PRICE_TRACKER_EVENT_SYMBOL_RADIUS)+t.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_SYMBOL_AND_LABEL}
function C(h,l,e,r){h.append("text").attr("class",function(e){return t.PRICE_TRACKER_EVENT_TYPE_MAP[e.type].LABEL_CLASS}).text(function(e){return e.label}).attr("x",l).attr("y",e);return l+=t.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS*r}function O(h,l,e){var q=t.PRICE_TRACKER_LEGEND_PADDING_BETWEEN_EVENTS,r=l.nodes();l.attr("transform",function(h,l){return"translate("+(z.sum(e,function(e,h){return h<l?r[h].getBBox().width:0})+q*l)+",0)"});h.attr("height",r[0].getBBox().height);h.attr("width",r.reduce(function(e,
h){return e+h.getBBox().width},0)+q*r.length)}return{renderLegend:function(r){r&&r.chart&&r.chart.eventSeries&&function(){var q=r.chart.eventSeries,e=h.getDynamicID(t.PRICE_TRACKER_LEGEND_ID);0===h.getElementBasedOnID(e).length&&function(){var y=h.getD3ElementBasedOnDynamicID(t.PRICE_TRACKER_LEGEND_COMPONENT_ID).append("svg").attr("id",h.getDynamicID(t.PRICE_TRACKER_LEGEND_SVG_ID)),z=y.append("g").attr("id",e).selectAll("g").data(q).enter().append("g"),E=0;l.each(q,function(e){E+=e.label.length});
var J=0,K=parseInt(t.PRICE_TRACKER_SYMBOL_LEGEND_CY),N=K+t.PRICE_TRACKER_LABEL_FROM_SYMBOL_Y_SHIFT;J=v(z,J);J=C(z,J,N,E);H.addDynamicLegendElements(z,J,K,N,q,r);l.on(t.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME,function(){O(y,z,q)});h.getElementBasedOnDynamicID(t.PRICE_TRACKER_LEGEND_SVG_ID).attr("aria-hidden",!0)}()}()},clearLegend:function(){h.getD3ElementBasedOnDynamicID(t.PRICE_TRACKER_LEGEND_COMPONENT_ID).selectAll("*").remove()}}}))});H.when("A","price-tracker-content-render","price-tracker-content-loader",
"price-tracker-helper","price-tracker-constants","price-tracker-metrics","price-tracker-latency-metrics").register("price-tracker-event-handler",function(l,v,r,h,t,z,N){function J(r){l.on(l.constants.BROWSER_EVENTS.RESIZE,C);h.registerEvent("a:popover:invisible:"+r,function(){l.off(l.constants.BROWSER_EVENTS.RESIZE,C);l.off(t.PRICE_TRACKER_GRID_SHOWN_EVENT_NAME);v.clearContent()});h.registerEvent(t.PRICE_TRACKER_IS_LOADED_EVENT_NAME,function(){z.stopTimer(N.METRIC_LATENCY_WIDGET)})}H.declare(t.PRICE_TRACKER_ASSETS_LOADED_STATE,
{isPriceTrackerAssetsLoaded:!0});var C=function(){v.rerenderContent()};return{renderPriceTracker:function(l){try{l&&l.data&&null!=l.data.buyingOptionIndex&&h.updateBuyingOptionIndex(l.data.buyingOptionIndex);var v=h.getDynamicID(t.PRICE_TRACKER_MODAL_NAME);J(v);r.loadPriceTracker(l)}catch(q){z.logCountMetric(z.METRIC_DESKTOP_FATAL),h.hideSpinner(),h.showFailureMessage(),z.stopTimer(N.METRIC_LATENCY_WIDGET),h.logError("An error occurred while loading Price Tracker on a desktop client.",q)}}}})});